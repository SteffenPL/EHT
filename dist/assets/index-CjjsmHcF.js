const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-DHPvZUrP.js","assets/webworkerAll-Dh0JF7Jz.js","assets/colorToUniform-GU0TEGiF.js","assets/WebGPURenderer-BO6OfZyl.js","assets/SharedSystems-BnJHQ7JA.js","assets/WebGLRenderer-b8HB2myL.js"])))=>i.map(i=>d[i]);
function _mergeNamespaces(E,_){for(var C=0;C<_.length;C++){const A=_[C];if(typeof A!="string"&&!Array.isArray(A)){for(const P in A)if(P!=="default"&&!(P in E)){const O=Object.getOwnPropertyDescriptor(A,P);O&&Object.defineProperty(E,P,O.get?O:{enumerable:!0,get:()=>A[P]})}}}return Object.freeze(Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}))}(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const P of document.querySelectorAll('link[rel="modulepreload"]'))A(P);new MutationObserver(P=>{for(const O of P)if(O.type==="childList")for(const z of O.addedNodes)z.tagName==="LINK"&&z.rel==="modulepreload"&&A(z)}).observe(document,{childList:!0,subtree:!0});function C(P){const O={};return P.integrity&&(O.integrity=P.integrity),P.referrerPolicy&&(O.referrerPolicy=P.referrerPolicy),P.crossOrigin==="use-credentials"?O.credentials="include":P.crossOrigin==="anonymous"?O.credentials="omit":O.credentials="same-origin",O}function A(P){if(P.ep)return;P.ep=!0;const O=C(P);fetch(P.href,O)}})();function getDefaultExportFromCjs(E){return E&&E.__esModule&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E}function getAugmentedNamespace(E){if(Object.prototype.hasOwnProperty.call(E,"__esModule"))return E;var _=E.default;if(typeof _=="function"){var C=function A(){var P=!1;try{P=this instanceof A}catch{}return P?Reflect.construct(_,arguments,this.constructor):_.apply(this,arguments)};C.prototype=_.prototype}else C={};return Object.defineProperty(C,"__esModule",{value:!0}),Object.keys(E).forEach(function(A){var P=Object.getOwnPropertyDescriptor(E,A);Object.defineProperty(C,A,P.get?P:{enumerable:!0,get:function(){return E[A]}})}),C}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var E=Symbol.for("react.transitional.element"),_=Symbol.for("react.fragment");function C(A,P,O){var z=null;if(O!==void 0&&(z=""+O),P.key!==void 0&&(z=""+P.key),"key"in P){O={};for(var I in P)I!=="key"&&(O[I]=P[I])}else O=P;return P=O.ref,{$$typeof:E,type:A,key:z,ref:P!==void 0?P:null,props:O}}return reactJsxRuntime_production.Fragment=_,reactJsxRuntime_production.jsx=C,reactJsxRuntime_production.jsxs=C,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var E=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),z=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),U=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),q=Symbol.iterator;function Y(ce){return ce===null||typeof ce!="object"?null:(ce=q&&ce[q]||ce["@@iterator"],typeof ce=="function"?ce:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,J={};function ee(ce,be,ve){this.props=ce,this.context=be,this.refs=J,this.updater=ve||W}ee.prototype.isReactComponent={},ee.prototype.setState=function(ce,be){if(typeof ce!="object"&&typeof ce!="function"&&ce!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ce,be,"setState")},ee.prototype.forceUpdate=function(ce){this.updater.enqueueForceUpdate(this,ce,"forceUpdate")};function ne(){}ne.prototype=ee.prototype;function se(ce,be,ve){this.props=ce,this.context=be,this.refs=J,this.updater=ve||W}var ie=se.prototype=new ne;ie.constructor=se,Q(ie,ee.prototype),ie.isPureReactComponent=!0;var fe=Array.isArray;function me(){}var le={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function ae(ce,be,ve){var je=ve.ref;return{$$typeof:E,type:ce,key:be,ref:je!==void 0?je:null,props:ve}}function ue(ce,be){return ae(ce.type,be,ce.props)}function xe(ce){return typeof ce=="object"&&ce!==null&&ce.$$typeof===E}function Ae(ce){var be={"=":"=0",":":"=2"};return"$"+ce.replace(/[=:]/g,function(ve){return be[ve]})}var he=/\/+/g;function Se(ce,be){return typeof ce=="object"&&ce!==null&&ce.key!=null?Ae(""+ce.key):be.toString(36)}function Pe(ce){switch(ce.status){case"fulfilled":return ce.value;case"rejected":throw ce.reason;default:switch(typeof ce.status=="string"?ce.then(me,me):(ce.status="pending",ce.then(function(be){ce.status==="pending"&&(ce.status="fulfilled",ce.value=be)},function(be){ce.status==="pending"&&(ce.status="rejected",ce.reason=be)})),ce.status){case"fulfilled":return ce.value;case"rejected":throw ce.reason}}throw ce}function oe(ce,be,ve,je,$e){var Be=typeof ce;(Be==="undefined"||Be==="boolean")&&(ce=null);var ke=!1;if(ce===null)ke=!0;else switch(Be){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(ce.$$typeof){case E:case _:ke=!0;break;case G:return ke=ce._init,oe(ke(ce._payload),be,ve,je,$e)}}if(ke)return $e=$e(ce),ke=je===""?"."+Se(ce,0):je,fe($e)?(ve="",ke!=null&&(ve=ke.replace(he,"$&/")+"/"),oe($e,be,ve,"",function(He){return He})):$e!=null&&(xe($e)&&($e=ue($e,ve+($e.key==null||ce&&ce.key===$e.key?"":(""+$e.key).replace(he,"$&/")+"/")+ke)),be.push($e)),1;ke=0;var Ie=je===""?".":je+":";if(fe(ce))for(var Le=0;Le<ce.length;Le++)je=ce[Le],Be=Ie+Se(je,Le),ke+=oe(je,be,ve,Be,$e);else if(Le=Y(ce),typeof Le=="function")for(ce=Le.call(ce),Le=0;!(je=ce.next()).done;)je=je.value,Be=Ie+Se(je,Le++),ke+=oe(je,be,ve,Be,$e);else if(Be==="object"){if(typeof ce.then=="function")return oe(Pe(ce),be,ve,je,$e);throw be=String(ce),Error("Objects are not valid as a React child (found: "+(be==="[object Object]"?"object with keys {"+Object.keys(ce).join(", ")+"}":be)+"). If you meant to render a collection of children, use an array instead.")}return ke}function de(ce,be,ve){if(ce==null)return ce;var je=[],$e=0;return oe(ce,je,"","",function(Be){return be.call(ve,Be,$e++)}),je}function ye(ce){if(ce._status===-1){var be=ce._result;be=be(),be.then(function(ve){(ce._status===0||ce._status===-1)&&(ce._status=1,ce._result=ve)},function(ve){(ce._status===0||ce._status===-1)&&(ce._status=2,ce._result=ve)}),ce._status===-1&&(ce._status=0,ce._result=be)}if(ce._status===1)return ce._result.default;throw ce._result}var we=typeof reportError=="function"?reportError:function(ce){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var be=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ce=="object"&&ce!==null&&typeof ce.message=="string"?String(ce.message):String(ce),error:ce});if(!window.dispatchEvent(be))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ce);return}console.error(ce)},ze={map:de,forEach:function(ce,be,ve){de(ce,function(){be.apply(this,arguments)},ve)},count:function(ce){var be=0;return de(ce,function(){be++}),be},toArray:function(ce){return de(ce,function(be){return be})||[]},only:function(ce){if(!xe(ce))throw Error("React.Children.only expected to receive a single React element child.");return ce}};return react_production.Activity=F,react_production.Children=ze,react_production.Component=ee,react_production.Fragment=C,react_production.Profiler=P,react_production.PureComponent=se,react_production.StrictMode=A,react_production.Suspense=B,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(ce){return le.H.useMemoCache(ce)}},react_production.cache=function(ce){return function(){return ce.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(ce,be,ve){if(ce==null)throw Error("The argument must be a React element, but you passed "+ce+".");var je=Q({},ce.props),$e=ce.key;if(be!=null)for(Be in be.key!==void 0&&($e=""+be.key),be)!te.call(be,Be)||Be==="key"||Be==="__self"||Be==="__source"||Be==="ref"&&be.ref===void 0||(je[Be]=be[Be]);var Be=arguments.length-2;if(Be===1)je.children=ve;else if(1<Be){for(var ke=Array(Be),Ie=0;Ie<Be;Ie++)ke[Ie]=arguments[Ie+2];je.children=ke}return ae(ce.type,$e,je)},react_production.createContext=function(ce){return ce={$$typeof:z,_currentValue:ce,_currentValue2:ce,_threadCount:0,Provider:null,Consumer:null},ce.Provider=ce,ce.Consumer={$$typeof:O,_context:ce},ce},react_production.createElement=function(ce,be,ve){var je,$e={},Be=null;if(be!=null)for(je in be.key!==void 0&&(Be=""+be.key),be)te.call(be,je)&&je!=="key"&&je!=="__self"&&je!=="__source"&&($e[je]=be[je]);var ke=arguments.length-2;if(ke===1)$e.children=ve;else if(1<ke){for(var Ie=Array(ke),Le=0;Le<ke;Le++)Ie[Le]=arguments[Le+2];$e.children=Ie}if(ce&&ce.defaultProps)for(je in ke=ce.defaultProps,ke)$e[je]===void 0&&($e[je]=ke[je]);return ae(ce,Be,$e)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(ce){return{$$typeof:I,render:ce}},react_production.isValidElement=xe,react_production.lazy=function(ce){return{$$typeof:G,_payload:{_status:-1,_result:ce},_init:ye}},react_production.memo=function(ce,be){return{$$typeof:U,type:ce,compare:be===void 0?null:be}},react_production.startTransition=function(ce){var be=le.T,ve={};le.T=ve;try{var je=ce(),$e=le.S;$e!==null&&$e(ve,je),typeof je=="object"&&je!==null&&typeof je.then=="function"&&je.then(me,we)}catch(Be){we(Be)}finally{be!==null&&ve.types!==null&&(be.types=ve.types),le.T=be}},react_production.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},react_production.use=function(ce){return le.H.use(ce)},react_production.useActionState=function(ce,be,ve){return le.H.useActionState(ce,be,ve)},react_production.useCallback=function(ce,be){return le.H.useCallback(ce,be)},react_production.useContext=function(ce){return le.H.useContext(ce)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(ce,be){return le.H.useDeferredValue(ce,be)},react_production.useEffect=function(ce,be){return le.H.useEffect(ce,be)},react_production.useEffectEvent=function(ce){return le.H.useEffectEvent(ce)},react_production.useId=function(){return le.H.useId()},react_production.useImperativeHandle=function(ce,be,ve){return le.H.useImperativeHandle(ce,be,ve)},react_production.useInsertionEffect=function(ce,be){return le.H.useInsertionEffect(ce,be)},react_production.useLayoutEffect=function(ce,be){return le.H.useLayoutEffect(ce,be)},react_production.useMemo=function(ce,be){return le.H.useMemo(ce,be)},react_production.useOptimistic=function(ce,be){return le.H.useOptimistic(ce,be)},react_production.useReducer=function(ce,be,ve){return le.H.useReducer(ce,be,ve)},react_production.useRef=function(ce){return le.H.useRef(ce)},react_production.useState=function(ce){return le.H.useState(ce)},react_production.useSyncExternalStore=function(ce,be,ve){return le.H.useSyncExternalStore(ce,be,ve)},react_production.useTransition=function(){return le.H.useTransition()},react_production.version="19.2.3",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(E){function _(oe,de){var ye=oe.length;oe.push(de);e:for(;0<ye;){var we=ye-1>>>1,ze=oe[we];if(0<P(ze,de))oe[we]=de,oe[ye]=ze,ye=we;else break e}}function C(oe){return oe.length===0?null:oe[0]}function A(oe){if(oe.length===0)return null;var de=oe[0],ye=oe.pop();if(ye!==de){oe[0]=ye;e:for(var we=0,ze=oe.length,ce=ze>>>1;we<ce;){var be=2*(we+1)-1,ve=oe[be],je=be+1,$e=oe[je];if(0>P(ve,ye))je<ze&&0>P($e,ve)?(oe[we]=$e,oe[je]=ye,we=je):(oe[we]=ve,oe[be]=ye,we=be);else if(je<ze&&0>P($e,ye))oe[we]=$e,oe[je]=ye,we=je;else break e}}return de}function P(oe,de){var ye=oe.sortIndex-de.sortIndex;return ye!==0?ye:oe.id-de.id}if(E.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var O=performance;E.unstable_now=function(){return O.now()}}else{var z=Date,I=z.now();E.unstable_now=function(){return z.now()-I}}var B=[],U=[],G=1,F=null,q=3,Y=!1,W=!1,Q=!1,J=!1,ee=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ie(oe){for(var de=C(U);de!==null;){if(de.callback===null)A(U);else if(de.startTime<=oe)A(U),de.sortIndex=de.expirationTime,_(B,de);else break;de=C(U)}}function fe(oe){if(Q=!1,ie(oe),!W)if(C(B)!==null)W=!0,me||(me=!0,Ae());else{var de=C(U);de!==null&&Pe(fe,de.startTime-oe)}}var me=!1,le=-1,te=5,ae=-1;function ue(){return J?!0:!(E.unstable_now()-ae<te)}function xe(){if(J=!1,me){var oe=E.unstable_now();ae=oe;var de=!0;try{e:{W=!1,Q&&(Q=!1,ne(le),le=-1),Y=!0;var ye=q;try{t:{for(ie(oe),F=C(B);F!==null&&!(F.expirationTime>oe&&ue());){var we=F.callback;if(typeof we=="function"){F.callback=null,q=F.priorityLevel;var ze=we(F.expirationTime<=oe);if(oe=E.unstable_now(),typeof ze=="function"){F.callback=ze,ie(oe),de=!0;break t}F===C(B)&&A(B),ie(oe)}else A(B);F=C(B)}if(F!==null)de=!0;else{var ce=C(U);ce!==null&&Pe(fe,ce.startTime-oe),de=!1}}break e}finally{F=null,q=ye,Y=!1}de=void 0}}finally{de?Ae():me=!1}}}var Ae;if(typeof se=="function")Ae=function(){se(xe)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Se=he.port2;he.port1.onmessage=xe,Ae=function(){Se.postMessage(null)}}else Ae=function(){ee(xe,0)};function Pe(oe,de){le=ee(function(){oe(E.unstable_now())},de)}E.unstable_IdlePriority=5,E.unstable_ImmediatePriority=1,E.unstable_LowPriority=4,E.unstable_NormalPriority=3,E.unstable_Profiling=null,E.unstable_UserBlockingPriority=2,E.unstable_cancelCallback=function(oe){oe.callback=null},E.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<oe?Math.floor(1e3/oe):5},E.unstable_getCurrentPriorityLevel=function(){return q},E.unstable_next=function(oe){switch(q){case 1:case 2:case 3:var de=3;break;default:de=q}var ye=q;q=de;try{return oe()}finally{q=ye}},E.unstable_requestPaint=function(){J=!0},E.unstable_runWithPriority=function(oe,de){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ye=q;q=oe;try{return de()}finally{q=ye}},E.unstable_scheduleCallback=function(oe,de,ye){var we=E.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?we+ye:we):ye=we,oe){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=ye+ze,oe={id:G++,callback:de,priorityLevel:oe,startTime:ye,expirationTime:ze,sortIndex:-1},ye>we?(oe.sortIndex=ye,_(U,oe),C(B)===null&&oe===C(U)&&(Q?(ne(le),le=-1):Q=!0,Pe(fe,ye-we))):(oe.sortIndex=ze,_(B,oe),W||Y||(W=!0,me||(me=!0,Ae()))),oe},E.unstable_shouldYield=ue,E.unstable_wrapCallback=function(oe){var de=q;return function(){var ye=q;q=de;try{return oe.apply(this,arguments)}finally{q=ye}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var E=requireReact();function _(B){var U="https://react.dev/errors/"+B;if(1<arguments.length){U+="?args[]="+encodeURIComponent(arguments[1]);for(var G=2;G<arguments.length;G++)U+="&args[]="+encodeURIComponent(arguments[G])}return"Minified React error #"+B+"; visit "+U+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function C(){}var A={d:{f:C,r:function(){throw Error(_(522))},D:C,C,L:C,m:C,X:C,S:C,M:C},p:0,findDOMNode:null},P=Symbol.for("react.portal");function O(B,U,G){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:F==null?null:""+F,children:B,containerInfo:U,implementation:G}}var z=E.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function I(B,U){if(B==="font")return"";if(typeof U=="string")return U==="use-credentials"?U:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,reactDom_production.createPortal=function(B,U){var G=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U||U.nodeType!==1&&U.nodeType!==9&&U.nodeType!==11)throw Error(_(299));return O(B,U,null,G)},reactDom_production.flushSync=function(B){var U=z.T,G=A.p;try{if(z.T=null,A.p=2,B)return B()}finally{z.T=U,A.p=G,A.d.f()}},reactDom_production.preconnect=function(B,U){typeof B=="string"&&(U?(U=U.crossOrigin,U=typeof U=="string"?U==="use-credentials"?U:"":void 0):U=null,A.d.C(B,U))},reactDom_production.prefetchDNS=function(B){typeof B=="string"&&A.d.D(B)},reactDom_production.preinit=function(B,U){if(typeof B=="string"&&U&&typeof U.as=="string"){var G=U.as,F=I(G,U.crossOrigin),q=typeof U.integrity=="string"?U.integrity:void 0,Y=typeof U.fetchPriority=="string"?U.fetchPriority:void 0;G==="style"?A.d.S(B,typeof U.precedence=="string"?U.precedence:void 0,{crossOrigin:F,integrity:q,fetchPriority:Y}):G==="script"&&A.d.X(B,{crossOrigin:F,integrity:q,fetchPriority:Y,nonce:typeof U.nonce=="string"?U.nonce:void 0})}},reactDom_production.preinitModule=function(B,U){if(typeof B=="string")if(typeof U=="object"&&U!==null){if(U.as==null||U.as==="script"){var G=I(U.as,U.crossOrigin);A.d.M(B,{crossOrigin:G,integrity:typeof U.integrity=="string"?U.integrity:void 0,nonce:typeof U.nonce=="string"?U.nonce:void 0})}}else U==null&&A.d.M(B)},reactDom_production.preload=function(B,U){if(typeof B=="string"&&typeof U=="object"&&U!==null&&typeof U.as=="string"){var G=U.as,F=I(G,U.crossOrigin);A.d.L(B,G,{crossOrigin:F,integrity:typeof U.integrity=="string"?U.integrity:void 0,nonce:typeof U.nonce=="string"?U.nonce:void 0,type:typeof U.type=="string"?U.type:void 0,fetchPriority:typeof U.fetchPriority=="string"?U.fetchPriority:void 0,referrerPolicy:typeof U.referrerPolicy=="string"?U.referrerPolicy:void 0,imageSrcSet:typeof U.imageSrcSet=="string"?U.imageSrcSet:void 0,imageSizes:typeof U.imageSizes=="string"?U.imageSizes:void 0,media:typeof U.media=="string"?U.media:void 0})}},reactDom_production.preloadModule=function(B,U){if(typeof B=="string")if(U){var G=I(U.as,U.crossOrigin);A.d.m(B,{as:typeof U.as=="string"&&U.as!=="script"?U.as:void 0,crossOrigin:G,integrity:typeof U.integrity=="string"?U.integrity:void 0})}else A.d.m(B)},reactDom_production.requestFormReset=function(B){A.d.r(B)},reactDom_production.unstable_batchedUpdates=function(B,U){return B(U)},reactDom_production.useFormState=function(B,U,G){return z.H.useFormState(B,U,G)},reactDom_production.useFormStatus=function(){return z.H.useHostTransitionStatus()},reactDom_production.version="19.2.3",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function E(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E)}catch(_){console.error(_)}}return E(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var E=requireScheduler(),_=requireReact(),C=requireReactDom();function A(T){var R="https://react.dev/errors/"+T;if(1<arguments.length){R+="?args[]="+encodeURIComponent(arguments[1]);for(var D=2;D<arguments.length;D++)R+="&args[]="+encodeURIComponent(arguments[D])}return"Minified React error #"+T+"; visit "+R+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function P(T){return!(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)}function O(T){var R=T,D=T;if(T.alternate)for(;R.return;)R=R.return;else{T=R;do R=T,(R.flags&4098)!==0&&(D=R.return),T=R.return;while(T)}return R.tag===3?D:null}function z(T){if(T.tag===13){var R=T.memoizedState;if(R===null&&(T=T.alternate,T!==null&&(R=T.memoizedState)),R!==null)return R.dehydrated}return null}function I(T){if(T.tag===31){var R=T.memoizedState;if(R===null&&(T=T.alternate,T!==null&&(R=T.memoizedState)),R!==null)return R.dehydrated}return null}function B(T){if(O(T)!==T)throw Error(A(188))}function U(T){var R=T.alternate;if(!R){if(R=O(T),R===null)throw Error(A(188));return R!==T?null:T}for(var D=T,L=R;;){var V=D.return;if(V===null)break;var Z=V.alternate;if(Z===null){if(L=V.return,L!==null){D=L;continue}break}if(V.child===Z.child){for(Z=V.child;Z;){if(Z===D)return B(V),T;if(Z===L)return B(V),R;Z=Z.sibling}throw Error(A(188))}if(D.return!==L.return)D=V,L=Z;else{for(var K=!1,re=V.child;re;){if(re===D){K=!0,D=V,L=Z;break}if(re===L){K=!0,L=V,D=Z;break}re=re.sibling}if(!K){for(re=Z.child;re;){if(re===D){K=!0,D=Z,L=V;break}if(re===L){K=!0,L=Z,D=V;break}re=re.sibling}if(!K)throw Error(A(189))}}if(D.alternate!==L)throw Error(A(190))}if(D.tag!==3)throw Error(A(188));return D.stateNode.current===D?T:R}function G(T){var R=T.tag;if(R===5||R===26||R===27||R===6)return T;for(T=T.child;T!==null;){if(R=G(T),R!==null)return R;T=T.sibling}return null}var F=Object.assign,q=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function Ae(T){return T===null||typeof T!="object"?null:(T=xe&&T[xe]||T["@@iterator"],typeof T=="function"?T:null)}var he=Symbol.for("react.client.reference");function Se(T){if(T==null)return null;if(typeof T=="function")return T.$$typeof===he?null:T.displayName||T.name||null;if(typeof T=="string")return T;switch(T){case Q:return"Fragment";case ee:return"Profiler";case J:return"StrictMode";case fe:return"Suspense";case me:return"SuspenseList";case ae:return"Activity"}if(typeof T=="object")switch(T.$$typeof){case W:return"Portal";case se:return T.displayName||"Context";case ne:return(T._context.displayName||"Context")+".Consumer";case ie:var R=T.render;return T=T.displayName,T||(T=R.displayName||R.name||"",T=T!==""?"ForwardRef("+T+")":"ForwardRef"),T;case le:return R=T.displayName||null,R!==null?R:Se(T.type)||"Memo";case te:R=T._payload,T=T._init;try{return Se(T(R))}catch{}}return null}var Pe=Array.isArray,oe=_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=C.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},we=[],ze=-1;function ce(T){return{current:T}}function be(T){0>ze||(T.current=we[ze],we[ze]=null,ze--)}function ve(T,R){ze++,we[ze]=T.current,T.current=R}var je=ce(null),$e=ce(null),Be=ce(null),ke=ce(null);function Ie(T,R){switch(ve(Be,R),ve($e,T),ve(je,null),R.nodeType){case 9:case 11:T=(T=R.documentElement)&&(T=T.namespaceURI)?_f(T):0;break;default:if(T=R.tagName,R=R.namespaceURI)R=_f(R),T=bf(R,T);else switch(T){case"svg":T=1;break;case"math":T=2;break;default:T=0}}be(je),ve(je,T)}function Le(){be(je),be($e),be(Be)}function He(T){T.memoizedState!==null&&ve(ke,T);var R=je.current,D=bf(R,T.type);R!==D&&(ve($e,T),ve(je,D))}function De(T){$e.current===T&&(be(je),be($e)),ke.current===T&&(be(ke),di._currentValue=ye)}var Ve,Ke;function qe(T){if(Ve===void 0)try{throw Error()}catch(D){var R=D.stack.trim().match(/\n( *(at )?)/);Ve=R&&R[1]||"",Ke=-1<D.stack.indexOf(`
    at`)?" (<anonymous>)":-1<D.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+T+Ke}var Qe=!1;function Xe(T,R){if(!T||Qe)return"";Qe=!0;var D=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var L={DetermineComponentFrameRoot:function(){try{if(R){var Oe=function(){throw Error()};if(Object.defineProperty(Oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Oe,[])}catch(Re){var Te=Re}Reflect.construct(T,[],Oe)}else{try{Oe.call()}catch(Re){Te=Re}T.call(Oe.prototype)}}else{try{throw Error()}catch(Re){Te=Re}(Oe=T())&&typeof Oe.catch=="function"&&Oe.catch(function(){})}}catch(Re){if(Re&&Te&&typeof Re.stack=="string")return[Re.stack,Te.stack]}return[null,null]}};L.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var V=Object.getOwnPropertyDescriptor(L.DetermineComponentFrameRoot,"name");V&&V.configurable&&Object.defineProperty(L.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Z=L.DetermineComponentFrameRoot(),K=Z[0],re=Z[1];if(K&&re){var pe=K.split(`
`),Ce=re.split(`
`);for(V=L=0;L<pe.length&&!pe[L].includes("DetermineComponentFrameRoot");)L++;for(;V<Ce.length&&!Ce[V].includes("DetermineComponentFrameRoot");)V++;if(L===pe.length||V===Ce.length)for(L=pe.length-1,V=Ce.length-1;1<=L&&0<=V&&pe[L]!==Ce[V];)V--;for(;1<=L&&0<=V;L--,V--)if(pe[L]!==Ce[V]){if(L!==1||V!==1)do if(L--,V--,0>V||pe[L]!==Ce[V]){var Me=`
`+pe[L].replace(" at new "," at ");return T.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",T.displayName)),Me}while(1<=L&&0<=V);break}}}finally{Qe=!1,Error.prepareStackTrace=D}return(D=T?T.displayName||T.name:"")?qe(D):""}function At(T,R){switch(T.tag){case 26:case 27:case 5:return qe(T.type);case 16:return qe("Lazy");case 13:return T.child!==R&&R!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return Xe(T.type,!1);case 11:return Xe(T.type.render,!1);case 1:return Xe(T.type,!0);case 31:return qe("Activity");default:return""}}function We(T){try{var R="",D=null;do R+=At(T,D),D=T,T=T.return;while(T);return R}catch(L){return`
Error generating stack: `+L.message+`
`+L.stack}}var ft=Object.prototype.hasOwnProperty,sr=E.unstable_scheduleCallback,Sr=E.unstable_cancelCallback,ir=E.unstable_shouldYield,bn=E.unstable_requestPaint,ct=E.unstable_now,ar=E.unstable_getCurrentPriorityLevel,St=E.unstable_ImmediatePriority,jt=E.unstable_UserBlockingPriority,Ut=E.unstable_NormalPriority,Cs=E.unstable_LowPriority,As=E.unstable_IdlePriority,Zr=E.log,or=E.unstable_setDisableYieldValue,yr=null,Lt=null;function qr(T){if(typeof Zr=="function"&&or(T),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(yr,T)}catch{}}var Xt=Math.clz32?Math.clz32:id,nd=Math.log,sd=Math.LN2;function id(T){return T>>>=0,T===0?32:31-(nd(T)/sd|0)|0}var _i=256,bi=262144,vi=4194304;function vn(T){var R=T&42;if(R!==0)return R;switch(T&-T){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return T&261888;case 262144:case 524288:case 1048576:case 2097152:return T&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return T&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return T}}function Si(T,R,D){var L=T.pendingLanes;if(L===0)return 0;var V=0,Z=T.suspendedLanes,K=T.pingedLanes;T=T.warmLanes;var re=L&134217727;return re!==0?(L=re&~Z,L!==0?V=vn(L):(K&=re,K!==0?V=vn(K):D||(D=re&~T,D!==0&&(V=vn(D))))):(re=L&~Z,re!==0?V=vn(re):K!==0?V=vn(K):D||(D=L&~T,D!==0&&(V=vn(D)))),V===0?0:R!==0&&R!==V&&(R&Z)===0&&(Z=V&-V,D=R&-R,Z>=D||Z===32&&(D&4194048)!==0)?R:V}function Ts(T,R){return(T.pendingLanes&~(T.suspendedLanes&~T.pingedLanes)&R)===0}function ad(T,R){switch(T){case 1:case 2:case 4:case 8:case 64:return R+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return R+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jl(){var T=vi;return vi<<=1,(vi&62914560)===0&&(vi=4194304),T}function Da(T){for(var R=[],D=0;31>D;D++)R.push(T);return R}function ws(T,R){T.pendingLanes|=R,R!==268435456&&(T.suspendedLanes=0,T.pingedLanes=0,T.warmLanes=0)}function od(T,R,D,L,V,Z){var K=T.pendingLanes;T.pendingLanes=D,T.suspendedLanes=0,T.pingedLanes=0,T.warmLanes=0,T.expiredLanes&=D,T.entangledLanes&=D,T.errorRecoveryDisabledLanes&=D,T.shellSuspendCounter=0;var re=T.entanglements,pe=T.expirationTimes,Ce=T.hiddenUpdates;for(D=K&~D;0<D;){var Me=31-Xt(D),Oe=1<<Me;re[Me]=0,pe[Me]=-1;var Te=Ce[Me];if(Te!==null)for(Ce[Me]=null,Me=0;Me<Te.length;Me++){var Re=Te[Me];Re!==null&&(Re.lane&=-536870913)}D&=~Oe}L!==0&&ec(T,L,0),Z!==0&&V===0&&T.tag!==0&&(T.suspendedLanes|=Z&~(K&~R))}function ec(T,R,D){T.pendingLanes|=R,T.suspendedLanes&=~R;var L=31-Xt(R);T.entangledLanes|=R,T.entanglements[L]=T.entanglements[L]|1073741824|D&261930}function tc(T,R){var D=T.entangledLanes|=R;for(T=T.entanglements;D;){var L=31-Xt(D),V=1<<L;V&R|T[L]&R&&(T[L]|=R),D&=~V}}function rc(T,R){var D=R&-R;return D=(D&42)!==0?1:za(D),(D&(T.suspendedLanes|R))!==0?0:D}function za(T){switch(T){case 2:T=1;break;case 8:T=4;break;case 32:T=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:T=128;break;case 268435456:T=134217728;break;default:T=0}return T}function Ia(T){return T&=-T,2<T?8<T?(T&134217727)!==0?32:268435456:8:2}function nc(){var T=de.p;return T!==0?T:(T=window.event,T===void 0?32:Gf(T.type))}function sc(T,R){var D=de.p;try{return de.p=T,R()}finally{de.p=D}}var Yr=Math.random().toString(36).slice(2),kt="__reactFiber$"+Yr,Ht="__reactProps$"+Yr,Ln="__reactContainer$"+Yr,La="__reactEvents$"+Yr,ld="__reactListeners$"+Yr,cd="__reactHandles$"+Yr,ic="__reactResources$"+Yr,Rs="__reactMarker$"+Yr;function Ba(T){delete T[kt],delete T[Ht],delete T[La],delete T[ld],delete T[cd]}function Bn(T){var R=T[kt];if(R)return R;for(var D=T.parentNode;D;){if(R=D[Ln]||D[kt]){if(D=R.alternate,R.child!==null||D!==null&&D.child!==null)for(T=wf(T);T!==null;){if(D=T[kt])return D;T=wf(T)}return R}T=D,D=T.parentNode}return null}function Un(T){if(T=T[kt]||T[Ln]){var R=T.tag;if(R===5||R===6||R===13||R===31||R===26||R===27||R===3)return T}return null}function Ms(T){var R=T.tag;if(R===5||R===26||R===27||R===6)return T.stateNode;throw Error(A(33))}function Hn(T){var R=T[ic];return R||(R=T[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),R}function Pt(T){T[Rs]=!0}var ac=new Set,oc={};function Sn(T,R){Gn(T,R),Gn(T+"Capture",R)}function Gn(T,R){for(oc[T]=R,T=0;T<R.length;T++)ac.add(R[T])}var ud=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lc={},cc={};function hd(T){return ft.call(cc,T)?!0:ft.call(lc,T)?!1:ud.test(T)?cc[T]=!0:(lc[T]=!0,!1)}function Ei(T,R,D){if(hd(R))if(D===null)T.removeAttribute(R);else{switch(typeof D){case"undefined":case"function":case"symbol":T.removeAttribute(R);return;case"boolean":var L=R.toLowerCase().slice(0,5);if(L!=="data-"&&L!=="aria-"){T.removeAttribute(R);return}}T.setAttribute(R,""+D)}}function Ci(T,R,D){if(D===null)T.removeAttribute(R);else{switch(typeof D){case"undefined":case"function":case"symbol":case"boolean":T.removeAttribute(R);return}T.setAttribute(R,""+D)}}function Rr(T,R,D,L){if(L===null)T.removeAttribute(D);else{switch(typeof L){case"undefined":case"function":case"symbol":case"boolean":T.removeAttribute(D);return}T.setAttributeNS(R,D,""+L)}}function lr(T){switch(typeof T){case"bigint":case"boolean":case"number":case"string":case"undefined":return T;case"object":return T;default:return""}}function uc(T){var R=T.type;return(T=T.nodeName)&&T.toLowerCase()==="input"&&(R==="checkbox"||R==="radio")}function fd(T,R,D){var L=Object.getOwnPropertyDescriptor(T.constructor.prototype,R);if(!T.hasOwnProperty(R)&&typeof L<"u"&&typeof L.get=="function"&&typeof L.set=="function"){var V=L.get,Z=L.set;return Object.defineProperty(T,R,{configurable:!0,get:function(){return V.call(this)},set:function(K){D=""+K,Z.call(this,K)}}),Object.defineProperty(T,R,{enumerable:L.enumerable}),{getValue:function(){return D},setValue:function(K){D=""+K},stopTracking:function(){T._valueTracker=null,delete T[R]}}}}function Ua(T){if(!T._valueTracker){var R=uc(T)?"checked":"value";T._valueTracker=fd(T,R,""+T[R])}}function hc(T){if(!T)return!1;var R=T._valueTracker;if(!R)return!0;var D=R.getValue(),L="";return T&&(L=uc(T)?T.checked?"true":"false":T.value),T=L,T!==D?(R.setValue(T),!0):!1}function Ai(T){if(T=T||(typeof document<"u"?document:void 0),typeof T>"u")return null;try{return T.activeElement||T.body}catch{return T.body}}var dd=/[\n"\\]/g;function cr(T){return T.replace(dd,function(R){return"\\"+R.charCodeAt(0).toString(16)+" "})}function Ha(T,R,D,L,V,Z,K,re){T.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?T.type=K:T.removeAttribute("type"),R!=null?K==="number"?(R===0&&T.value===""||T.value!=R)&&(T.value=""+lr(R)):T.value!==""+lr(R)&&(T.value=""+lr(R)):K!=="submit"&&K!=="reset"||T.removeAttribute("value"),R!=null?Ga(T,K,lr(R)):D!=null?Ga(T,K,lr(D)):L!=null&&T.removeAttribute("value"),V==null&&Z!=null&&(T.defaultChecked=!!Z),V!=null&&(T.checked=V&&typeof V!="function"&&typeof V!="symbol"),re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"?T.name=""+lr(re):T.removeAttribute("name")}function fc(T,R,D,L,V,Z,K,re){if(Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(T.type=Z),R!=null||D!=null){if(!(Z!=="submit"&&Z!=="reset"||R!=null)){Ua(T);return}D=D!=null?""+lr(D):"",R=R!=null?""+lr(R):D,re||R===T.value||(T.value=R),T.defaultValue=R}L=L??V,L=typeof L!="function"&&typeof L!="symbol"&&!!L,T.checked=re?T.checked:!!L,T.defaultChecked=!!L,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(T.name=K),Ua(T)}function Ga(T,R,D){R==="number"&&Ai(T.ownerDocument)===T||T.defaultValue===""+D||(T.defaultValue=""+D)}function Vn(T,R,D,L){if(T=T.options,R){R={};for(var V=0;V<D.length;V++)R["$"+D[V]]=!0;for(D=0;D<T.length;D++)V=R.hasOwnProperty("$"+T[D].value),T[D].selected!==V&&(T[D].selected=V),V&&L&&(T[D].defaultSelected=!0)}else{for(D=""+lr(D),R=null,V=0;V<T.length;V++){if(T[V].value===D){T[V].selected=!0,L&&(T[V].defaultSelected=!0);return}R!==null||T[V].disabled||(R=T[V])}R!==null&&(R.selected=!0)}}function dc(T,R,D){if(R!=null&&(R=""+lr(R),R!==T.value&&(T.value=R),D==null)){T.defaultValue!==R&&(T.defaultValue=R);return}T.defaultValue=D!=null?""+lr(D):""}function pc(T,R,D,L){if(R==null){if(L!=null){if(D!=null)throw Error(A(92));if(Pe(L)){if(1<L.length)throw Error(A(93));L=L[0]}D=L}D==null&&(D=""),R=D}D=lr(R),T.defaultValue=D,L=T.textContent,L===D&&L!==""&&L!==null&&(T.value=L),Ua(T)}function Fn(T,R){if(R){var D=T.firstChild;if(D&&D===T.lastChild&&D.nodeType===3){D.nodeValue=R;return}}T.textContent=R}var pd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mc(T,R,D){var L=R.indexOf("--")===0;D==null||typeof D=="boolean"||D===""?L?T.setProperty(R,""):R==="float"?T.cssFloat="":T[R]="":L?T.setProperty(R,D):typeof D!="number"||D===0||pd.has(R)?R==="float"?T.cssFloat=D:T[R]=(""+D).trim():T[R]=D+"px"}function gc(T,R,D){if(R!=null&&typeof R!="object")throw Error(A(62));if(T=T.style,D!=null){for(var L in D)!D.hasOwnProperty(L)||R!=null&&R.hasOwnProperty(L)||(L.indexOf("--")===0?T.setProperty(L,""):L==="float"?T.cssFloat="":T[L]="");for(var V in R)L=R[V],R.hasOwnProperty(V)&&D[V]!==L&&mc(T,V,L)}else for(var Z in R)R.hasOwnProperty(Z)&&mc(T,Z,R[Z])}function Va(T){if(T.indexOf("-")===-1)return!1;switch(T){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var md=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ti(T){return gd.test(""+T)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":T}function Mr(){}var Fa=null;function Za(T){return T=T.target||T.srcElement||window,T.correspondingUseElement&&(T=T.correspondingUseElement),T.nodeType===3?T.parentNode:T}var Zn=null,qn=null;function xc(T){var R=Un(T);if(R&&(T=R.stateNode)){var D=T[Ht]||null;e:switch(T=R.stateNode,R.type){case"input":if(Ha(T,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name),R=D.name,D.type==="radio"&&R!=null){for(D=T;D.parentNode;)D=D.parentNode;for(D=D.querySelectorAll('input[name="'+cr(""+R)+'"][type="radio"]'),R=0;R<D.length;R++){var L=D[R];if(L!==T&&L.form===T.form){var V=L[Ht]||null;if(!V)throw Error(A(90));Ha(L,V.value,V.defaultValue,V.defaultValue,V.checked,V.defaultChecked,V.type,V.name)}}for(R=0;R<D.length;R++)L=D[R],L.form===T.form&&hc(L)}break e;case"textarea":dc(T,D.value,D.defaultValue);break e;case"select":R=D.value,R!=null&&Vn(T,!!D.multiple,R,!1)}}}var qa=!1;function yc(T,R,D){if(qa)return T(R,D);qa=!0;try{var L=T(R);return L}finally{if(qa=!1,(Zn!==null||qn!==null)&&(da(),Zn&&(R=Zn,T=qn,qn=Zn=null,xc(R),T)))for(R=0;R<T.length;R++)xc(T[R])}}function Ns(T,R){var D=T.stateNode;if(D===null)return null;var L=D[Ht]||null;if(L===null)return null;D=L[R];e:switch(R){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(T=T.type,L=!(T==="button"||T==="input"||T==="select"||T==="textarea")),T=!L;break e;default:T=!1}if(T)return null;if(D&&typeof D!="function")throw Error(A(231,R,typeof D));return D}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=!1;if(Nr)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{Ya=!1}var Xr=null,Xa=null,wi=null;function _c(){if(wi)return wi;var T,R=Xa,D=R.length,L,V="value"in Xr?Xr.value:Xr.textContent,Z=V.length;for(T=0;T<D&&R[T]===V[T];T++);var K=D-T;for(L=1;L<=K&&R[D-L]===V[Z-L];L++);return wi=V.slice(T,1<L?1-L:void 0)}function Ri(T){var R=T.keyCode;return"charCode"in T?(T=T.charCode,T===0&&R===13&&(T=13)):T=R,T===10&&(T=13),32<=T||T===13?T:0}function Mi(){return!0}function bc(){return!1}function Gt(T){function R(D,L,V,Z,K){this._reactName=D,this._targetInst=V,this.type=L,this.nativeEvent=Z,this.target=K,this.currentTarget=null;for(var re in T)T.hasOwnProperty(re)&&(D=T[re],this[re]=D?D(Z):Z[re]);return this.isDefaultPrevented=(Z.defaultPrevented!=null?Z.defaultPrevented:Z.returnValue===!1)?Mi:bc,this.isPropagationStopped=bc,this}return F(R.prototype,{preventDefault:function(){this.defaultPrevented=!0;var D=this.nativeEvent;D&&(D.preventDefault?D.preventDefault():typeof D.returnValue!="unknown"&&(D.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var D=this.nativeEvent;D&&(D.stopPropagation?D.stopPropagation():typeof D.cancelBubble!="unknown"&&(D.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),R}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(T){return T.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Gt(En),Os=F({},En,{view:0,detail:0}),xd=Gt(Os),Wa,Ka,js,Pi=F({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(T){return T.relatedTarget===void 0?T.fromElement===T.srcElement?T.toElement:T.fromElement:T.relatedTarget},movementX:function(T){return"movementX"in T?T.movementX:(T!==js&&(js&&T.type==="mousemove"?(Wa=T.screenX-js.screenX,Ka=T.screenY-js.screenY):Ka=Wa=0,js=T),Wa)},movementY:function(T){return"movementY"in T?T.movementY:Ka}}),vc=Gt(Pi),yd=F({},Pi,{dataTransfer:0}),_d=Gt(yd),bd=F({},Os,{relatedTarget:0}),Qa=Gt(bd),vd=F({},En,{animationName:0,elapsedTime:0,pseudoElement:0}),Sd=Gt(vd),Ed=F({},En,{clipboardData:function(T){return"clipboardData"in T?T.clipboardData:window.clipboardData}}),Cd=Gt(Ed),Ad=F({},En,{data:0}),Sc=Gt(Ad),Td={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Md(T){var R=this.nativeEvent;return R.getModifierState?R.getModifierState(T):(T=Rd[T])?!!R[T]:!1}function Ja(){return Md}var Nd=F({},Os,{key:function(T){if(T.key){var R=Td[T.key]||T.key;if(R!=="Unidentified")return R}return T.type==="keypress"?(T=Ri(T),T===13?"Enter":String.fromCharCode(T)):T.type==="keydown"||T.type==="keyup"?wd[T.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(T){return T.type==="keypress"?Ri(T):0},keyCode:function(T){return T.type==="keydown"||T.type==="keyup"?T.keyCode:0},which:function(T){return T.type==="keypress"?Ri(T):T.type==="keydown"||T.type==="keyup"?T.keyCode:0}}),Pd=Gt(Nd),Od=F({},Pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ec=Gt(Od),jd=F({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),kd=Gt(jd),$d=F({},En,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dd=Gt($d),zd=F({},Pi,{deltaX:function(T){return"deltaX"in T?T.deltaX:"wheelDeltaX"in T?-T.wheelDeltaX:0},deltaY:function(T){return"deltaY"in T?T.deltaY:"wheelDeltaY"in T?-T.wheelDeltaY:"wheelDelta"in T?-T.wheelDelta:0},deltaZ:0,deltaMode:0}),Id=Gt(zd),Ld=F({},En,{newState:0,oldState:0}),Bd=Gt(Ld),Ud=[9,13,27,32],eo=Nr&&"CompositionEvent"in window,ks=null;Nr&&"documentMode"in document&&(ks=document.documentMode);var Hd=Nr&&"TextEvent"in window&&!ks,Cc=Nr&&(!eo||ks&&8<ks&&11>=ks),Ac=" ",Tc=!1;function wc(T,R){switch(T){case"keyup":return Ud.indexOf(R.keyCode)!==-1;case"keydown":return R.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rc(T){return T=T.detail,typeof T=="object"&&"data"in T?T.data:null}var Yn=!1;function Gd(T,R){switch(T){case"compositionend":return Rc(R);case"keypress":return R.which!==32?null:(Tc=!0,Ac);case"textInput":return T=R.data,T===Ac&&Tc?null:T;default:return null}}function Vd(T,R){if(Yn)return T==="compositionend"||!eo&&wc(T,R)?(T=_c(),wi=Xa=Xr=null,Yn=!1,T):null;switch(T){case"paste":return null;case"keypress":if(!(R.ctrlKey||R.altKey||R.metaKey)||R.ctrlKey&&R.altKey){if(R.char&&1<R.char.length)return R.char;if(R.which)return String.fromCharCode(R.which)}return null;case"compositionend":return Cc&&R.locale!=="ko"?null:R.data;default:return null}}var Fd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mc(T){var R=T&&T.nodeName&&T.nodeName.toLowerCase();return R==="input"?!!Fd[T.type]:R==="textarea"}function Nc(T,R,D,L){Zn?qn?qn.push(L):qn=[L]:Zn=L,R=va(R,"onChange"),0<R.length&&(D=new Ni("onChange","change",null,D,L),T.push({event:D,listeners:R}))}var $s=null,Ds=null;function Zd(T){df(T,0)}function Oi(T){var R=Ms(T);if(hc(R))return T}function Pc(T,R){if(T==="change")return R}var Oc=!1;if(Nr){var to;if(Nr){var ro="oninput"in document;if(!ro){var jc=document.createElement("div");jc.setAttribute("oninput","return;"),ro=typeof jc.oninput=="function"}to=ro}else to=!1;Oc=to&&(!document.documentMode||9<document.documentMode)}function kc(){$s&&($s.detachEvent("onpropertychange",$c),Ds=$s=null)}function $c(T){if(T.propertyName==="value"&&Oi(Ds)){var R=[];Nc(R,Ds,T,Za(T)),yc(Zd,R)}}function qd(T,R,D){T==="focusin"?(kc(),$s=R,Ds=D,$s.attachEvent("onpropertychange",$c)):T==="focusout"&&kc()}function Yd(T){if(T==="selectionchange"||T==="keyup"||T==="keydown")return Oi(Ds)}function Xd(T,R){if(T==="click")return Oi(R)}function Wd(T,R){if(T==="input"||T==="change")return Oi(R)}function Kd(T,R){return T===R&&(T!==0||1/T===1/R)||T!==T&&R!==R}var Wt=typeof Object.is=="function"?Object.is:Kd;function zs(T,R){if(Wt(T,R))return!0;if(typeof T!="object"||T===null||typeof R!="object"||R===null)return!1;var D=Object.keys(T),L=Object.keys(R);if(D.length!==L.length)return!1;for(L=0;L<D.length;L++){var V=D[L];if(!ft.call(R,V)||!Wt(T[V],R[V]))return!1}return!0}function Dc(T){for(;T&&T.firstChild;)T=T.firstChild;return T}function zc(T,R){var D=Dc(T);T=0;for(var L;D;){if(D.nodeType===3){if(L=T+D.textContent.length,T<=R&&L>=R)return{node:D,offset:R-T};T=L}e:{for(;D;){if(D.nextSibling){D=D.nextSibling;break e}D=D.parentNode}D=void 0}D=Dc(D)}}function Ic(T,R){return T&&R?T===R?!0:T&&T.nodeType===3?!1:R&&R.nodeType===3?Ic(T,R.parentNode):"contains"in T?T.contains(R):T.compareDocumentPosition?!!(T.compareDocumentPosition(R)&16):!1:!1}function Lc(T){T=T!=null&&T.ownerDocument!=null&&T.ownerDocument.defaultView!=null?T.ownerDocument.defaultView:window;for(var R=Ai(T.document);R instanceof T.HTMLIFrameElement;){try{var D=typeof R.contentWindow.location.href=="string"}catch{D=!1}if(D)T=R.contentWindow;else break;R=Ai(T.document)}return R}function no(T){var R=T&&T.nodeName&&T.nodeName.toLowerCase();return R&&(R==="input"&&(T.type==="text"||T.type==="search"||T.type==="tel"||T.type==="url"||T.type==="password")||R==="textarea"||T.contentEditable==="true")}var Qd=Nr&&"documentMode"in document&&11>=document.documentMode,Xn=null,so=null,Is=null,io=!1;function Bc(T,R,D){var L=D.window===D?D.document:D.nodeType===9?D:D.ownerDocument;io||Xn==null||Xn!==Ai(L)||(L=Xn,"selectionStart"in L&&no(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),Is&&zs(Is,L)||(Is=L,L=va(so,"onSelect"),0<L.length&&(R=new Ni("onSelect","select",null,R,D),T.push({event:R,listeners:L}),R.target=Xn)))}function Cn(T,R){var D={};return D[T.toLowerCase()]=R.toLowerCase(),D["Webkit"+T]="webkit"+R,D["Moz"+T]="moz"+R,D}var Wn={animationend:Cn("Animation","AnimationEnd"),animationiteration:Cn("Animation","AnimationIteration"),animationstart:Cn("Animation","AnimationStart"),transitionrun:Cn("Transition","TransitionRun"),transitionstart:Cn("Transition","TransitionStart"),transitioncancel:Cn("Transition","TransitionCancel"),transitionend:Cn("Transition","TransitionEnd")},ao={},Uc={};Nr&&(Uc=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function An(T){if(ao[T])return ao[T];if(!Wn[T])return T;var R=Wn[T],D;for(D in R)if(R.hasOwnProperty(D)&&D in Uc)return ao[T]=R[D];return T}var Hc=An("animationend"),Gc=An("animationiteration"),Vc=An("animationstart"),Jd=An("transitionrun"),ep=An("transitionstart"),tp=An("transitioncancel"),Fc=An("transitionend"),Zc=new Map,oo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oo.push("scrollEnd");function _r(T,R){Zc.set(T,R),Sn(R,[T])}var ji=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},ur=[],Kn=0,lo=0;function ki(){for(var T=Kn,R=lo=Kn=0;R<T;){var D=ur[R];ur[R++]=null;var L=ur[R];ur[R++]=null;var V=ur[R];ur[R++]=null;var Z=ur[R];if(ur[R++]=null,L!==null&&V!==null){var K=L.pending;K===null?V.next=V:(V.next=K.next,K.next=V),L.pending=V}Z!==0&&qc(D,V,Z)}}function $i(T,R,D,L){ur[Kn++]=T,ur[Kn++]=R,ur[Kn++]=D,ur[Kn++]=L,lo|=L,T.lanes|=L,T=T.alternate,T!==null&&(T.lanes|=L)}function co(T,R,D,L){return $i(T,R,D,L),Di(T)}function Tn(T,R){return $i(T,null,null,R),Di(T)}function qc(T,R,D){T.lanes|=D;var L=T.alternate;L!==null&&(L.lanes|=D);for(var V=!1,Z=T.return;Z!==null;)Z.childLanes|=D,L=Z.alternate,L!==null&&(L.childLanes|=D),Z.tag===22&&(T=Z.stateNode,T===null||T._visibility&1||(V=!0)),T=Z,Z=Z.return;return T.tag===3?(Z=T.stateNode,V&&R!==null&&(V=31-Xt(D),T=Z.hiddenUpdates,L=T[V],L===null?T[V]=[R]:L.push(R),R.lane=D|536870912),Z):null}function Di(T){if(50<ai)throw ai=0,_l=null,Error(A(185));for(var R=T.return;R!==null;)T=R,R=T.return;return T.tag===3?T.stateNode:null}var Qn={};function rp(T,R,D,L){this.tag=T,this.key=D,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=R,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(T,R,D,L){return new rp(T,R,D,L)}function uo(T){return T=T.prototype,!(!T||!T.isReactComponent)}function Pr(T,R){var D=T.alternate;return D===null?(D=Kt(T.tag,R,T.key,T.mode),D.elementType=T.elementType,D.type=T.type,D.stateNode=T.stateNode,D.alternate=T,T.alternate=D):(D.pendingProps=R,D.type=T.type,D.flags=0,D.subtreeFlags=0,D.deletions=null),D.flags=T.flags&65011712,D.childLanes=T.childLanes,D.lanes=T.lanes,D.child=T.child,D.memoizedProps=T.memoizedProps,D.memoizedState=T.memoizedState,D.updateQueue=T.updateQueue,R=T.dependencies,D.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext},D.sibling=T.sibling,D.index=T.index,D.ref=T.ref,D.refCleanup=T.refCleanup,D}function Yc(T,R){T.flags&=65011714;var D=T.alternate;return D===null?(T.childLanes=0,T.lanes=R,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=D.childLanes,T.lanes=D.lanes,T.child=D.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=D.memoizedProps,T.memoizedState=D.memoizedState,T.updateQueue=D.updateQueue,T.type=D.type,R=D.dependencies,T.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext}),T}function zi(T,R,D,L,V,Z){var K=0;if(L=T,typeof T=="function")uo(T)&&(K=1);else if(typeof T=="string")K=om(T,D,je.current)?26:T==="html"||T==="head"||T==="body"?27:5;else e:switch(T){case ae:return T=Kt(31,D,R,V),T.elementType=ae,T.lanes=Z,T;case Q:return wn(D.children,V,Z,R);case J:K=8,V|=24;break;case ee:return T=Kt(12,D,R,V|2),T.elementType=ee,T.lanes=Z,T;case fe:return T=Kt(13,D,R,V),T.elementType=fe,T.lanes=Z,T;case me:return T=Kt(19,D,R,V),T.elementType=me,T.lanes=Z,T;default:if(typeof T=="object"&&T!==null)switch(T.$$typeof){case se:K=10;break e;case ne:K=9;break e;case ie:K=11;break e;case le:K=14;break e;case te:K=16,L=null;break e}K=29,D=Error(A(130,T===null?"null":typeof T,"")),L=null}return R=Kt(K,D,R,V),R.elementType=T,R.type=L,R.lanes=Z,R}function wn(T,R,D,L){return T=Kt(7,T,L,R),T.lanes=D,T}function ho(T,R,D){return T=Kt(6,T,null,R),T.lanes=D,T}function Xc(T){var R=Kt(18,null,null,0);return R.stateNode=T,R}function fo(T,R,D){return R=Kt(4,T.children!==null?T.children:[],T.key,R),R.lanes=D,R.stateNode={containerInfo:T.containerInfo,pendingChildren:null,implementation:T.implementation},R}var Wc=new WeakMap;function hr(T,R){if(typeof T=="object"&&T!==null){var D=Wc.get(T);return D!==void 0?D:(R={value:T,source:R,stack:We(R)},Wc.set(T,R),R)}return{value:T,source:R,stack:We(R)}}var Jn=[],es=0,Ii=null,Ls=0,fr=[],dr=0,Wr=null,Er=1,Cr="";function Or(T,R){Jn[es++]=Ls,Jn[es++]=Ii,Ii=T,Ls=R}function Kc(T,R,D){fr[dr++]=Er,fr[dr++]=Cr,fr[dr++]=Wr,Wr=T;var L=Er;T=Cr;var V=32-Xt(L)-1;L&=~(1<<V),D+=1;var Z=32-Xt(R)+V;if(30<Z){var K=V-V%5;Z=(L&(1<<K)-1).toString(32),L>>=K,V-=K,Er=1<<32-Xt(R)+V|D<<V|L,Cr=Z+T}else Er=1<<Z|D<<V|L,Cr=T}function po(T){T.return!==null&&(Or(T,1),Kc(T,1,0))}function mo(T){for(;T===Ii;)Ii=Jn[--es],Jn[es]=null,Ls=Jn[--es],Jn[es]=null;for(;T===Wr;)Wr=fr[--dr],fr[dr]=null,Cr=fr[--dr],fr[dr]=null,Er=fr[--dr],fr[dr]=null}function Qc(T,R){fr[dr++]=Er,fr[dr++]=Cr,fr[dr++]=Wr,Er=R.id,Cr=R.overflow,Wr=T}var $t=null,xt=null,it=!1,Kr=null,pr=!1,go=Error(A(519));function Qr(T){var R=Error(A(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bs(hr(R,T)),go}function Jc(T){var R=T.stateNode,D=T.type,L=T.memoizedProps;switch(R[kt]=T,R[Ht]=L,D){case"dialog":rt("cancel",R),rt("close",R);break;case"iframe":case"object":case"embed":rt("load",R);break;case"video":case"audio":for(D=0;D<li.length;D++)rt(li[D],R);break;case"source":rt("error",R);break;case"img":case"image":case"link":rt("error",R),rt("load",R);break;case"details":rt("toggle",R);break;case"input":rt("invalid",R),fc(R,L.value,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name,!0);break;case"select":rt("invalid",R);break;case"textarea":rt("invalid",R),pc(R,L.value,L.defaultValue,L.children)}D=L.children,typeof D!="string"&&typeof D!="number"&&typeof D!="bigint"||R.textContent===""+D||L.suppressHydrationWarning===!0||xf(R.textContent,D)?(L.popover!=null&&(rt("beforetoggle",R),rt("toggle",R)),L.onScroll!=null&&rt("scroll",R),L.onScrollEnd!=null&&rt("scrollend",R),L.onClick!=null&&(R.onclick=Mr),R=!0):R=!1,R||Qr(T,!0)}function eu(T){for($t=T.return;$t;)switch($t.tag){case 5:case 31:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:$t=$t.return}}function ts(T){if(T!==$t)return!1;if(!it)return eu(T),it=!0,!1;var R=T.tag,D;if((D=R!==3&&R!==27)&&((D=R===5)&&(D=T.type,D=!(D!=="form"&&D!=="button")||kl(T.type,T.memoizedProps)),D=!D),D&&xt&&Qr(T),eu(T),R===13){if(T=T.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(A(317));xt=Tf(T)}else if(R===31){if(T=T.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(A(317));xt=Tf(T)}else R===27?(R=xt,pn(T.type)?(T=Ll,Ll=null,xt=T):xt=R):xt=$t?gr(T.stateNode.nextSibling):null;return!0}function Rn(){xt=$t=null,it=!1}function xo(){var T=Kr;return T!==null&&(qt===null?qt=T:qt.push.apply(qt,T),Kr=null),T}function Bs(T){Kr===null?Kr=[T]:Kr.push(T)}var yo=ce(null),Mn=null,jr=null;function Jr(T,R,D){ve(yo,R._currentValue),R._currentValue=D}function kr(T){T._currentValue=yo.current,be(yo)}function _o(T,R,D){for(;T!==null;){var L=T.alternate;if((T.childLanes&R)!==R?(T.childLanes|=R,L!==null&&(L.childLanes|=R)):L!==null&&(L.childLanes&R)!==R&&(L.childLanes|=R),T===D)break;T=T.return}}function bo(T,R,D,L){var V=T.child;for(V!==null&&(V.return=T);V!==null;){var Z=V.dependencies;if(Z!==null){var K=V.child;Z=Z.firstContext;e:for(;Z!==null;){var re=Z;Z=V;for(var pe=0;pe<R.length;pe++)if(re.context===R[pe]){Z.lanes|=D,re=Z.alternate,re!==null&&(re.lanes|=D),_o(Z.return,D,T),L||(K=null);break e}Z=re.next}}else if(V.tag===18){if(K=V.return,K===null)throw Error(A(341));K.lanes|=D,Z=K.alternate,Z!==null&&(Z.lanes|=D),_o(K,D,T),K=null}else K=V.child;if(K!==null)K.return=V;else for(K=V;K!==null;){if(K===T){K=null;break}if(V=K.sibling,V!==null){V.return=K.return,K=V;break}K=K.return}V=K}}function rs(T,R,D,L){T=null;for(var V=R,Z=!1;V!==null;){if(!Z){if((V.flags&524288)!==0)Z=!0;else if((V.flags&262144)!==0)break}if(V.tag===10){var K=V.alternate;if(K===null)throw Error(A(387));if(K=K.memoizedProps,K!==null){var re=V.type;Wt(V.pendingProps.value,K.value)||(T!==null?T.push(re):T=[re])}}else if(V===ke.current){if(K=V.alternate,K===null)throw Error(A(387));K.memoizedState.memoizedState!==V.memoizedState.memoizedState&&(T!==null?T.push(di):T=[di])}V=V.return}T!==null&&bo(R,T,D,L),R.flags|=262144}function Li(T){for(T=T.firstContext;T!==null;){if(!Wt(T.context._currentValue,T.memoizedValue))return!0;T=T.next}return!1}function Nn(T){Mn=T,jr=null,T=T.dependencies,T!==null&&(T.firstContext=null)}function Dt(T){return tu(Mn,T)}function Bi(T,R){return Mn===null&&Nn(T),tu(T,R)}function tu(T,R){var D=R._currentValue;if(R={context:R,memoizedValue:D,next:null},jr===null){if(T===null)throw Error(A(308));jr=R,T.dependencies={lanes:0,firstContext:R},T.flags|=524288}else jr=jr.next=R;return D}var np=typeof AbortController<"u"?AbortController:function(){var T=[],R=this.signal={aborted:!1,addEventListener:function(D,L){T.push(L)}};this.abort=function(){R.aborted=!0,T.forEach(function(D){return D()})}},sp=E.unstable_scheduleCallback,ip=E.unstable_NormalPriority,Tt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vo(){return{controller:new np,data:new Map,refCount:0}}function Us(T){T.refCount--,T.refCount===0&&sp(ip,function(){T.controller.abort()})}var Hs=null,So=0,ns=0,ss=null;function ap(T,R){if(Hs===null){var D=Hs=[];So=0,ns=Al(),ss={status:"pending",value:void 0,then:function(L){D.push(L)}}}return So++,R.then(ru,ru),R}function ru(){if(--So===0&&Hs!==null){ss!==null&&(ss.status="fulfilled");var T=Hs;Hs=null,ns=0,ss=null;for(var R=0;R<T.length;R++)(0,T[R])()}}function op(T,R){var D=[],L={status:"pending",value:null,reason:null,then:function(V){D.push(V)}};return T.then(function(){L.status="fulfilled",L.value=R;for(var V=0;V<D.length;V++)(0,D[V])(R)},function(V){for(L.status="rejected",L.reason=V,V=0;V<D.length;V++)(0,D[V])(void 0)}),L}var nu=oe.S;oe.S=function(T,R){Bh=ct(),typeof R=="object"&&R!==null&&typeof R.then=="function"&&ap(T,R),nu!==null&&nu(T,R)};var Pn=ce(null);function Eo(){var T=Pn.current;return T!==null?T:gt.pooledCache}function Ui(T,R){R===null?ve(Pn,Pn.current):ve(Pn,R.pool)}function su(){var T=Eo();return T===null?null:{parent:Tt._currentValue,pool:T}}var is=Error(A(460)),Co=Error(A(474)),Hi=Error(A(542)),Gi={then:function(){}};function iu(T){return T=T.status,T==="fulfilled"||T==="rejected"}function au(T,R,D){switch(D=T[D],D===void 0?T.push(R):D!==R&&(R.then(Mr,Mr),R=D),R.status){case"fulfilled":return R.value;case"rejected":throw T=R.reason,lu(T),T;default:if(typeof R.status=="string")R.then(Mr,Mr);else{if(T=gt,T!==null&&100<T.shellSuspendCounter)throw Error(A(482));T=R,T.status="pending",T.then(function(L){if(R.status==="pending"){var V=R;V.status="fulfilled",V.value=L}},function(L){if(R.status==="pending"){var V=R;V.status="rejected",V.reason=L}})}switch(R.status){case"fulfilled":return R.value;case"rejected":throw T=R.reason,lu(T),T}throw jn=R,is}}function On(T){try{var R=T._init;return R(T._payload)}catch(D){throw D!==null&&typeof D=="object"&&typeof D.then=="function"?(jn=D,is):D}}var jn=null;function ou(){if(jn===null)throw Error(A(459));var T=jn;return jn=null,T}function lu(T){if(T===is||T===Hi)throw Error(A(483))}var as=null,Gs=0;function Vi(T){var R=Gs;return Gs+=1,as===null&&(as=[]),au(as,T,R)}function Vs(T,R){R=R.props.ref,T.ref=R!==void 0?R:null}function Fi(T,R){throw R.$$typeof===q?Error(A(525)):(T=Object.prototype.toString.call(R),Error(A(31,T==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":T)))}function cu(T){function R(_e,ge){if(T){var Ee=_e.deletions;Ee===null?(_e.deletions=[ge],_e.flags|=16):Ee.push(ge)}}function D(_e,ge){if(!T)return null;for(;ge!==null;)R(_e,ge),ge=ge.sibling;return null}function L(_e){for(var ge=new Map;_e!==null;)_e.key!==null?ge.set(_e.key,_e):ge.set(_e.index,_e),_e=_e.sibling;return ge}function V(_e,ge){return _e=Pr(_e,ge),_e.index=0,_e.sibling=null,_e}function Z(_e,ge,Ee){return _e.index=Ee,T?(Ee=_e.alternate,Ee!==null?(Ee=Ee.index,Ee<ge?(_e.flags|=67108866,ge):Ee):(_e.flags|=67108866,ge)):(_e.flags|=1048576,ge)}function K(_e){return T&&_e.alternate===null&&(_e.flags|=67108866),_e}function re(_e,ge,Ee,Ne){return ge===null||ge.tag!==6?(ge=ho(Ee,_e.mode,Ne),ge.return=_e,ge):(ge=V(ge,Ee),ge.return=_e,ge)}function pe(_e,ge,Ee,Ne){var Ze=Ee.type;return Ze===Q?Me(_e,ge,Ee.props.children,Ne,Ee.key):ge!==null&&(ge.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===te&&On(Ze)===ge.type)?(ge=V(ge,Ee.props),Vs(ge,Ee),ge.return=_e,ge):(ge=zi(Ee.type,Ee.key,Ee.props,null,_e.mode,Ne),Vs(ge,Ee),ge.return=_e,ge)}function Ce(_e,ge,Ee,Ne){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Ee.containerInfo||ge.stateNode.implementation!==Ee.implementation?(ge=fo(Ee,_e.mode,Ne),ge.return=_e,ge):(ge=V(ge,Ee.children||[]),ge.return=_e,ge)}function Me(_e,ge,Ee,Ne,Ze){return ge===null||ge.tag!==7?(ge=wn(Ee,_e.mode,Ne,Ze),ge.return=_e,ge):(ge=V(ge,Ee),ge.return=_e,ge)}function Oe(_e,ge,Ee){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=ho(""+ge,_e.mode,Ee),ge.return=_e,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case Y:return Ee=zi(ge.type,ge.key,ge.props,null,_e.mode,Ee),Vs(Ee,ge),Ee.return=_e,Ee;case W:return ge=fo(ge,_e.mode,Ee),ge.return=_e,ge;case te:return ge=On(ge),Oe(_e,ge,Ee)}if(Pe(ge)||Ae(ge))return ge=wn(ge,_e.mode,Ee,null),ge.return=_e,ge;if(typeof ge.then=="function")return Oe(_e,Vi(ge),Ee);if(ge.$$typeof===se)return Oe(_e,Bi(_e,ge),Ee);Fi(_e,ge)}return null}function Te(_e,ge,Ee,Ne){var Ze=ge!==null?ge.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Ze!==null?null:re(_e,ge,""+Ee,Ne);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case Y:return Ee.key===Ze?pe(_e,ge,Ee,Ne):null;case W:return Ee.key===Ze?Ce(_e,ge,Ee,Ne):null;case te:return Ee=On(Ee),Te(_e,ge,Ee,Ne)}if(Pe(Ee)||Ae(Ee))return Ze!==null?null:Me(_e,ge,Ee,Ne,null);if(typeof Ee.then=="function")return Te(_e,ge,Vi(Ee),Ne);if(Ee.$$typeof===se)return Te(_e,ge,Bi(_e,Ee),Ne);Fi(_e,Ee)}return null}function Re(_e,ge,Ee,Ne,Ze){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return _e=_e.get(Ee)||null,re(ge,_e,""+Ne,Ze);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case Y:return _e=_e.get(Ne.key===null?Ee:Ne.key)||null,pe(ge,_e,Ne,Ze);case W:return _e=_e.get(Ne.key===null?Ee:Ne.key)||null,Ce(ge,_e,Ne,Ze);case te:return Ne=On(Ne),Re(_e,ge,Ee,Ne,Ze)}if(Pe(Ne)||Ae(Ne))return _e=_e.get(Ee)||null,Me(ge,_e,Ne,Ze,null);if(typeof Ne.then=="function")return Re(_e,ge,Ee,Vi(Ne),Ze);if(Ne.$$typeof===se)return Re(_e,ge,Ee,Bi(ge,Ne),Ze);Fi(ge,Ne)}return null}function Ue(_e,ge,Ee,Ne){for(var Ze=null,at=null,Ge=ge,et=ge=0,st=null;Ge!==null&&et<Ee.length;et++){Ge.index>et?(st=Ge,Ge=null):st=Ge.sibling;var ot=Te(_e,Ge,Ee[et],Ne);if(ot===null){Ge===null&&(Ge=st);break}T&&Ge&&ot.alternate===null&&R(_e,Ge),ge=Z(ot,ge,et),at===null?Ze=ot:at.sibling=ot,at=ot,Ge=st}if(et===Ee.length)return D(_e,Ge),it&&Or(_e,et),Ze;if(Ge===null){for(;et<Ee.length;et++)Ge=Oe(_e,Ee[et],Ne),Ge!==null&&(ge=Z(Ge,ge,et),at===null?Ze=Ge:at.sibling=Ge,at=Ge);return it&&Or(_e,et),Ze}for(Ge=L(Ge);et<Ee.length;et++)st=Re(Ge,_e,et,Ee[et],Ne),st!==null&&(T&&st.alternate!==null&&Ge.delete(st.key===null?et:st.key),ge=Z(st,ge,et),at===null?Ze=st:at.sibling=st,at=st);return T&&Ge.forEach(function(_n){return R(_e,_n)}),it&&Or(_e,et),Ze}function Ye(_e,ge,Ee,Ne){if(Ee==null)throw Error(A(151));for(var Ze=null,at=null,Ge=ge,et=ge=0,st=null,ot=Ee.next();Ge!==null&&!ot.done;et++,ot=Ee.next()){Ge.index>et?(st=Ge,Ge=null):st=Ge.sibling;var _n=Te(_e,Ge,ot.value,Ne);if(_n===null){Ge===null&&(Ge=st);break}T&&Ge&&_n.alternate===null&&R(_e,Ge),ge=Z(_n,ge,et),at===null?Ze=_n:at.sibling=_n,at=_n,Ge=st}if(ot.done)return D(_e,Ge),it&&Or(_e,et),Ze;if(Ge===null){for(;!ot.done;et++,ot=Ee.next())ot=Oe(_e,ot.value,Ne),ot!==null&&(ge=Z(ot,ge,et),at===null?Ze=ot:at.sibling=ot,at=ot);return it&&Or(_e,et),Ze}for(Ge=L(Ge);!ot.done;et++,ot=Ee.next())ot=Re(Ge,_e,et,ot.value,Ne),ot!==null&&(T&&ot.alternate!==null&&Ge.delete(ot.key===null?et:ot.key),ge=Z(ot,ge,et),at===null?Ze=ot:at.sibling=ot,at=ot);return T&&Ge.forEach(function(ym){return R(_e,ym)}),it&&Or(_e,et),Ze}function mt(_e,ge,Ee,Ne){if(typeof Ee=="object"&&Ee!==null&&Ee.type===Q&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case Y:e:{for(var Ze=Ee.key;ge!==null;){if(ge.key===Ze){if(Ze=Ee.type,Ze===Q){if(ge.tag===7){D(_e,ge.sibling),Ne=V(ge,Ee.props.children),Ne.return=_e,_e=Ne;break e}}else if(ge.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===te&&On(Ze)===ge.type){D(_e,ge.sibling),Ne=V(ge,Ee.props),Vs(Ne,Ee),Ne.return=_e,_e=Ne;break e}D(_e,ge);break}else R(_e,ge);ge=ge.sibling}Ee.type===Q?(Ne=wn(Ee.props.children,_e.mode,Ne,Ee.key),Ne.return=_e,_e=Ne):(Ne=zi(Ee.type,Ee.key,Ee.props,null,_e.mode,Ne),Vs(Ne,Ee),Ne.return=_e,_e=Ne)}return K(_e);case W:e:{for(Ze=Ee.key;ge!==null;){if(ge.key===Ze)if(ge.tag===4&&ge.stateNode.containerInfo===Ee.containerInfo&&ge.stateNode.implementation===Ee.implementation){D(_e,ge.sibling),Ne=V(ge,Ee.children||[]),Ne.return=_e,_e=Ne;break e}else{D(_e,ge);break}else R(_e,ge);ge=ge.sibling}Ne=fo(Ee,_e.mode,Ne),Ne.return=_e,_e=Ne}return K(_e);case te:return Ee=On(Ee),mt(_e,ge,Ee,Ne)}if(Pe(Ee))return Ue(_e,ge,Ee,Ne);if(Ae(Ee)){if(Ze=Ae(Ee),typeof Ze!="function")throw Error(A(150));return Ee=Ze.call(Ee),Ye(_e,ge,Ee,Ne)}if(typeof Ee.then=="function")return mt(_e,ge,Vi(Ee),Ne);if(Ee.$$typeof===se)return mt(_e,ge,Bi(_e,Ee),Ne);Fi(_e,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint"?(Ee=""+Ee,ge!==null&&ge.tag===6?(D(_e,ge.sibling),Ne=V(ge,Ee),Ne.return=_e,_e=Ne):(D(_e,ge),Ne=ho(Ee,_e.mode,Ne),Ne.return=_e,_e=Ne),K(_e)):D(_e,ge)}return function(_e,ge,Ee,Ne){try{Gs=0;var Ze=mt(_e,ge,Ee,Ne);return as=null,Ze}catch(Ge){if(Ge===is||Ge===Hi)throw Ge;var at=Kt(29,Ge,null,_e.mode);return at.lanes=Ne,at.return=_e,at}}}var kn=cu(!0),uu=cu(!1),en=!1;function Ao(T){T.updateQueue={baseState:T.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function To(T,R){T=T.updateQueue,R.updateQueue===T&&(R.updateQueue={baseState:T.baseState,firstBaseUpdate:T.firstBaseUpdate,lastBaseUpdate:T.lastBaseUpdate,shared:T.shared,callbacks:null})}function tn(T){return{lane:T,tag:0,payload:null,callback:null,next:null}}function rn(T,R,D){var L=T.updateQueue;if(L===null)return null;if(L=L.shared,(lt&2)!==0){var V=L.pending;return V===null?R.next=R:(R.next=V.next,V.next=R),L.pending=R,R=Di(T),qc(T,null,D),R}return $i(T,L,R,D),Di(T)}function Fs(T,R,D){if(R=R.updateQueue,R!==null&&(R=R.shared,(D&4194048)!==0)){var L=R.lanes;L&=T.pendingLanes,D|=L,R.lanes=D,tc(T,D)}}function wo(T,R){var D=T.updateQueue,L=T.alternate;if(L!==null&&(L=L.updateQueue,D===L)){var V=null,Z=null;if(D=D.firstBaseUpdate,D!==null){do{var K={lane:D.lane,tag:D.tag,payload:D.payload,callback:null,next:null};Z===null?V=Z=K:Z=Z.next=K,D=D.next}while(D!==null);Z===null?V=Z=R:Z=Z.next=R}else V=Z=R;D={baseState:L.baseState,firstBaseUpdate:V,lastBaseUpdate:Z,shared:L.shared,callbacks:L.callbacks},T.updateQueue=D;return}T=D.lastBaseUpdate,T===null?D.firstBaseUpdate=R:T.next=R,D.lastBaseUpdate=R}var Ro=!1;function Zs(){if(Ro){var T=ss;if(T!==null)throw T}}function qs(T,R,D,L){Ro=!1;var V=T.updateQueue;en=!1;var Z=V.firstBaseUpdate,K=V.lastBaseUpdate,re=V.shared.pending;if(re!==null){V.shared.pending=null;var pe=re,Ce=pe.next;pe.next=null,K===null?Z=Ce:K.next=Ce,K=pe;var Me=T.alternate;Me!==null&&(Me=Me.updateQueue,re=Me.lastBaseUpdate,re!==K&&(re===null?Me.firstBaseUpdate=Ce:re.next=Ce,Me.lastBaseUpdate=pe))}if(Z!==null){var Oe=V.baseState;K=0,Me=Ce=pe=null,re=Z;do{var Te=re.lane&-536870913,Re=Te!==re.lane;if(Re?(nt&Te)===Te:(L&Te)===Te){Te!==0&&Te===ns&&(Ro=!0),Me!==null&&(Me=Me.next={lane:0,tag:re.tag,payload:re.payload,callback:null,next:null});e:{var Ue=T,Ye=re;Te=R;var mt=D;switch(Ye.tag){case 1:if(Ue=Ye.payload,typeof Ue=="function"){Oe=Ue.call(mt,Oe,Te);break e}Oe=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ye.payload,Te=typeof Ue=="function"?Ue.call(mt,Oe,Te):Ue,Te==null)break e;Oe=F({},Oe,Te);break e;case 2:en=!0}}Te=re.callback,Te!==null&&(T.flags|=64,Re&&(T.flags|=8192),Re=V.callbacks,Re===null?V.callbacks=[Te]:Re.push(Te))}else Re={lane:Te,tag:re.tag,payload:re.payload,callback:re.callback,next:null},Me===null?(Ce=Me=Re,pe=Oe):Me=Me.next=Re,K|=Te;if(re=re.next,re===null){if(re=V.shared.pending,re===null)break;Re=re,re=Re.next,Re.next=null,V.lastBaseUpdate=Re,V.shared.pending=null}}while(!0);Me===null&&(pe=Oe),V.baseState=pe,V.firstBaseUpdate=Ce,V.lastBaseUpdate=Me,Z===null&&(V.shared.lanes=0),ln|=K,T.lanes=K,T.memoizedState=Oe}}function hu(T,R){if(typeof T!="function")throw Error(A(191,T));T.call(R)}function fu(T,R){var D=T.callbacks;if(D!==null)for(T.callbacks=null,T=0;T<D.length;T++)hu(D[T],R)}var os=ce(null),Zi=ce(0);function du(T,R){T=Gr,ve(Zi,T),ve(os,R),Gr=T|R.baseLanes}function Mo(){ve(Zi,Gr),ve(os,os.current)}function No(){Gr=Zi.current,be(os),be(Zi)}var Qt=ce(null),mr=null;function nn(T){var R=T.alternate;ve(Et,Et.current&1),ve(Qt,T),mr===null&&(R===null||os.current!==null||R.memoizedState!==null)&&(mr=T)}function Po(T){ve(Et,Et.current),ve(Qt,T),mr===null&&(mr=T)}function pu(T){T.tag===22?(ve(Et,Et.current),ve(Qt,T),mr===null&&(mr=T)):sn()}function sn(){ve(Et,Et.current),ve(Qt,Qt.current)}function Jt(T){be(Qt),mr===T&&(mr=null),be(Et)}var Et=ce(0);function qi(T){for(var R=T;R!==null;){if(R.tag===13){var D=R.memoizedState;if(D!==null&&(D=D.dehydrated,D===null||zl(D)||Il(D)))return R}else if(R.tag===19&&(R.memoizedProps.revealOrder==="forwards"||R.memoizedProps.revealOrder==="backwards"||R.memoizedProps.revealOrder==="unstable_legacy-backwards"||R.memoizedProps.revealOrder==="together")){if((R.flags&128)!==0)return R}else if(R.child!==null){R.child.return=R,R=R.child;continue}if(R===T)break;for(;R.sibling===null;){if(R.return===null||R.return===T)return null;R=R.return}R.sibling.return=R.return,R=R.sibling}return null}var $r=0,Je=null,dt=null,wt=null,Yi=!1,ls=!1,$n=!1,Xi=0,Ys=0,cs=null,lp=0;function bt(){throw Error(A(321))}function Oo(T,R){if(R===null)return!1;for(var D=0;D<R.length&&D<T.length;D++)if(!Wt(T[D],R[D]))return!1;return!0}function jo(T,R,D,L,V,Z){return $r=Z,Je=R,R.memoizedState=null,R.updateQueue=null,R.lanes=0,oe.H=T===null||T.memoizedState===null?Ku:Yo,$n=!1,Z=D(L,V),$n=!1,ls&&(Z=gu(R,D,L,V)),mu(T),Z}function mu(T){oe.H=Ks;var R=dt!==null&&dt.next!==null;if($r=0,wt=dt=Je=null,Yi=!1,Ys=0,cs=null,R)throw Error(A(300));T===null||Rt||(T=T.dependencies,T!==null&&Li(T)&&(Rt=!0))}function gu(T,R,D,L){Je=T;var V=0;do{if(ls&&(cs=null),Ys=0,ls=!1,25<=V)throw Error(A(301));if(V+=1,wt=dt=null,T.updateQueue!=null){var Z=T.updateQueue;Z.lastEffect=null,Z.events=null,Z.stores=null,Z.memoCache!=null&&(Z.memoCache.index=0)}oe.H=Qu,Z=R(D,L)}while(ls);return Z}function cp(){var T=oe.H,R=T.useState()[0];return R=typeof R.then=="function"?Xs(R):R,T=T.useState()[0],(dt!==null?dt.memoizedState:null)!==T&&(Je.flags|=1024),R}function ko(){var T=Xi!==0;return Xi=0,T}function $o(T,R,D){R.updateQueue=T.updateQueue,R.flags&=-2053,T.lanes&=~D}function Do(T){if(Yi){for(T=T.memoizedState;T!==null;){var R=T.queue;R!==null&&(R.pending=null),T=T.next}Yi=!1}$r=0,wt=dt=Je=null,ls=!1,Ys=Xi=0,cs=null}function Bt(){var T={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Je.memoizedState=wt=T:wt=wt.next=T,wt}function Ct(){if(dt===null){var T=Je.alternate;T=T!==null?T.memoizedState:null}else T=dt.next;var R=wt===null?Je.memoizedState:wt.next;if(R!==null)wt=R,dt=T;else{if(T===null)throw Je.alternate===null?Error(A(467)):Error(A(310));dt=T,T={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},wt===null?Je.memoizedState=wt=T:wt=wt.next=T}return wt}function Wi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xs(T){var R=Ys;return Ys+=1,cs===null&&(cs=[]),T=au(cs,T,R),R=Je,(wt===null?R.memoizedState:wt.next)===null&&(R=R.alternate,oe.H=R===null||R.memoizedState===null?Ku:Yo),T}function Ki(T){if(T!==null&&typeof T=="object"){if(typeof T.then=="function")return Xs(T);if(T.$$typeof===se)return Dt(T)}throw Error(A(438,String(T)))}function zo(T){var R=null,D=Je.updateQueue;if(D!==null&&(R=D.memoCache),R==null){var L=Je.alternate;L!==null&&(L=L.updateQueue,L!==null&&(L=L.memoCache,L!=null&&(R={data:L.data.map(function(V){return V.slice()}),index:0})))}if(R==null&&(R={data:[],index:0}),D===null&&(D=Wi(),Je.updateQueue=D),D.memoCache=R,D=R.data[R.index],D===void 0)for(D=R.data[R.index]=Array(T),L=0;L<T;L++)D[L]=ue;return R.index++,D}function Dr(T,R){return typeof R=="function"?R(T):R}function Qi(T){var R=Ct();return Io(R,dt,T)}function Io(T,R,D){var L=T.queue;if(L===null)throw Error(A(311));L.lastRenderedReducer=D;var V=T.baseQueue,Z=L.pending;if(Z!==null){if(V!==null){var K=V.next;V.next=Z.next,Z.next=K}R.baseQueue=V=Z,L.pending=null}if(Z=T.baseState,V===null)T.memoizedState=Z;else{R=V.next;var re=K=null,pe=null,Ce=R,Me=!1;do{var Oe=Ce.lane&-536870913;if(Oe!==Ce.lane?(nt&Oe)===Oe:($r&Oe)===Oe){var Te=Ce.revertLane;if(Te===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),Oe===ns&&(Me=!0);else if(($r&Te)===Te){Ce=Ce.next,Te===ns&&(Me=!0);continue}else Oe={lane:0,revertLane:Ce.revertLane,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},pe===null?(re=pe=Oe,K=Z):pe=pe.next=Oe,Je.lanes|=Te,ln|=Te;Oe=Ce.action,$n&&D(Z,Oe),Z=Ce.hasEagerState?Ce.eagerState:D(Z,Oe)}else Te={lane:Oe,revertLane:Ce.revertLane,gesture:Ce.gesture,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},pe===null?(re=pe=Te,K=Z):pe=pe.next=Te,Je.lanes|=Oe,ln|=Oe;Ce=Ce.next}while(Ce!==null&&Ce!==R);if(pe===null?K=Z:pe.next=re,!Wt(Z,T.memoizedState)&&(Rt=!0,Me&&(D=ss,D!==null)))throw D;T.memoizedState=Z,T.baseState=K,T.baseQueue=pe,L.lastRenderedState=Z}return V===null&&(L.lanes=0),[T.memoizedState,L.dispatch]}function Lo(T){var R=Ct(),D=R.queue;if(D===null)throw Error(A(311));D.lastRenderedReducer=T;var L=D.dispatch,V=D.pending,Z=R.memoizedState;if(V!==null){D.pending=null;var K=V=V.next;do Z=T(Z,K.action),K=K.next;while(K!==V);Wt(Z,R.memoizedState)||(Rt=!0),R.memoizedState=Z,R.baseQueue===null&&(R.baseState=Z),D.lastRenderedState=Z}return[Z,L]}function xu(T,R,D){var L=Je,V=Ct(),Z=it;if(Z){if(D===void 0)throw Error(A(407));D=D()}else D=R();var K=!Wt((dt||V).memoizedState,D);if(K&&(V.memoizedState=D,Rt=!0),V=V.queue,Ho(bu.bind(null,L,V,T),[T]),V.getSnapshot!==R||K||wt!==null&&wt.memoizedState.tag&1){if(L.flags|=2048,us(9,{destroy:void 0},_u.bind(null,L,V,D,R),null),gt===null)throw Error(A(349));Z||($r&127)!==0||yu(L,R,D)}return D}function yu(T,R,D){T.flags|=16384,T={getSnapshot:R,value:D},R=Je.updateQueue,R===null?(R=Wi(),Je.updateQueue=R,R.stores=[T]):(D=R.stores,D===null?R.stores=[T]:D.push(T))}function _u(T,R,D,L){R.value=D,R.getSnapshot=L,vu(R)&&Su(T)}function bu(T,R,D){return D(function(){vu(R)&&Su(T)})}function vu(T){var R=T.getSnapshot;T=T.value;try{var D=R();return!Wt(T,D)}catch{return!0}}function Su(T){var R=Tn(T,2);R!==null&&Yt(R,T,2)}function Bo(T){var R=Bt();if(typeof T=="function"){var D=T;if(T=D(),$n){qr(!0);try{D()}finally{qr(!1)}}}return R.memoizedState=R.baseState=T,R.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:T},R}function Eu(T,R,D,L){return T.baseState=D,Io(T,dt,typeof L=="function"?L:Dr)}function up(T,R,D,L,V){if(ta(T))throw Error(A(485));if(T=R.action,T!==null){var Z={payload:V,action:T,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){Z.listeners.push(K)}};oe.T!==null?D(!0):Z.isTransition=!1,L(Z),D=R.pending,D===null?(Z.next=R.pending=Z,Cu(R,Z)):(Z.next=D.next,R.pending=D.next=Z)}}function Cu(T,R){var D=R.action,L=R.payload,V=T.state;if(R.isTransition){var Z=oe.T,K={};oe.T=K;try{var re=D(V,L),pe=oe.S;pe!==null&&pe(K,re),Au(T,R,re)}catch(Ce){Uo(T,R,Ce)}finally{Z!==null&&K.types!==null&&(Z.types=K.types),oe.T=Z}}else try{Z=D(V,L),Au(T,R,Z)}catch(Ce){Uo(T,R,Ce)}}function Au(T,R,D){D!==null&&typeof D=="object"&&typeof D.then=="function"?D.then(function(L){Tu(T,R,L)},function(L){return Uo(T,R,L)}):Tu(T,R,D)}function Tu(T,R,D){R.status="fulfilled",R.value=D,wu(R),T.state=D,R=T.pending,R!==null&&(D=R.next,D===R?T.pending=null:(D=D.next,R.next=D,Cu(T,D)))}function Uo(T,R,D){var L=T.pending;if(T.pending=null,L!==null){L=L.next;do R.status="rejected",R.reason=D,wu(R),R=R.next;while(R!==L)}T.action=null}function wu(T){T=T.listeners;for(var R=0;R<T.length;R++)(0,T[R])()}function Ru(T,R){return R}function Mu(T,R){if(it){var D=gt.formState;if(D!==null){e:{var L=Je;if(it){if(xt){t:{for(var V=xt,Z=pr;V.nodeType!==8;){if(!Z){V=null;break t}if(V=gr(V.nextSibling),V===null){V=null;break t}}Z=V.data,V=Z==="F!"||Z==="F"?V:null}if(V){xt=gr(V.nextSibling),L=V.data==="F!";break e}}Qr(L)}L=!1}L&&(R=D[0])}}return D=Bt(),D.memoizedState=D.baseState=R,L={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:R},D.queue=L,D=Yu.bind(null,Je,L),L.dispatch=D,L=Bo(!1),Z=qo.bind(null,Je,!1,L.queue),L=Bt(),V={state:R,dispatch:null,action:T,pending:null},L.queue=V,D=up.bind(null,Je,V,Z,D),V.dispatch=D,L.memoizedState=T,[R,D,!1]}function Nu(T){var R=Ct();return Pu(R,dt,T)}function Pu(T,R,D){if(R=Io(T,R,Ru)[0],T=Qi(Dr)[0],typeof R=="object"&&R!==null&&typeof R.then=="function")try{var L=Xs(R)}catch(K){throw K===is?Hi:K}else L=R;R=Ct();var V=R.queue,Z=V.dispatch;return D!==R.memoizedState&&(Je.flags|=2048,us(9,{destroy:void 0},hp.bind(null,V,D),null)),[L,Z,T]}function hp(T,R){T.action=R}function Ou(T){var R=Ct(),D=dt;if(D!==null)return Pu(R,D,T);Ct(),R=R.memoizedState,D=Ct();var L=D.queue.dispatch;return D.memoizedState=T,[R,L,!1]}function us(T,R,D,L){return T={tag:T,create:D,deps:L,inst:R,next:null},R=Je.updateQueue,R===null&&(R=Wi(),Je.updateQueue=R),D=R.lastEffect,D===null?R.lastEffect=T.next=T:(L=D.next,D.next=T,T.next=L,R.lastEffect=T),T}function ju(){return Ct().memoizedState}function Ji(T,R,D,L){var V=Bt();Je.flags|=T,V.memoizedState=us(1|R,{destroy:void 0},D,L===void 0?null:L)}function ea(T,R,D,L){var V=Ct();L=L===void 0?null:L;var Z=V.memoizedState.inst;dt!==null&&L!==null&&Oo(L,dt.memoizedState.deps)?V.memoizedState=us(R,Z,D,L):(Je.flags|=T,V.memoizedState=us(1|R,Z,D,L))}function ku(T,R){Ji(8390656,8,T,R)}function Ho(T,R){ea(2048,8,T,R)}function fp(T){Je.flags|=4;var R=Je.updateQueue;if(R===null)R=Wi(),Je.updateQueue=R,R.events=[T];else{var D=R.events;D===null?R.events=[T]:D.push(T)}}function $u(T){var R=Ct().memoizedState;return fp({ref:R,nextImpl:T}),function(){if((lt&2)!==0)throw Error(A(440));return R.impl.apply(void 0,arguments)}}function Du(T,R){return ea(4,2,T,R)}function zu(T,R){return ea(4,4,T,R)}function Iu(T,R){if(typeof R=="function"){T=T();var D=R(T);return function(){typeof D=="function"?D():R(null)}}if(R!=null)return T=T(),R.current=T,function(){R.current=null}}function Lu(T,R,D){D=D!=null?D.concat([T]):null,ea(4,4,Iu.bind(null,R,T),D)}function Go(){}function Bu(T,R){var D=Ct();R=R===void 0?null:R;var L=D.memoizedState;return R!==null&&Oo(R,L[1])?L[0]:(D.memoizedState=[T,R],T)}function Uu(T,R){var D=Ct();R=R===void 0?null:R;var L=D.memoizedState;if(R!==null&&Oo(R,L[1]))return L[0];if(L=T(),$n){qr(!0);try{T()}finally{qr(!1)}}return D.memoizedState=[L,R],L}function Vo(T,R,D){return D===void 0||($r&1073741824)!==0&&(nt&261930)===0?T.memoizedState=R:(T.memoizedState=D,T=Hh(),Je.lanes|=T,ln|=T,D)}function Hu(T,R,D,L){return Wt(D,R)?D:os.current!==null?(T=Vo(T,D,L),Wt(T,R)||(Rt=!0),T):($r&42)===0||($r&1073741824)!==0&&(nt&261930)===0?(Rt=!0,T.memoizedState=D):(T=Hh(),Je.lanes|=T,ln|=T,R)}function Gu(T,R,D,L,V){var Z=de.p;de.p=Z!==0&&8>Z?Z:8;var K=oe.T,re={};oe.T=re,qo(T,!1,R,D);try{var pe=V(),Ce=oe.S;if(Ce!==null&&Ce(re,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Me=op(pe,L);Ws(T,R,Me,rr(T))}else Ws(T,R,L,rr(T))}catch(Oe){Ws(T,R,{then:function(){},status:"rejected",reason:Oe},rr())}finally{de.p=Z,K!==null&&re.types!==null&&(K.types=re.types),oe.T=K}}function dp(){}function Fo(T,R,D,L){if(T.tag!==5)throw Error(A(476));var V=Vu(T).queue;Gu(T,V,R,ye,D===null?dp:function(){return Fu(T),D(L)})}function Vu(T){var R=T.memoizedState;if(R!==null)return R;R={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:ye},next:null};var D={};return R.next={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:D},next:null},T.memoizedState=R,T=T.alternate,T!==null&&(T.memoizedState=R),R}function Fu(T){var R=Vu(T);R.next===null&&(R=T.alternate.memoizedState),Ws(T,R.next.queue,{},rr())}function Zo(){return Dt(di)}function Zu(){return Ct().memoizedState}function qu(){return Ct().memoizedState}function pp(T){for(var R=T.return;R!==null;){switch(R.tag){case 24:case 3:var D=rr();T=tn(D);var L=rn(R,T,D);L!==null&&(Yt(L,R,D),Fs(L,R,D)),R={cache:vo()},T.payload=R;return}R=R.return}}function mp(T,R,D){var L=rr();D={lane:L,revertLane:0,gesture:null,action:D,hasEagerState:!1,eagerState:null,next:null},ta(T)?Xu(R,D):(D=co(T,R,D,L),D!==null&&(Yt(D,T,L),Wu(D,R,L)))}function Yu(T,R,D){var L=rr();Ws(T,R,D,L)}function Ws(T,R,D,L){var V={lane:L,revertLane:0,gesture:null,action:D,hasEagerState:!1,eagerState:null,next:null};if(ta(T))Xu(R,V);else{var Z=T.alternate;if(T.lanes===0&&(Z===null||Z.lanes===0)&&(Z=R.lastRenderedReducer,Z!==null))try{var K=R.lastRenderedState,re=Z(K,D);if(V.hasEagerState=!0,V.eagerState=re,Wt(re,K))return $i(T,R,V,0),gt===null&&ki(),!1}catch{}if(D=co(T,R,V,L),D!==null)return Yt(D,T,L),Wu(D,R,L),!0}return!1}function qo(T,R,D,L){if(L={lane:2,revertLane:Al(),gesture:null,action:L,hasEagerState:!1,eagerState:null,next:null},ta(T)){if(R)throw Error(A(479))}else R=co(T,D,L,2),R!==null&&Yt(R,T,2)}function ta(T){var R=T.alternate;return T===Je||R!==null&&R===Je}function Xu(T,R){ls=Yi=!0;var D=T.pending;D===null?R.next=R:(R.next=D.next,D.next=R),T.pending=R}function Wu(T,R,D){if((D&4194048)!==0){var L=R.lanes;L&=T.pendingLanes,D|=L,R.lanes=D,tc(T,D)}}var Ks={readContext:Dt,use:Ki,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};Ks.useEffectEvent=bt;var Ku={readContext:Dt,use:Ki,useCallback:function(T,R){return Bt().memoizedState=[T,R===void 0?null:R],T},useContext:Dt,useEffect:ku,useImperativeHandle:function(T,R,D){D=D!=null?D.concat([T]):null,Ji(4194308,4,Iu.bind(null,R,T),D)},useLayoutEffect:function(T,R){return Ji(4194308,4,T,R)},useInsertionEffect:function(T,R){Ji(4,2,T,R)},useMemo:function(T,R){var D=Bt();R=R===void 0?null:R;var L=T();if($n){qr(!0);try{T()}finally{qr(!1)}}return D.memoizedState=[L,R],L},useReducer:function(T,R,D){var L=Bt();if(D!==void 0){var V=D(R);if($n){qr(!0);try{D(R)}finally{qr(!1)}}}else V=R;return L.memoizedState=L.baseState=V,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T,lastRenderedState:V},L.queue=T,T=T.dispatch=mp.bind(null,Je,T),[L.memoizedState,T]},useRef:function(T){var R=Bt();return T={current:T},R.memoizedState=T},useState:function(T){T=Bo(T);var R=T.queue,D=Yu.bind(null,Je,R);return R.dispatch=D,[T.memoizedState,D]},useDebugValue:Go,useDeferredValue:function(T,R){var D=Bt();return Vo(D,T,R)},useTransition:function(){var T=Bo(!1);return T=Gu.bind(null,Je,T.queue,!0,!1),Bt().memoizedState=T,[!1,T]},useSyncExternalStore:function(T,R,D){var L=Je,V=Bt();if(it){if(D===void 0)throw Error(A(407));D=D()}else{if(D=R(),gt===null)throw Error(A(349));(nt&127)!==0||yu(L,R,D)}V.memoizedState=D;var Z={value:D,getSnapshot:R};return V.queue=Z,ku(bu.bind(null,L,Z,T),[T]),L.flags|=2048,us(9,{destroy:void 0},_u.bind(null,L,Z,D,R),null),D},useId:function(){var T=Bt(),R=gt.identifierPrefix;if(it){var D=Cr,L=Er;D=(L&~(1<<32-Xt(L)-1)).toString(32)+D,R="_"+R+"R_"+D,D=Xi++,0<D&&(R+="H"+D.toString(32)),R+="_"}else D=lp++,R="_"+R+"r_"+D.toString(32)+"_";return T.memoizedState=R},useHostTransitionStatus:Zo,useFormState:Mu,useActionState:Mu,useOptimistic:function(T){var R=Bt();R.memoizedState=R.baseState=T;var D={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return R.queue=D,R=qo.bind(null,Je,!0,D),D.dispatch=R,[T,R]},useMemoCache:zo,useCacheRefresh:function(){return Bt().memoizedState=pp.bind(null,Je)},useEffectEvent:function(T){var R=Bt(),D={impl:T};return R.memoizedState=D,function(){if((lt&2)!==0)throw Error(A(440));return D.impl.apply(void 0,arguments)}}},Yo={readContext:Dt,use:Ki,useCallback:Bu,useContext:Dt,useEffect:Ho,useImperativeHandle:Lu,useInsertionEffect:Du,useLayoutEffect:zu,useMemo:Uu,useReducer:Qi,useRef:ju,useState:function(){return Qi(Dr)},useDebugValue:Go,useDeferredValue:function(T,R){var D=Ct();return Hu(D,dt.memoizedState,T,R)},useTransition:function(){var T=Qi(Dr)[0],R=Ct().memoizedState;return[typeof T=="boolean"?T:Xs(T),R]},useSyncExternalStore:xu,useId:Zu,useHostTransitionStatus:Zo,useFormState:Nu,useActionState:Nu,useOptimistic:function(T,R){var D=Ct();return Eu(D,dt,T,R)},useMemoCache:zo,useCacheRefresh:qu};Yo.useEffectEvent=$u;var Qu={readContext:Dt,use:Ki,useCallback:Bu,useContext:Dt,useEffect:Ho,useImperativeHandle:Lu,useInsertionEffect:Du,useLayoutEffect:zu,useMemo:Uu,useReducer:Lo,useRef:ju,useState:function(){return Lo(Dr)},useDebugValue:Go,useDeferredValue:function(T,R){var D=Ct();return dt===null?Vo(D,T,R):Hu(D,dt.memoizedState,T,R)},useTransition:function(){var T=Lo(Dr)[0],R=Ct().memoizedState;return[typeof T=="boolean"?T:Xs(T),R]},useSyncExternalStore:xu,useId:Zu,useHostTransitionStatus:Zo,useFormState:Ou,useActionState:Ou,useOptimistic:function(T,R){var D=Ct();return dt!==null?Eu(D,dt,T,R):(D.baseState=T,[T,D.queue.dispatch])},useMemoCache:zo,useCacheRefresh:qu};Qu.useEffectEvent=$u;function Xo(T,R,D,L){R=T.memoizedState,D=D(L,R),D=D==null?R:F({},R,D),T.memoizedState=D,T.lanes===0&&(T.updateQueue.baseState=D)}var Wo={enqueueSetState:function(T,R,D){T=T._reactInternals;var L=rr(),V=tn(L);V.payload=R,D!=null&&(V.callback=D),R=rn(T,V,L),R!==null&&(Yt(R,T,L),Fs(R,T,L))},enqueueReplaceState:function(T,R,D){T=T._reactInternals;var L=rr(),V=tn(L);V.tag=1,V.payload=R,D!=null&&(V.callback=D),R=rn(T,V,L),R!==null&&(Yt(R,T,L),Fs(R,T,L))},enqueueForceUpdate:function(T,R){T=T._reactInternals;var D=rr(),L=tn(D);L.tag=2,R!=null&&(L.callback=R),R=rn(T,L,D),R!==null&&(Yt(R,T,D),Fs(R,T,D))}};function Ju(T,R,D,L,V,Z,K){return T=T.stateNode,typeof T.shouldComponentUpdate=="function"?T.shouldComponentUpdate(L,Z,K):R.prototype&&R.prototype.isPureReactComponent?!zs(D,L)||!zs(V,Z):!0}function eh(T,R,D,L){T=R.state,typeof R.componentWillReceiveProps=="function"&&R.componentWillReceiveProps(D,L),typeof R.UNSAFE_componentWillReceiveProps=="function"&&R.UNSAFE_componentWillReceiveProps(D,L),R.state!==T&&Wo.enqueueReplaceState(R,R.state,null)}function Dn(T,R){var D=R;if("ref"in R){D={};for(var L in R)L!=="ref"&&(D[L]=R[L])}if(T=T.defaultProps){D===R&&(D=F({},D));for(var V in T)D[V]===void 0&&(D[V]=T[V])}return D}function th(T){ji(T)}function rh(T){console.error(T)}function nh(T){ji(T)}function ra(T,R){try{var D=T.onUncaughtError;D(R.value,{componentStack:R.stack})}catch(L){setTimeout(function(){throw L})}}function sh(T,R,D){try{var L=T.onCaughtError;L(D.value,{componentStack:D.stack,errorBoundary:R.tag===1?R.stateNode:null})}catch(V){setTimeout(function(){throw V})}}function Ko(T,R,D){return D=tn(D),D.tag=3,D.payload={element:null},D.callback=function(){ra(T,R)},D}function ih(T){return T=tn(T),T.tag=3,T}function ah(T,R,D,L){var V=D.type.getDerivedStateFromError;if(typeof V=="function"){var Z=L.value;T.payload=function(){return V(Z)},T.callback=function(){sh(R,D,L)}}var K=D.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(T.callback=function(){sh(R,D,L),typeof V!="function"&&(un===null?un=new Set([this]):un.add(this));var re=L.stack;this.componentDidCatch(L.value,{componentStack:re!==null?re:""})})}function gp(T,R,D,L,V){if(D.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){if(R=D.alternate,R!==null&&rs(R,D,V,!0),D=Qt.current,D!==null){switch(D.tag){case 31:case 13:return mr===null?pa():D.alternate===null&&vt===0&&(vt=3),D.flags&=-257,D.flags|=65536,D.lanes=V,L===Gi?D.flags|=16384:(R=D.updateQueue,R===null?D.updateQueue=new Set([L]):R.add(L),Sl(T,L,V)),!1;case 22:return D.flags|=65536,L===Gi?D.flags|=16384:(R=D.updateQueue,R===null?(R={transitions:null,markerInstances:null,retryQueue:new Set([L])},D.updateQueue=R):(D=R.retryQueue,D===null?R.retryQueue=new Set([L]):D.add(L)),Sl(T,L,V)),!1}throw Error(A(435,D.tag))}return Sl(T,L,V),pa(),!1}if(it)return R=Qt.current,R!==null?((R.flags&65536)===0&&(R.flags|=256),R.flags|=65536,R.lanes=V,L!==go&&(T=Error(A(422),{cause:L}),Bs(hr(T,D)))):(L!==go&&(R=Error(A(423),{cause:L}),Bs(hr(R,D))),T=T.current.alternate,T.flags|=65536,V&=-V,T.lanes|=V,L=hr(L,D),V=Ko(T.stateNode,L,V),wo(T,V),vt!==4&&(vt=2)),!1;var Z=Error(A(520),{cause:L});if(Z=hr(Z,D),ii===null?ii=[Z]:ii.push(Z),vt!==4&&(vt=2),R===null)return!0;L=hr(L,D),D=R;do{switch(D.tag){case 3:return D.flags|=65536,T=V&-V,D.lanes|=T,T=Ko(D.stateNode,L,T),wo(D,T),!1;case 1:if(R=D.type,Z=D.stateNode,(D.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(un===null||!un.has(Z))))return D.flags|=65536,V&=-V,D.lanes|=V,V=ih(V),ah(V,T,D,L),wo(D,V),!1}D=D.return}while(D!==null);return!1}var Qo=Error(A(461)),Rt=!1;function zt(T,R,D,L){R.child=T===null?uu(R,null,D,L):kn(R,T.child,D,L)}function oh(T,R,D,L,V){D=D.render;var Z=R.ref;if("ref"in L){var K={};for(var re in L)re!=="ref"&&(K[re]=L[re])}else K=L;return Nn(R),L=jo(T,R,D,K,Z,V),re=ko(),T!==null&&!Rt?($o(T,R,V),zr(T,R,V)):(it&&re&&po(R),R.flags|=1,zt(T,R,L,V),R.child)}function lh(T,R,D,L,V){if(T===null){var Z=D.type;return typeof Z=="function"&&!uo(Z)&&Z.defaultProps===void 0&&D.compare===null?(R.tag=15,R.type=Z,ch(T,R,Z,L,V)):(T=zi(D.type,null,L,R,R.mode,V),T.ref=R.ref,T.return=R,R.child=T)}if(Z=T.child,!al(T,V)){var K=Z.memoizedProps;if(D=D.compare,D=D!==null?D:zs,D(K,L)&&T.ref===R.ref)return zr(T,R,V)}return R.flags|=1,T=Pr(Z,L),T.ref=R.ref,T.return=R,R.child=T}function ch(T,R,D,L,V){if(T!==null){var Z=T.memoizedProps;if(zs(Z,L)&&T.ref===R.ref)if(Rt=!1,R.pendingProps=L=Z,al(T,V))(T.flags&131072)!==0&&(Rt=!0);else return R.lanes=T.lanes,zr(T,R,V)}return Jo(T,R,D,L,V)}function uh(T,R,D,L){var V=L.children,Z=T!==null?T.memoizedState:null;if(T===null&&R.stateNode===null&&(R.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),L.mode==="hidden"){if((R.flags&128)!==0){if(Z=Z!==null?Z.baseLanes|D:D,T!==null){for(L=R.child=T.child,V=0;L!==null;)V=V|L.lanes|L.childLanes,L=L.sibling;L=V&~Z}else L=0,R.child=null;return hh(T,R,Z,D,L)}if((D&536870912)!==0)R.memoizedState={baseLanes:0,cachePool:null},T!==null&&Ui(R,Z!==null?Z.cachePool:null),Z!==null?du(R,Z):Mo(),pu(R);else return L=R.lanes=536870912,hh(T,R,Z!==null?Z.baseLanes|D:D,D,L)}else Z!==null?(Ui(R,Z.cachePool),du(R,Z),sn(),R.memoizedState=null):(T!==null&&Ui(R,null),Mo(),sn());return zt(T,R,V,D),R.child}function Qs(T,R){return T!==null&&T.tag===22||R.stateNode!==null||(R.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),R.sibling}function hh(T,R,D,L,V){var Z=Eo();return Z=Z===null?null:{parent:Tt._currentValue,pool:Z},R.memoizedState={baseLanes:D,cachePool:Z},T!==null&&Ui(R,null),Mo(),pu(R),T!==null&&rs(T,R,L,!0),R.childLanes=V,null}function na(T,R){return R=ia({mode:R.mode,children:R.children},T.mode),R.ref=T.ref,T.child=R,R.return=T,R}function fh(T,R,D){return kn(R,T.child,null,D),T=na(R,R.pendingProps),T.flags|=2,Jt(R),R.memoizedState=null,T}function xp(T,R,D){var L=R.pendingProps,V=(R.flags&128)!==0;if(R.flags&=-129,T===null){if(it){if(L.mode==="hidden")return T=na(R,L),R.lanes=536870912,Qs(null,T);if(Po(R),(T=xt)?(T=Af(T,pr),T=T!==null&&T.data==="&"?T:null,T!==null&&(R.memoizedState={dehydrated:T,treeContext:Wr!==null?{id:Er,overflow:Cr}:null,retryLane:536870912,hydrationErrors:null},D=Xc(T),D.return=R,R.child=D,$t=R,xt=null)):T=null,T===null)throw Qr(R);return R.lanes=536870912,null}return na(R,L)}var Z=T.memoizedState;if(Z!==null){var K=Z.dehydrated;if(Po(R),V)if(R.flags&256)R.flags&=-257,R=fh(T,R,D);else if(R.memoizedState!==null)R.child=T.child,R.flags|=128,R=null;else throw Error(A(558));else if(Rt||rs(T,R,D,!1),V=(D&T.childLanes)!==0,Rt||V){if(L=gt,L!==null&&(K=rc(L,D),K!==0&&K!==Z.retryLane))throw Z.retryLane=K,Tn(T,K),Yt(L,T,K),Qo;pa(),R=fh(T,R,D)}else T=Z.treeContext,xt=gr(K.nextSibling),$t=R,it=!0,Kr=null,pr=!1,T!==null&&Qc(R,T),R=na(R,L),R.flags|=4096;return R}return T=Pr(T.child,{mode:L.mode,children:L.children}),T.ref=R.ref,R.child=T,T.return=R,T}function sa(T,R){var D=R.ref;if(D===null)T!==null&&T.ref!==null&&(R.flags|=4194816);else{if(typeof D!="function"&&typeof D!="object")throw Error(A(284));(T===null||T.ref!==D)&&(R.flags|=4194816)}}function Jo(T,R,D,L,V){return Nn(R),D=jo(T,R,D,L,void 0,V),L=ko(),T!==null&&!Rt?($o(T,R,V),zr(T,R,V)):(it&&L&&po(R),R.flags|=1,zt(T,R,D,V),R.child)}function dh(T,R,D,L,V,Z){return Nn(R),R.updateQueue=null,D=gu(R,L,D,V),mu(T),L=ko(),T!==null&&!Rt?($o(T,R,Z),zr(T,R,Z)):(it&&L&&po(R),R.flags|=1,zt(T,R,D,Z),R.child)}function ph(T,R,D,L,V){if(Nn(R),R.stateNode===null){var Z=Qn,K=D.contextType;typeof K=="object"&&K!==null&&(Z=Dt(K)),Z=new D(L,Z),R.memoizedState=Z.state!==null&&Z.state!==void 0?Z.state:null,Z.updater=Wo,R.stateNode=Z,Z._reactInternals=R,Z=R.stateNode,Z.props=L,Z.state=R.memoizedState,Z.refs={},Ao(R),K=D.contextType,Z.context=typeof K=="object"&&K!==null?Dt(K):Qn,Z.state=R.memoizedState,K=D.getDerivedStateFromProps,typeof K=="function"&&(Xo(R,D,K,L),Z.state=R.memoizedState),typeof D.getDerivedStateFromProps=="function"||typeof Z.getSnapshotBeforeUpdate=="function"||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(K=Z.state,typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount(),K!==Z.state&&Wo.enqueueReplaceState(Z,Z.state,null),qs(R,L,Z,V),Zs(),Z.state=R.memoizedState),typeof Z.componentDidMount=="function"&&(R.flags|=4194308),L=!0}else if(T===null){Z=R.stateNode;var re=R.memoizedProps,pe=Dn(D,re);Z.props=pe;var Ce=Z.context,Me=D.contextType;K=Qn,typeof Me=="object"&&Me!==null&&(K=Dt(Me));var Oe=D.getDerivedStateFromProps;Me=typeof Oe=="function"||typeof Z.getSnapshotBeforeUpdate=="function",re=R.pendingProps!==re,Me||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(re||Ce!==K)&&eh(R,Z,L,K),en=!1;var Te=R.memoizedState;Z.state=Te,qs(R,L,Z,V),Zs(),Ce=R.memoizedState,re||Te!==Ce||en?(typeof Oe=="function"&&(Xo(R,D,Oe,L),Ce=R.memoizedState),(pe=en||Ju(R,D,pe,L,Te,Ce,K))?(Me||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(R.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(R.flags|=4194308),R.memoizedProps=L,R.memoizedState=Ce),Z.props=L,Z.state=Ce,Z.context=K,L=pe):(typeof Z.componentDidMount=="function"&&(R.flags|=4194308),L=!1)}else{Z=R.stateNode,To(T,R),K=R.memoizedProps,Me=Dn(D,K),Z.props=Me,Oe=R.pendingProps,Te=Z.context,Ce=D.contextType,pe=Qn,typeof Ce=="object"&&Ce!==null&&(pe=Dt(Ce)),re=D.getDerivedStateFromProps,(Ce=typeof re=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(K!==Oe||Te!==pe)&&eh(R,Z,L,pe),en=!1,Te=R.memoizedState,Z.state=Te,qs(R,L,Z,V),Zs();var Re=R.memoizedState;K!==Oe||Te!==Re||en||T!==null&&T.dependencies!==null&&Li(T.dependencies)?(typeof re=="function"&&(Xo(R,D,re,L),Re=R.memoizedState),(Me=en||Ju(R,D,Me,L,Te,Re,pe)||T!==null&&T.dependencies!==null&&Li(T.dependencies))?(Ce||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(L,Re,pe),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(L,Re,pe)),typeof Z.componentDidUpdate=="function"&&(R.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(R.flags|=1024)):(typeof Z.componentDidUpdate!="function"||K===T.memoizedProps&&Te===T.memoizedState||(R.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||K===T.memoizedProps&&Te===T.memoizedState||(R.flags|=1024),R.memoizedProps=L,R.memoizedState=Re),Z.props=L,Z.state=Re,Z.context=pe,L=Me):(typeof Z.componentDidUpdate!="function"||K===T.memoizedProps&&Te===T.memoizedState||(R.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||K===T.memoizedProps&&Te===T.memoizedState||(R.flags|=1024),L=!1)}return Z=L,sa(T,R),L=(R.flags&128)!==0,Z||L?(Z=R.stateNode,D=L&&typeof D.getDerivedStateFromError!="function"?null:Z.render(),R.flags|=1,T!==null&&L?(R.child=kn(R,T.child,null,V),R.child=kn(R,null,D,V)):zt(T,R,D,V),R.memoizedState=Z.state,T=R.child):T=zr(T,R,V),T}function mh(T,R,D,L){return Rn(),R.flags|=256,zt(T,R,D,L),R.child}var el={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tl(T){return{baseLanes:T,cachePool:su()}}function rl(T,R,D){return T=T!==null?T.childLanes&~D:0,R&&(T|=tr),T}function gh(T,R,D){var L=R.pendingProps,V=!1,Z=(R.flags&128)!==0,K;if((K=Z)||(K=T!==null&&T.memoizedState===null?!1:(Et.current&2)!==0),K&&(V=!0,R.flags&=-129),K=(R.flags&32)!==0,R.flags&=-33,T===null){if(it){if(V?nn(R):sn(),(T=xt)?(T=Af(T,pr),T=T!==null&&T.data!=="&"?T:null,T!==null&&(R.memoizedState={dehydrated:T,treeContext:Wr!==null?{id:Er,overflow:Cr}:null,retryLane:536870912,hydrationErrors:null},D=Xc(T),D.return=R,R.child=D,$t=R,xt=null)):T=null,T===null)throw Qr(R);return Il(T)?R.lanes=32:R.lanes=536870912,null}var re=L.children;return L=L.fallback,V?(sn(),V=R.mode,re=ia({mode:"hidden",children:re},V),L=wn(L,V,D,null),re.return=R,L.return=R,re.sibling=L,R.child=re,L=R.child,L.memoizedState=tl(D),L.childLanes=rl(T,K,D),R.memoizedState=el,Qs(null,L)):(nn(R),nl(R,re))}var pe=T.memoizedState;if(pe!==null&&(re=pe.dehydrated,re!==null)){if(Z)R.flags&256?(nn(R),R.flags&=-257,R=sl(T,R,D)):R.memoizedState!==null?(sn(),R.child=T.child,R.flags|=128,R=null):(sn(),re=L.fallback,V=R.mode,L=ia({mode:"visible",children:L.children},V),re=wn(re,V,D,null),re.flags|=2,L.return=R,re.return=R,L.sibling=re,R.child=L,kn(R,T.child,null,D),L=R.child,L.memoizedState=tl(D),L.childLanes=rl(T,K,D),R.memoizedState=el,R=Qs(null,L));else if(nn(R),Il(re)){if(K=re.nextSibling&&re.nextSibling.dataset,K)var Ce=K.dgst;K=Ce,L=Error(A(419)),L.stack="",L.digest=K,Bs({value:L,source:null,stack:null}),R=sl(T,R,D)}else if(Rt||rs(T,R,D,!1),K=(D&T.childLanes)!==0,Rt||K){if(K=gt,K!==null&&(L=rc(K,D),L!==0&&L!==pe.retryLane))throw pe.retryLane=L,Tn(T,L),Yt(K,T,L),Qo;zl(re)||pa(),R=sl(T,R,D)}else zl(re)?(R.flags|=192,R.child=T.child,R=null):(T=pe.treeContext,xt=gr(re.nextSibling),$t=R,it=!0,Kr=null,pr=!1,T!==null&&Qc(R,T),R=nl(R,L.children),R.flags|=4096);return R}return V?(sn(),re=L.fallback,V=R.mode,pe=T.child,Ce=pe.sibling,L=Pr(pe,{mode:"hidden",children:L.children}),L.subtreeFlags=pe.subtreeFlags&65011712,Ce!==null?re=Pr(Ce,re):(re=wn(re,V,D,null),re.flags|=2),re.return=R,L.return=R,L.sibling=re,R.child=L,Qs(null,L),L=R.child,re=T.child.memoizedState,re===null?re=tl(D):(V=re.cachePool,V!==null?(pe=Tt._currentValue,V=V.parent!==pe?{parent:pe,pool:pe}:V):V=su(),re={baseLanes:re.baseLanes|D,cachePool:V}),L.memoizedState=re,L.childLanes=rl(T,K,D),R.memoizedState=el,Qs(T.child,L)):(nn(R),D=T.child,T=D.sibling,D=Pr(D,{mode:"visible",children:L.children}),D.return=R,D.sibling=null,T!==null&&(K=R.deletions,K===null?(R.deletions=[T],R.flags|=16):K.push(T)),R.child=D,R.memoizedState=null,D)}function nl(T,R){return R=ia({mode:"visible",children:R},T.mode),R.return=T,T.child=R}function ia(T,R){return T=Kt(22,T,null,R),T.lanes=0,T}function sl(T,R,D){return kn(R,T.child,null,D),T=nl(R,R.pendingProps.children),T.flags|=2,R.memoizedState=null,T}function xh(T,R,D){T.lanes|=R;var L=T.alternate;L!==null&&(L.lanes|=R),_o(T.return,R,D)}function il(T,R,D,L,V,Z){var K=T.memoizedState;K===null?T.memoizedState={isBackwards:R,rendering:null,renderingStartTime:0,last:L,tail:D,tailMode:V,treeForkCount:Z}:(K.isBackwards=R,K.rendering=null,K.renderingStartTime=0,K.last=L,K.tail=D,K.tailMode=V,K.treeForkCount=Z)}function yh(T,R,D){var L=R.pendingProps,V=L.revealOrder,Z=L.tail;L=L.children;var K=Et.current,re=(K&2)!==0;if(re?(K=K&1|2,R.flags|=128):K&=1,ve(Et,K),zt(T,R,L,D),L=it?Ls:0,!re&&T!==null&&(T.flags&128)!==0)e:for(T=R.child;T!==null;){if(T.tag===13)T.memoizedState!==null&&xh(T,D,R);else if(T.tag===19)xh(T,D,R);else if(T.child!==null){T.child.return=T,T=T.child;continue}if(T===R)break e;for(;T.sibling===null;){if(T.return===null||T.return===R)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}switch(V){case"forwards":for(D=R.child,V=null;D!==null;)T=D.alternate,T!==null&&qi(T)===null&&(V=D),D=D.sibling;D=V,D===null?(V=R.child,R.child=null):(V=D.sibling,D.sibling=null),il(R,!1,V,D,Z,L);break;case"backwards":case"unstable_legacy-backwards":for(D=null,V=R.child,R.child=null;V!==null;){if(T=V.alternate,T!==null&&qi(T)===null){R.child=V;break}T=V.sibling,V.sibling=D,D=V,V=T}il(R,!0,D,null,Z,L);break;case"together":il(R,!1,null,null,void 0,L);break;default:R.memoizedState=null}return R.child}function zr(T,R,D){if(T!==null&&(R.dependencies=T.dependencies),ln|=R.lanes,(D&R.childLanes)===0)if(T!==null){if(rs(T,R,D,!1),(D&R.childLanes)===0)return null}else return null;if(T!==null&&R.child!==T.child)throw Error(A(153));if(R.child!==null){for(T=R.child,D=Pr(T,T.pendingProps),R.child=D,D.return=R;T.sibling!==null;)T=T.sibling,D=D.sibling=Pr(T,T.pendingProps),D.return=R;D.sibling=null}return R.child}function al(T,R){return(T.lanes&R)!==0?!0:(T=T.dependencies,!!(T!==null&&Li(T)))}function yp(T,R,D){switch(R.tag){case 3:Ie(R,R.stateNode.containerInfo),Jr(R,Tt,T.memoizedState.cache),Rn();break;case 27:case 5:He(R);break;case 4:Ie(R,R.stateNode.containerInfo);break;case 10:Jr(R,R.type,R.memoizedProps.value);break;case 31:if(R.memoizedState!==null)return R.flags|=128,Po(R),null;break;case 13:var L=R.memoizedState;if(L!==null)return L.dehydrated!==null?(nn(R),R.flags|=128,null):(D&R.child.childLanes)!==0?gh(T,R,D):(nn(R),T=zr(T,R,D),T!==null?T.sibling:null);nn(R);break;case 19:var V=(T.flags&128)!==0;if(L=(D&R.childLanes)!==0,L||(rs(T,R,D,!1),L=(D&R.childLanes)!==0),V){if(L)return yh(T,R,D);R.flags|=128}if(V=R.memoizedState,V!==null&&(V.rendering=null,V.tail=null,V.lastEffect=null),ve(Et,Et.current),L)break;return null;case 22:return R.lanes=0,uh(T,R,D,R.pendingProps);case 24:Jr(R,Tt,T.memoizedState.cache)}return zr(T,R,D)}function _h(T,R,D){if(T!==null)if(T.memoizedProps!==R.pendingProps)Rt=!0;else{if(!al(T,D)&&(R.flags&128)===0)return Rt=!1,yp(T,R,D);Rt=(T.flags&131072)!==0}else Rt=!1,it&&(R.flags&1048576)!==0&&Kc(R,Ls,R.index);switch(R.lanes=0,R.tag){case 16:e:{var L=R.pendingProps;if(T=On(R.elementType),R.type=T,typeof T=="function")uo(T)?(L=Dn(T,L),R.tag=1,R=ph(null,R,T,L,D)):(R.tag=0,R=Jo(null,R,T,L,D));else{if(T!=null){var V=T.$$typeof;if(V===ie){R.tag=11,R=oh(null,R,T,L,D);break e}else if(V===le){R.tag=14,R=lh(null,R,T,L,D);break e}}throw R=Se(T)||T,Error(A(306,R,""))}}return R;case 0:return Jo(T,R,R.type,R.pendingProps,D);case 1:return L=R.type,V=Dn(L,R.pendingProps),ph(T,R,L,V,D);case 3:e:{if(Ie(R,R.stateNode.containerInfo),T===null)throw Error(A(387));L=R.pendingProps;var Z=R.memoizedState;V=Z.element,To(T,R),qs(R,L,null,D);var K=R.memoizedState;if(L=K.cache,Jr(R,Tt,L),L!==Z.cache&&bo(R,[Tt],D,!0),Zs(),L=K.element,Z.isDehydrated)if(Z={element:L,isDehydrated:!1,cache:K.cache},R.updateQueue.baseState=Z,R.memoizedState=Z,R.flags&256){R=mh(T,R,L,D);break e}else if(L!==V){V=hr(Error(A(424)),R),Bs(V),R=mh(T,R,L,D);break e}else for(T=R.stateNode.containerInfo,T.nodeType===9?T=T.body:T=T.nodeName==="HTML"?T.ownerDocument.body:T,xt=gr(T.firstChild),$t=R,it=!0,Kr=null,pr=!0,D=uu(R,null,L,D),R.child=D;D;)D.flags=D.flags&-3|4096,D=D.sibling;else{if(Rn(),L===V){R=zr(T,R,D);break e}zt(T,R,L,D)}R=R.child}return R;case 26:return sa(T,R),T===null?(D=Pf(R.type,null,R.pendingProps,null))?R.memoizedState=D:it||(D=R.type,T=R.pendingProps,L=Sa(Be.current).createElement(D),L[kt]=R,L[Ht]=T,It(L,D,T),Pt(L),R.stateNode=L):R.memoizedState=Pf(R.type,T.memoizedProps,R.pendingProps,T.memoizedState),null;case 27:return He(R),T===null&&it&&(L=R.stateNode=Rf(R.type,R.pendingProps,Be.current),$t=R,pr=!0,V=xt,pn(R.type)?(Ll=V,xt=gr(L.firstChild)):xt=V),zt(T,R,R.pendingProps.children,D),sa(T,R),T===null&&(R.flags|=4194304),R.child;case 5:return T===null&&it&&((V=L=xt)&&(L=Yp(L,R.type,R.pendingProps,pr),L!==null?(R.stateNode=L,$t=R,xt=gr(L.firstChild),pr=!1,V=!0):V=!1),V||Qr(R)),He(R),V=R.type,Z=R.pendingProps,K=T!==null?T.memoizedProps:null,L=Z.children,kl(V,Z)?L=null:K!==null&&kl(V,K)&&(R.flags|=32),R.memoizedState!==null&&(V=jo(T,R,cp,null,null,D),di._currentValue=V),sa(T,R),zt(T,R,L,D),R.child;case 6:return T===null&&it&&((T=D=xt)&&(D=Xp(D,R.pendingProps,pr),D!==null?(R.stateNode=D,$t=R,xt=null,T=!0):T=!1),T||Qr(R)),null;case 13:return gh(T,R,D);case 4:return Ie(R,R.stateNode.containerInfo),L=R.pendingProps,T===null?R.child=kn(R,null,L,D):zt(T,R,L,D),R.child;case 11:return oh(T,R,R.type,R.pendingProps,D);case 7:return zt(T,R,R.pendingProps,D),R.child;case 8:return zt(T,R,R.pendingProps.children,D),R.child;case 12:return zt(T,R,R.pendingProps.children,D),R.child;case 10:return L=R.pendingProps,Jr(R,R.type,L.value),zt(T,R,L.children,D),R.child;case 9:return V=R.type._context,L=R.pendingProps.children,Nn(R),V=Dt(V),L=L(V),R.flags|=1,zt(T,R,L,D),R.child;case 14:return lh(T,R,R.type,R.pendingProps,D);case 15:return ch(T,R,R.type,R.pendingProps,D);case 19:return yh(T,R,D);case 31:return xp(T,R,D);case 22:return uh(T,R,D,R.pendingProps);case 24:return Nn(R),L=Dt(Tt),T===null?(V=Eo(),V===null&&(V=gt,Z=vo(),V.pooledCache=Z,Z.refCount++,Z!==null&&(V.pooledCacheLanes|=D),V=Z),R.memoizedState={parent:L,cache:V},Ao(R),Jr(R,Tt,V)):((T.lanes&D)!==0&&(To(T,R),qs(R,null,null,D),Zs()),V=T.memoizedState,Z=R.memoizedState,V.parent!==L?(V={parent:L,cache:L},R.memoizedState=V,R.lanes===0&&(R.memoizedState=R.updateQueue.baseState=V),Jr(R,Tt,L)):(L=Z.cache,Jr(R,Tt,L),L!==V.cache&&bo(R,[Tt],D,!0))),zt(T,R,R.pendingProps.children,D),R.child;case 29:throw R.pendingProps}throw Error(A(156,R.tag))}function Ir(T){T.flags|=4}function ol(T,R,D,L,V){if((R=(T.mode&32)!==0)&&(R=!1),R){if(T.flags|=16777216,(V&335544128)===V)if(T.stateNode.complete)T.flags|=8192;else if(Zh())T.flags|=8192;else throw jn=Gi,Co}else T.flags&=-16777217}function bh(T,R){if(R.type!=="stylesheet"||(R.state.loading&4)!==0)T.flags&=-16777217;else if(T.flags|=16777216,!Df(R))if(Zh())T.flags|=8192;else throw jn=Gi,Co}function aa(T,R){R!==null&&(T.flags|=4),T.flags&16384&&(R=T.tag!==22?Jl():536870912,T.lanes|=R,ps|=R)}function Js(T,R){if(!it)switch(T.tailMode){case"hidden":R=T.tail;for(var D=null;R!==null;)R.alternate!==null&&(D=R),R=R.sibling;D===null?T.tail=null:D.sibling=null;break;case"collapsed":D=T.tail;for(var L=null;D!==null;)D.alternate!==null&&(L=D),D=D.sibling;L===null?R||T.tail===null?T.tail=null:T.tail.sibling=null:L.sibling=null}}function yt(T){var R=T.alternate!==null&&T.alternate.child===T.child,D=0,L=0;if(R)for(var V=T.child;V!==null;)D|=V.lanes|V.childLanes,L|=V.subtreeFlags&65011712,L|=V.flags&65011712,V.return=T,V=V.sibling;else for(V=T.child;V!==null;)D|=V.lanes|V.childLanes,L|=V.subtreeFlags,L|=V.flags,V.return=T,V=V.sibling;return T.subtreeFlags|=L,T.childLanes=D,R}function _p(T,R,D){var L=R.pendingProps;switch(mo(R),R.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(R),null;case 1:return yt(R),null;case 3:return D=R.stateNode,L=null,T!==null&&(L=T.memoizedState.cache),R.memoizedState.cache!==L&&(R.flags|=2048),kr(Tt),Le(),D.pendingContext&&(D.context=D.pendingContext,D.pendingContext=null),(T===null||T.child===null)&&(ts(R)?Ir(R):T===null||T.memoizedState.isDehydrated&&(R.flags&256)===0||(R.flags|=1024,xo())),yt(R),null;case 26:var V=R.type,Z=R.memoizedState;return T===null?(Ir(R),Z!==null?(yt(R),bh(R,Z)):(yt(R),ol(R,V,null,L,D))):Z?Z!==T.memoizedState?(Ir(R),yt(R),bh(R,Z)):(yt(R),R.flags&=-16777217):(T=T.memoizedProps,T!==L&&Ir(R),yt(R),ol(R,V,T,L,D)),null;case 27:if(De(R),D=Be.current,V=R.type,T!==null&&R.stateNode!=null)T.memoizedProps!==L&&Ir(R);else{if(!L){if(R.stateNode===null)throw Error(A(166));return yt(R),null}T=je.current,ts(R)?Jc(R):(T=Rf(V,L,D),R.stateNode=T,Ir(R))}return yt(R),null;case 5:if(De(R),V=R.type,T!==null&&R.stateNode!=null)T.memoizedProps!==L&&Ir(R);else{if(!L){if(R.stateNode===null)throw Error(A(166));return yt(R),null}if(Z=je.current,ts(R))Jc(R);else{var K=Sa(Be.current);switch(Z){case 1:Z=K.createElementNS("http://www.w3.org/2000/svg",V);break;case 2:Z=K.createElementNS("http://www.w3.org/1998/Math/MathML",V);break;default:switch(V){case"svg":Z=K.createElementNS("http://www.w3.org/2000/svg",V);break;case"math":Z=K.createElementNS("http://www.w3.org/1998/Math/MathML",V);break;case"script":Z=K.createElement("div"),Z.innerHTML="<script><\/script>",Z=Z.removeChild(Z.firstChild);break;case"select":Z=typeof L.is=="string"?K.createElement("select",{is:L.is}):K.createElement("select"),L.multiple?Z.multiple=!0:L.size&&(Z.size=L.size);break;default:Z=typeof L.is=="string"?K.createElement(V,{is:L.is}):K.createElement(V)}}Z[kt]=R,Z[Ht]=L;e:for(K=R.child;K!==null;){if(K.tag===5||K.tag===6)Z.appendChild(K.stateNode);else if(K.tag!==4&&K.tag!==27&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===R)break e;for(;K.sibling===null;){if(K.return===null||K.return===R)break e;K=K.return}K.sibling.return=K.return,K=K.sibling}R.stateNode=Z;e:switch(It(Z,V,L),V){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}L&&Ir(R)}}return yt(R),ol(R,R.type,T===null?null:T.memoizedProps,R.pendingProps,D),null;case 6:if(T&&R.stateNode!=null)T.memoizedProps!==L&&Ir(R);else{if(typeof L!="string"&&R.stateNode===null)throw Error(A(166));if(T=Be.current,ts(R)){if(T=R.stateNode,D=R.memoizedProps,L=null,V=$t,V!==null)switch(V.tag){case 27:case 5:L=V.memoizedProps}T[kt]=R,T=!!(T.nodeValue===D||L!==null&&L.suppressHydrationWarning===!0||xf(T.nodeValue,D)),T||Qr(R,!0)}else T=Sa(T).createTextNode(L),T[kt]=R,R.stateNode=T}return yt(R),null;case 31:if(D=R.memoizedState,T===null||T.memoizedState!==null){if(L=ts(R),D!==null){if(T===null){if(!L)throw Error(A(318));if(T=R.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(A(557));T[kt]=R}else Rn(),(R.flags&128)===0&&(R.memoizedState=null),R.flags|=4;yt(R),T=!1}else D=xo(),T!==null&&T.memoizedState!==null&&(T.memoizedState.hydrationErrors=D),T=!0;if(!T)return R.flags&256?(Jt(R),R):(Jt(R),null);if((R.flags&128)!==0)throw Error(A(558))}return yt(R),null;case 13:if(L=R.memoizedState,T===null||T.memoizedState!==null&&T.memoizedState.dehydrated!==null){if(V=ts(R),L!==null&&L.dehydrated!==null){if(T===null){if(!V)throw Error(A(318));if(V=R.memoizedState,V=V!==null?V.dehydrated:null,!V)throw Error(A(317));V[kt]=R}else Rn(),(R.flags&128)===0&&(R.memoizedState=null),R.flags|=4;yt(R),V=!1}else V=xo(),T!==null&&T.memoizedState!==null&&(T.memoizedState.hydrationErrors=V),V=!0;if(!V)return R.flags&256?(Jt(R),R):(Jt(R),null)}return Jt(R),(R.flags&128)!==0?(R.lanes=D,R):(D=L!==null,T=T!==null&&T.memoizedState!==null,D&&(L=R.child,V=null,L.alternate!==null&&L.alternate.memoizedState!==null&&L.alternate.memoizedState.cachePool!==null&&(V=L.alternate.memoizedState.cachePool.pool),Z=null,L.memoizedState!==null&&L.memoizedState.cachePool!==null&&(Z=L.memoizedState.cachePool.pool),Z!==V&&(L.flags|=2048)),D!==T&&D&&(R.child.flags|=8192),aa(R,R.updateQueue),yt(R),null);case 4:return Le(),T===null&&Ml(R.stateNode.containerInfo),yt(R),null;case 10:return kr(R.type),yt(R),null;case 19:if(be(Et),L=R.memoizedState,L===null)return yt(R),null;if(V=(R.flags&128)!==0,Z=L.rendering,Z===null)if(V)Js(L,!1);else{if(vt!==0||T!==null&&(T.flags&128)!==0)for(T=R.child;T!==null;){if(Z=qi(T),Z!==null){for(R.flags|=128,Js(L,!1),T=Z.updateQueue,R.updateQueue=T,aa(R,T),R.subtreeFlags=0,T=D,D=R.child;D!==null;)Yc(D,T),D=D.sibling;return ve(Et,Et.current&1|2),it&&Or(R,L.treeForkCount),R.child}T=T.sibling}L.tail!==null&&ct()>ha&&(R.flags|=128,V=!0,Js(L,!1),R.lanes=4194304)}else{if(!V)if(T=qi(Z),T!==null){if(R.flags|=128,V=!0,T=T.updateQueue,R.updateQueue=T,aa(R,T),Js(L,!0),L.tail===null&&L.tailMode==="hidden"&&!Z.alternate&&!it)return yt(R),null}else 2*ct()-L.renderingStartTime>ha&&D!==536870912&&(R.flags|=128,V=!0,Js(L,!1),R.lanes=4194304);L.isBackwards?(Z.sibling=R.child,R.child=Z):(T=L.last,T!==null?T.sibling=Z:R.child=Z,L.last=Z)}return L.tail!==null?(T=L.tail,L.rendering=T,L.tail=T.sibling,L.renderingStartTime=ct(),T.sibling=null,D=Et.current,ve(Et,V?D&1|2:D&1),it&&Or(R,L.treeForkCount),T):(yt(R),null);case 22:case 23:return Jt(R),No(),L=R.memoizedState!==null,T!==null?T.memoizedState!==null!==L&&(R.flags|=8192):L&&(R.flags|=8192),L?(D&536870912)!==0&&(R.flags&128)===0&&(yt(R),R.subtreeFlags&6&&(R.flags|=8192)):yt(R),D=R.updateQueue,D!==null&&aa(R,D.retryQueue),D=null,T!==null&&T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(D=T.memoizedState.cachePool.pool),L=null,R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(L=R.memoizedState.cachePool.pool),L!==D&&(R.flags|=2048),T!==null&&be(Pn),null;case 24:return D=null,T!==null&&(D=T.memoizedState.cache),R.memoizedState.cache!==D&&(R.flags|=2048),kr(Tt),yt(R),null;case 25:return null;case 30:return null}throw Error(A(156,R.tag))}function bp(T,R){switch(mo(R),R.tag){case 1:return T=R.flags,T&65536?(R.flags=T&-65537|128,R):null;case 3:return kr(Tt),Le(),T=R.flags,(T&65536)!==0&&(T&128)===0?(R.flags=T&-65537|128,R):null;case 26:case 27:case 5:return De(R),null;case 31:if(R.memoizedState!==null){if(Jt(R),R.alternate===null)throw Error(A(340));Rn()}return T=R.flags,T&65536?(R.flags=T&-65537|128,R):null;case 13:if(Jt(R),T=R.memoizedState,T!==null&&T.dehydrated!==null){if(R.alternate===null)throw Error(A(340));Rn()}return T=R.flags,T&65536?(R.flags=T&-65537|128,R):null;case 19:return be(Et),null;case 4:return Le(),null;case 10:return kr(R.type),null;case 22:case 23:return Jt(R),No(),T!==null&&be(Pn),T=R.flags,T&65536?(R.flags=T&-65537|128,R):null;case 24:return kr(Tt),null;case 25:return null;default:return null}}function vh(T,R){switch(mo(R),R.tag){case 3:kr(Tt),Le();break;case 26:case 27:case 5:De(R);break;case 4:Le();break;case 31:R.memoizedState!==null&&Jt(R);break;case 13:Jt(R);break;case 19:be(Et);break;case 10:kr(R.type);break;case 22:case 23:Jt(R),No(),T!==null&&be(Pn);break;case 24:kr(Tt)}}function ei(T,R){try{var D=R.updateQueue,L=D!==null?D.lastEffect:null;if(L!==null){var V=L.next;D=V;do{if((D.tag&T)===T){L=void 0;var Z=D.create,K=D.inst;L=Z(),K.destroy=L}D=D.next}while(D!==V)}}catch(re){ht(R,R.return,re)}}function an(T,R,D){try{var L=R.updateQueue,V=L!==null?L.lastEffect:null;if(V!==null){var Z=V.next;L=Z;do{if((L.tag&T)===T){var K=L.inst,re=K.destroy;if(re!==void 0){K.destroy=void 0,V=R;var pe=D,Ce=re;try{Ce()}catch(Me){ht(V,pe,Me)}}}L=L.next}while(L!==Z)}}catch(Me){ht(R,R.return,Me)}}function Sh(T){var R=T.updateQueue;if(R!==null){var D=T.stateNode;try{fu(R,D)}catch(L){ht(T,T.return,L)}}}function Eh(T,R,D){D.props=Dn(T.type,T.memoizedProps),D.state=T.memoizedState;try{D.componentWillUnmount()}catch(L){ht(T,R,L)}}function ti(T,R){try{var D=T.ref;if(D!==null){switch(T.tag){case 26:case 27:case 5:var L=T.stateNode;break;case 30:L=T.stateNode;break;default:L=T.stateNode}typeof D=="function"?T.refCleanup=D(L):D.current=L}}catch(V){ht(T,R,V)}}function Ar(T,R){var D=T.ref,L=T.refCleanup;if(D!==null)if(typeof L=="function")try{L()}catch(V){ht(T,R,V)}finally{T.refCleanup=null,T=T.alternate,T!=null&&(T.refCleanup=null)}else if(typeof D=="function")try{D(null)}catch(V){ht(T,R,V)}else D.current=null}function Ch(T){var R=T.type,D=T.memoizedProps,L=T.stateNode;try{e:switch(R){case"button":case"input":case"select":case"textarea":D.autoFocus&&L.focus();break e;case"img":D.src?L.src=D.src:D.srcSet&&(L.srcset=D.srcSet)}}catch(V){ht(T,T.return,V)}}function ll(T,R,D){try{var L=T.stateNode;Hp(L,T.type,D,R),L[Ht]=R}catch(V){ht(T,T.return,V)}}function Ah(T){return T.tag===5||T.tag===3||T.tag===26||T.tag===27&&pn(T.type)||T.tag===4}function cl(T){e:for(;;){for(;T.sibling===null;){if(T.return===null||Ah(T.return))return null;T=T.return}for(T.sibling.return=T.return,T=T.sibling;T.tag!==5&&T.tag!==6&&T.tag!==18;){if(T.tag===27&&pn(T.type)||T.flags&2||T.child===null||T.tag===4)continue e;T.child.return=T,T=T.child}if(!(T.flags&2))return T.stateNode}}function ul(T,R,D){var L=T.tag;if(L===5||L===6)T=T.stateNode,R?(D.nodeType===9?D.body:D.nodeName==="HTML"?D.ownerDocument.body:D).insertBefore(T,R):(R=D.nodeType===9?D.body:D.nodeName==="HTML"?D.ownerDocument.body:D,R.appendChild(T),D=D._reactRootContainer,D!=null||R.onclick!==null||(R.onclick=Mr));else if(L!==4&&(L===27&&pn(T.type)&&(D=T.stateNode,R=null),T=T.child,T!==null))for(ul(T,R,D),T=T.sibling;T!==null;)ul(T,R,D),T=T.sibling}function oa(T,R,D){var L=T.tag;if(L===5||L===6)T=T.stateNode,R?D.insertBefore(T,R):D.appendChild(T);else if(L!==4&&(L===27&&pn(T.type)&&(D=T.stateNode),T=T.child,T!==null))for(oa(T,R,D),T=T.sibling;T!==null;)oa(T,R,D),T=T.sibling}function Th(T){var R=T.stateNode,D=T.memoizedProps;try{for(var L=T.type,V=R.attributes;V.length;)R.removeAttributeNode(V[0]);It(R,L,D),R[kt]=T,R[Ht]=D}catch(Z){ht(T,T.return,Z)}}var Lr=!1,Mt=!1,hl=!1,wh=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function vp(T,R){if(T=T.containerInfo,Ol=Ma,T=Lc(T),no(T)){if("selectionStart"in T)var D={start:T.selectionStart,end:T.selectionEnd};else e:{D=(D=T.ownerDocument)&&D.defaultView||window;var L=D.getSelection&&D.getSelection();if(L&&L.rangeCount!==0){D=L.anchorNode;var V=L.anchorOffset,Z=L.focusNode;L=L.focusOffset;try{D.nodeType,Z.nodeType}catch{D=null;break e}var K=0,re=-1,pe=-1,Ce=0,Me=0,Oe=T,Te=null;t:for(;;){for(var Re;Oe!==D||V!==0&&Oe.nodeType!==3||(re=K+V),Oe!==Z||L!==0&&Oe.nodeType!==3||(pe=K+L),Oe.nodeType===3&&(K+=Oe.nodeValue.length),(Re=Oe.firstChild)!==null;)Te=Oe,Oe=Re;for(;;){if(Oe===T)break t;if(Te===D&&++Ce===V&&(re=K),Te===Z&&++Me===L&&(pe=K),(Re=Oe.nextSibling)!==null)break;Oe=Te,Te=Oe.parentNode}Oe=Re}D=re===-1||pe===-1?null:{start:re,end:pe}}else D=null}D=D||{start:0,end:0}}else D=null;for(jl={focusedElem:T,selectionRange:D},Ma=!1,Ot=R;Ot!==null;)if(R=Ot,T=R.child,(R.subtreeFlags&1028)!==0&&T!==null)T.return=R,Ot=T;else for(;Ot!==null;){switch(R=Ot,Z=R.alternate,T=R.flags,R.tag){case 0:if((T&4)!==0&&(T=R.updateQueue,T=T!==null?T.events:null,T!==null))for(D=0;D<T.length;D++)V=T[D],V.ref.impl=V.nextImpl;break;case 11:case 15:break;case 1:if((T&1024)!==0&&Z!==null){T=void 0,D=R,V=Z.memoizedProps,Z=Z.memoizedState,L=D.stateNode;try{var Ue=Dn(D.type,V);T=L.getSnapshotBeforeUpdate(Ue,Z),L.__reactInternalSnapshotBeforeUpdate=T}catch(Ye){ht(D,D.return,Ye)}}break;case 3:if((T&1024)!==0){if(T=R.stateNode.containerInfo,D=T.nodeType,D===9)Dl(T);else if(D===1)switch(T.nodeName){case"HEAD":case"HTML":case"BODY":Dl(T);break;default:T.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((T&1024)!==0)throw Error(A(163))}if(T=R.sibling,T!==null){T.return=R.return,Ot=T;break}Ot=R.return}}function Rh(T,R,D){var L=D.flags;switch(D.tag){case 0:case 11:case 15:Ur(T,D),L&4&&ei(5,D);break;case 1:if(Ur(T,D),L&4)if(T=D.stateNode,R===null)try{T.componentDidMount()}catch(K){ht(D,D.return,K)}else{var V=Dn(D.type,R.memoizedProps);R=R.memoizedState;try{T.componentDidUpdate(V,R,T.__reactInternalSnapshotBeforeUpdate)}catch(K){ht(D,D.return,K)}}L&64&&Sh(D),L&512&&ti(D,D.return);break;case 3:if(Ur(T,D),L&64&&(T=D.updateQueue,T!==null)){if(R=null,D.child!==null)switch(D.child.tag){case 27:case 5:R=D.child.stateNode;break;case 1:R=D.child.stateNode}try{fu(T,R)}catch(K){ht(D,D.return,K)}}break;case 27:R===null&&L&4&&Th(D);case 26:case 5:Ur(T,D),R===null&&L&4&&Ch(D),L&512&&ti(D,D.return);break;case 12:Ur(T,D);break;case 31:Ur(T,D),L&4&&Ph(T,D);break;case 13:Ur(T,D),L&4&&Oh(T,D),L&64&&(T=D.memoizedState,T!==null&&(T=T.dehydrated,T!==null&&(D=Np.bind(null,D),Wp(T,D))));break;case 22:if(L=D.memoizedState!==null||Lr,!L){R=R!==null&&R.memoizedState!==null||Mt,V=Lr;var Z=Mt;Lr=L,(Mt=R)&&!Z?Hr(T,D,(D.subtreeFlags&8772)!==0):Ur(T,D),Lr=V,Mt=Z}break;case 30:break;default:Ur(T,D)}}function Mh(T){var R=T.alternate;R!==null&&(T.alternate=null,Mh(R)),T.child=null,T.deletions=null,T.sibling=null,T.tag===5&&(R=T.stateNode,R!==null&&Ba(R)),T.stateNode=null,T.return=null,T.dependencies=null,T.memoizedProps=null,T.memoizedState=null,T.pendingProps=null,T.stateNode=null,T.updateQueue=null}var _t=null,Vt=!1;function Br(T,R,D){for(D=D.child;D!==null;)Nh(T,R,D),D=D.sibling}function Nh(T,R,D){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(yr,D)}catch{}switch(D.tag){case 26:Mt||Ar(D,R),Br(T,R,D),D.memoizedState?D.memoizedState.count--:D.stateNode&&(D=D.stateNode,D.parentNode.removeChild(D));break;case 27:Mt||Ar(D,R);var L=_t,V=Vt;pn(D.type)&&(_t=D.stateNode,Vt=!1),Br(T,R,D),ui(D.stateNode),_t=L,Vt=V;break;case 5:Mt||Ar(D,R);case 6:if(L=_t,V=Vt,_t=null,Br(T,R,D),_t=L,Vt=V,_t!==null)if(Vt)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(D.stateNode)}catch(Z){ht(D,R,Z)}else try{_t.removeChild(D.stateNode)}catch(Z){ht(D,R,Z)}break;case 18:_t!==null&&(Vt?(T=_t,Ef(T.nodeType===9?T.body:T.nodeName==="HTML"?T.ownerDocument.body:T,D.stateNode),Ss(T)):Ef(_t,D.stateNode));break;case 4:L=_t,V=Vt,_t=D.stateNode.containerInfo,Vt=!0,Br(T,R,D),_t=L,Vt=V;break;case 0:case 11:case 14:case 15:an(2,D,R),Mt||an(4,D,R),Br(T,R,D);break;case 1:Mt||(Ar(D,R),L=D.stateNode,typeof L.componentWillUnmount=="function"&&Eh(D,R,L)),Br(T,R,D);break;case 21:Br(T,R,D);break;case 22:Mt=(L=Mt)||D.memoizedState!==null,Br(T,R,D),Mt=L;break;default:Br(T,R,D)}}function Ph(T,R){if(R.memoizedState===null&&(T=R.alternate,T!==null&&(T=T.memoizedState,T!==null))){T=T.dehydrated;try{Ss(T)}catch(D){ht(R,R.return,D)}}}function Oh(T,R){if(R.memoizedState===null&&(T=R.alternate,T!==null&&(T=T.memoizedState,T!==null&&(T=T.dehydrated,T!==null))))try{Ss(T)}catch(D){ht(R,R.return,D)}}function Sp(T){switch(T.tag){case 31:case 13:case 19:var R=T.stateNode;return R===null&&(R=T.stateNode=new wh),R;case 22:return T=T.stateNode,R=T._retryCache,R===null&&(R=T._retryCache=new wh),R;default:throw Error(A(435,T.tag))}}function la(T,R){var D=Sp(T);R.forEach(function(L){if(!D.has(L)){D.add(L);var V=Pp.bind(null,T,L);L.then(V,V)}})}function Ft(T,R){var D=R.deletions;if(D!==null)for(var L=0;L<D.length;L++){var V=D[L],Z=T,K=R,re=K;e:for(;re!==null;){switch(re.tag){case 27:if(pn(re.type)){_t=re.stateNode,Vt=!1;break e}break;case 5:_t=re.stateNode,Vt=!1;break e;case 3:case 4:_t=re.stateNode.containerInfo,Vt=!0;break e}re=re.return}if(_t===null)throw Error(A(160));Nh(Z,K,V),_t=null,Vt=!1,Z=V.alternate,Z!==null&&(Z.return=null),V.return=null}if(R.subtreeFlags&13886)for(R=R.child;R!==null;)jh(R,T),R=R.sibling}var br=null;function jh(T,R){var D=T.alternate,L=T.flags;switch(T.tag){case 0:case 11:case 14:case 15:Ft(R,T),Zt(T),L&4&&(an(3,T,T.return),ei(3,T),an(5,T,T.return));break;case 1:Ft(R,T),Zt(T),L&512&&(Mt||D===null||Ar(D,D.return)),L&64&&Lr&&(T=T.updateQueue,T!==null&&(L=T.callbacks,L!==null&&(D=T.shared.hiddenCallbacks,T.shared.hiddenCallbacks=D===null?L:D.concat(L))));break;case 26:var V=br;if(Ft(R,T),Zt(T),L&512&&(Mt||D===null||Ar(D,D.return)),L&4){var Z=D!==null?D.memoizedState:null;if(L=T.memoizedState,D===null)if(L===null)if(T.stateNode===null){e:{L=T.type,D=T.memoizedProps,V=V.ownerDocument||V;t:switch(L){case"title":Z=V.getElementsByTagName("title")[0],(!Z||Z[Rs]||Z[kt]||Z.namespaceURI==="http://www.w3.org/2000/svg"||Z.hasAttribute("itemprop"))&&(Z=V.createElement(L),V.head.insertBefore(Z,V.querySelector("head > title"))),It(Z,L,D),Z[kt]=T,Pt(Z),L=Z;break e;case"link":var K=kf("link","href",V).get(L+(D.href||""));if(K){for(var re=0;re<K.length;re++)if(Z=K[re],Z.getAttribute("href")===(D.href==null||D.href===""?null:D.href)&&Z.getAttribute("rel")===(D.rel==null?null:D.rel)&&Z.getAttribute("title")===(D.title==null?null:D.title)&&Z.getAttribute("crossorigin")===(D.crossOrigin==null?null:D.crossOrigin)){K.splice(re,1);break t}}Z=V.createElement(L),It(Z,L,D),V.head.appendChild(Z);break;case"meta":if(K=kf("meta","content",V).get(L+(D.content||""))){for(re=0;re<K.length;re++)if(Z=K[re],Z.getAttribute("content")===(D.content==null?null:""+D.content)&&Z.getAttribute("name")===(D.name==null?null:D.name)&&Z.getAttribute("property")===(D.property==null?null:D.property)&&Z.getAttribute("http-equiv")===(D.httpEquiv==null?null:D.httpEquiv)&&Z.getAttribute("charset")===(D.charSet==null?null:D.charSet)){K.splice(re,1);break t}}Z=V.createElement(L),It(Z,L,D),V.head.appendChild(Z);break;default:throw Error(A(468,L))}Z[kt]=T,Pt(Z),L=Z}T.stateNode=L}else $f(V,T.type,T.stateNode);else T.stateNode=jf(V,L,T.memoizedProps);else Z!==L?(Z===null?D.stateNode!==null&&(D=D.stateNode,D.parentNode.removeChild(D)):Z.count--,L===null?$f(V,T.type,T.stateNode):jf(V,L,T.memoizedProps)):L===null&&T.stateNode!==null&&ll(T,T.memoizedProps,D.memoizedProps)}break;case 27:Ft(R,T),Zt(T),L&512&&(Mt||D===null||Ar(D,D.return)),D!==null&&L&4&&ll(T,T.memoizedProps,D.memoizedProps);break;case 5:if(Ft(R,T),Zt(T),L&512&&(Mt||D===null||Ar(D,D.return)),T.flags&32){V=T.stateNode;try{Fn(V,"")}catch(Ue){ht(T,T.return,Ue)}}L&4&&T.stateNode!=null&&(V=T.memoizedProps,ll(T,V,D!==null?D.memoizedProps:V)),L&1024&&(hl=!0);break;case 6:if(Ft(R,T),Zt(T),L&4){if(T.stateNode===null)throw Error(A(162));L=T.memoizedProps,D=T.stateNode;try{D.nodeValue=L}catch(Ue){ht(T,T.return,Ue)}}break;case 3:if(Aa=null,V=br,br=Ea(R.containerInfo),Ft(R,T),br=V,Zt(T),L&4&&D!==null&&D.memoizedState.isDehydrated)try{Ss(R.containerInfo)}catch(Ue){ht(T,T.return,Ue)}hl&&(hl=!1,kh(T));break;case 4:L=br,br=Ea(T.stateNode.containerInfo),Ft(R,T),Zt(T),br=L;break;case 12:Ft(R,T),Zt(T);break;case 31:Ft(R,T),Zt(T),L&4&&(L=T.updateQueue,L!==null&&(T.updateQueue=null,la(T,L)));break;case 13:Ft(R,T),Zt(T),T.child.flags&8192&&T.memoizedState!==null!=(D!==null&&D.memoizedState!==null)&&(ua=ct()),L&4&&(L=T.updateQueue,L!==null&&(T.updateQueue=null,la(T,L)));break;case 22:V=T.memoizedState!==null;var pe=D!==null&&D.memoizedState!==null,Ce=Lr,Me=Mt;if(Lr=Ce||V,Mt=Me||pe,Ft(R,T),Mt=Me,Lr=Ce,Zt(T),L&8192)e:for(R=T.stateNode,R._visibility=V?R._visibility&-2:R._visibility|1,V&&(D===null||pe||Lr||Mt||zn(T)),D=null,R=T;;){if(R.tag===5||R.tag===26){if(D===null){pe=D=R;try{if(Z=pe.stateNode,V)K=Z.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{re=pe.stateNode;var Oe=pe.memoizedProps.style,Te=Oe!=null&&Oe.hasOwnProperty("display")?Oe.display:null;re.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(Ue){ht(pe,pe.return,Ue)}}}else if(R.tag===6){if(D===null){pe=R;try{pe.stateNode.nodeValue=V?"":pe.memoizedProps}catch(Ue){ht(pe,pe.return,Ue)}}}else if(R.tag===18){if(D===null){pe=R;try{var Re=pe.stateNode;V?Cf(Re,!0):Cf(pe.stateNode,!1)}catch(Ue){ht(pe,pe.return,Ue)}}}else if((R.tag!==22&&R.tag!==23||R.memoizedState===null||R===T)&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===T)break e;for(;R.sibling===null;){if(R.return===null||R.return===T)break e;D===R&&(D=null),R=R.return}D===R&&(D=null),R.sibling.return=R.return,R=R.sibling}L&4&&(L=T.updateQueue,L!==null&&(D=L.retryQueue,D!==null&&(L.retryQueue=null,la(T,D))));break;case 19:Ft(R,T),Zt(T),L&4&&(L=T.updateQueue,L!==null&&(T.updateQueue=null,la(T,L)));break;case 30:break;case 21:break;default:Ft(R,T),Zt(T)}}function Zt(T){var R=T.flags;if(R&2){try{for(var D,L=T.return;L!==null;){if(Ah(L)){D=L;break}L=L.return}if(D==null)throw Error(A(160));switch(D.tag){case 27:var V=D.stateNode,Z=cl(T);oa(T,Z,V);break;case 5:var K=D.stateNode;D.flags&32&&(Fn(K,""),D.flags&=-33);var re=cl(T);oa(T,re,K);break;case 3:case 4:var pe=D.stateNode.containerInfo,Ce=cl(T);ul(T,Ce,pe);break;default:throw Error(A(161))}}catch(Me){ht(T,T.return,Me)}T.flags&=-3}R&4096&&(T.flags&=-4097)}function kh(T){if(T.subtreeFlags&1024)for(T=T.child;T!==null;){var R=T;kh(R),R.tag===5&&R.flags&1024&&R.stateNode.reset(),T=T.sibling}}function Ur(T,R){if(R.subtreeFlags&8772)for(R=R.child;R!==null;)Rh(T,R.alternate,R),R=R.sibling}function zn(T){for(T=T.child;T!==null;){var R=T;switch(R.tag){case 0:case 11:case 14:case 15:an(4,R,R.return),zn(R);break;case 1:Ar(R,R.return);var D=R.stateNode;typeof D.componentWillUnmount=="function"&&Eh(R,R.return,D),zn(R);break;case 27:ui(R.stateNode);case 26:case 5:Ar(R,R.return),zn(R);break;case 22:R.memoizedState===null&&zn(R);break;case 30:zn(R);break;default:zn(R)}T=T.sibling}}function Hr(T,R,D){for(D=D&&(R.subtreeFlags&8772)!==0,R=R.child;R!==null;){var L=R.alternate,V=T,Z=R,K=Z.flags;switch(Z.tag){case 0:case 11:case 15:Hr(V,Z,D),ei(4,Z);break;case 1:if(Hr(V,Z,D),L=Z,V=L.stateNode,typeof V.componentDidMount=="function")try{V.componentDidMount()}catch(Ce){ht(L,L.return,Ce)}if(L=Z,V=L.updateQueue,V!==null){var re=L.stateNode;try{var pe=V.shared.hiddenCallbacks;if(pe!==null)for(V.shared.hiddenCallbacks=null,V=0;V<pe.length;V++)hu(pe[V],re)}catch(Ce){ht(L,L.return,Ce)}}D&&K&64&&Sh(Z),ti(Z,Z.return);break;case 27:Th(Z);case 26:case 5:Hr(V,Z,D),D&&L===null&&K&4&&Ch(Z),ti(Z,Z.return);break;case 12:Hr(V,Z,D);break;case 31:Hr(V,Z,D),D&&K&4&&Ph(V,Z);break;case 13:Hr(V,Z,D),D&&K&4&&Oh(V,Z);break;case 22:Z.memoizedState===null&&Hr(V,Z,D),ti(Z,Z.return);break;case 30:break;default:Hr(V,Z,D)}R=R.sibling}}function fl(T,R){var D=null;T!==null&&T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(D=T.memoizedState.cachePool.pool),T=null,R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(T=R.memoizedState.cachePool.pool),T!==D&&(T!=null&&T.refCount++,D!=null&&Us(D))}function dl(T,R){T=null,R.alternate!==null&&(T=R.alternate.memoizedState.cache),R=R.memoizedState.cache,R!==T&&(R.refCount++,T!=null&&Us(T))}function vr(T,R,D,L){if(R.subtreeFlags&10256)for(R=R.child;R!==null;)$h(T,R,D,L),R=R.sibling}function $h(T,R,D,L){var V=R.flags;switch(R.tag){case 0:case 11:case 15:vr(T,R,D,L),V&2048&&ei(9,R);break;case 1:vr(T,R,D,L);break;case 3:vr(T,R,D,L),V&2048&&(T=null,R.alternate!==null&&(T=R.alternate.memoizedState.cache),R=R.memoizedState.cache,R!==T&&(R.refCount++,T!=null&&Us(T)));break;case 12:if(V&2048){vr(T,R,D,L),T=R.stateNode;try{var Z=R.memoizedProps,K=Z.id,re=Z.onPostCommit;typeof re=="function"&&re(K,R.alternate===null?"mount":"update",T.passiveEffectDuration,-0)}catch(pe){ht(R,R.return,pe)}}else vr(T,R,D,L);break;case 31:vr(T,R,D,L);break;case 13:vr(T,R,D,L);break;case 23:break;case 22:Z=R.stateNode,K=R.alternate,R.memoizedState!==null?Z._visibility&2?vr(T,R,D,L):ri(T,R):Z._visibility&2?vr(T,R,D,L):(Z._visibility|=2,hs(T,R,D,L,(R.subtreeFlags&10256)!==0||!1)),V&2048&&fl(K,R);break;case 24:vr(T,R,D,L),V&2048&&dl(R.alternate,R);break;default:vr(T,R,D,L)}}function hs(T,R,D,L,V){for(V=V&&((R.subtreeFlags&10256)!==0||!1),R=R.child;R!==null;){var Z=T,K=R,re=D,pe=L,Ce=K.flags;switch(K.tag){case 0:case 11:case 15:hs(Z,K,re,pe,V),ei(8,K);break;case 23:break;case 22:var Me=K.stateNode;K.memoizedState!==null?Me._visibility&2?hs(Z,K,re,pe,V):ri(Z,K):(Me._visibility|=2,hs(Z,K,re,pe,V)),V&&Ce&2048&&fl(K.alternate,K);break;case 24:hs(Z,K,re,pe,V),V&&Ce&2048&&dl(K.alternate,K);break;default:hs(Z,K,re,pe,V)}R=R.sibling}}function ri(T,R){if(R.subtreeFlags&10256)for(R=R.child;R!==null;){var D=T,L=R,V=L.flags;switch(L.tag){case 22:ri(D,L),V&2048&&fl(L.alternate,L);break;case 24:ri(D,L),V&2048&&dl(L.alternate,L);break;default:ri(D,L)}R=R.sibling}}var ni=8192;function fs(T,R,D){if(T.subtreeFlags&ni)for(T=T.child;T!==null;)Dh(T,R,D),T=T.sibling}function Dh(T,R,D){switch(T.tag){case 26:fs(T,R,D),T.flags&ni&&T.memoizedState!==null&&lm(D,br,T.memoizedState,T.memoizedProps);break;case 5:fs(T,R,D);break;case 3:case 4:var L=br;br=Ea(T.stateNode.containerInfo),fs(T,R,D),br=L;break;case 22:T.memoizedState===null&&(L=T.alternate,L!==null&&L.memoizedState!==null?(L=ni,ni=16777216,fs(T,R,D),ni=L):fs(T,R,D));break;default:fs(T,R,D)}}function zh(T){var R=T.alternate;if(R!==null&&(T=R.child,T!==null)){R.child=null;do R=T.sibling,T.sibling=null,T=R;while(T!==null)}}function si(T){var R=T.deletions;if((T.flags&16)!==0){if(R!==null)for(var D=0;D<R.length;D++){var L=R[D];Ot=L,Lh(L,T)}zh(T)}if(T.subtreeFlags&10256)for(T=T.child;T!==null;)Ih(T),T=T.sibling}function Ih(T){switch(T.tag){case 0:case 11:case 15:si(T),T.flags&2048&&an(9,T,T.return);break;case 3:si(T);break;case 12:si(T);break;case 22:var R=T.stateNode;T.memoizedState!==null&&R._visibility&2&&(T.return===null||T.return.tag!==13)?(R._visibility&=-3,ca(T)):si(T);break;default:si(T)}}function ca(T){var R=T.deletions;if((T.flags&16)!==0){if(R!==null)for(var D=0;D<R.length;D++){var L=R[D];Ot=L,Lh(L,T)}zh(T)}for(T=T.child;T!==null;){switch(R=T,R.tag){case 0:case 11:case 15:an(8,R,R.return),ca(R);break;case 22:D=R.stateNode,D._visibility&2&&(D._visibility&=-3,ca(R));break;default:ca(R)}T=T.sibling}}function Lh(T,R){for(;Ot!==null;){var D=Ot;switch(D.tag){case 0:case 11:case 15:an(8,D,R);break;case 23:case 22:if(D.memoizedState!==null&&D.memoizedState.cachePool!==null){var L=D.memoizedState.cachePool.pool;L!=null&&L.refCount++}break;case 24:Us(D.memoizedState.cache)}if(L=D.child,L!==null)L.return=D,Ot=L;else e:for(D=T;Ot!==null;){L=Ot;var V=L.sibling,Z=L.return;if(Mh(L),L===D){Ot=null;break e}if(V!==null){V.return=Z,Ot=V;break e}Ot=Z}}}var Ep={getCacheForType:function(T){var R=Dt(Tt),D=R.data.get(T);return D===void 0&&(D=T(),R.data.set(T,D)),D},cacheSignal:function(){return Dt(Tt).controller.signal}},Cp=typeof WeakMap=="function"?WeakMap:Map,lt=0,gt=null,tt=null,nt=0,ut=0,er=null,on=!1,ds=!1,pl=!1,Gr=0,vt=0,ln=0,In=0,ml=0,tr=0,ps=0,ii=null,qt=null,gl=!1,ua=0,Bh=0,ha=1/0,fa=null,un=null,Nt=0,hn=null,ms=null,Vr=0,xl=0,yl=null,Uh=null,ai=0,_l=null;function rr(){return(lt&2)!==0&&nt!==0?nt&-nt:oe.T!==null?Al():nc()}function Hh(){if(tr===0)if((nt&536870912)===0||it){var T=bi;bi<<=1,(bi&3932160)===0&&(bi=262144),tr=T}else tr=536870912;return T=Qt.current,T!==null&&(T.flags|=32),tr}function Yt(T,R,D){(T===gt&&(ut===2||ut===9)||T.cancelPendingCommit!==null)&&(gs(T,0),fn(T,nt,tr,!1)),ws(T,D),((lt&2)===0||T!==gt)&&(T===gt&&((lt&2)===0&&(In|=D),vt===4&&fn(T,nt,tr,!1)),Tr(T))}function Gh(T,R,D){if((lt&6)!==0)throw Error(A(327));var L=!D&&(R&127)===0&&(R&T.expiredLanes)===0||Ts(T,R),V=L?wp(T,R):vl(T,R,!0),Z=L;do{if(V===0){ds&&!L&&fn(T,R,0,!1);break}else{if(D=T.current.alternate,Z&&!Ap(D)){V=vl(T,R,!1),Z=!1;continue}if(V===2){if(Z=R,T.errorRecoveryDisabledLanes&Z)var K=0;else K=T.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){R=K;e:{var re=T;V=ii;var pe=re.current.memoizedState.isDehydrated;if(pe&&(gs(re,K).flags|=256),K=vl(re,K,!1),K!==2){if(pl&&!pe){re.errorRecoveryDisabledLanes|=Z,In|=Z,V=4;break e}Z=qt,qt=V,Z!==null&&(qt===null?qt=Z:qt.push.apply(qt,Z))}V=K}if(Z=!1,V!==2)continue}}if(V===1){gs(T,0),fn(T,R,0,!0);break}e:{switch(L=T,Z=V,Z){case 0:case 1:throw Error(A(345));case 4:if((R&4194048)!==R)break;case 6:fn(L,R,tr,!on);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(A(329))}if((R&62914560)===R&&(V=ua+300-ct(),10<V)){if(fn(L,R,tr,!on),Si(L,0,!0)!==0)break e;Vr=R,L.timeoutHandle=vf(Vh.bind(null,L,D,qt,fa,gl,R,tr,In,ps,on,Z,"Throttled",-0,0),V);break e}Vh(L,D,qt,fa,gl,R,tr,In,ps,on,Z,null,-0,0)}}break}while(!0);Tr(T)}function Vh(T,R,D,L,V,Z,K,re,pe,Ce,Me,Oe,Te,Re){if(T.timeoutHandle=-1,Oe=R.subtreeFlags,Oe&8192||(Oe&16785408)===16785408){Oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mr},Dh(R,Z,Oe);var Ue=(Z&62914560)===Z?ua-ct():(Z&4194048)===Z?Bh-ct():0;if(Ue=cm(Oe,Ue),Ue!==null){Vr=Z,T.cancelPendingCommit=Ue(Qh.bind(null,T,R,Z,D,L,V,K,re,pe,Me,Oe,null,Te,Re)),fn(T,Z,K,!Ce);return}}Qh(T,R,Z,D,L,V,K,re,pe)}function Ap(T){for(var R=T;;){var D=R.tag;if((D===0||D===11||D===15)&&R.flags&16384&&(D=R.updateQueue,D!==null&&(D=D.stores,D!==null)))for(var L=0;L<D.length;L++){var V=D[L],Z=V.getSnapshot;V=V.value;try{if(!Wt(Z(),V))return!1}catch{return!1}}if(D=R.child,R.subtreeFlags&16384&&D!==null)D.return=R,R=D;else{if(R===T)break;for(;R.sibling===null;){if(R.return===null||R.return===T)return!0;R=R.return}R.sibling.return=R.return,R=R.sibling}}return!0}function fn(T,R,D,L){R&=~ml,R&=~In,T.suspendedLanes|=R,T.pingedLanes&=~R,L&&(T.warmLanes|=R),L=T.expirationTimes;for(var V=R;0<V;){var Z=31-Xt(V),K=1<<Z;L[Z]=-1,V&=~K}D!==0&&ec(T,D,R)}function da(){return(lt&6)===0?(oi(0),!1):!0}function bl(){if(tt!==null){if(ut===0)var T=tt.return;else T=tt,jr=Mn=null,Do(T),as=null,Gs=0,T=tt;for(;T!==null;)vh(T.alternate,T),T=T.return;tt=null}}function gs(T,R){var D=T.timeoutHandle;D!==-1&&(T.timeoutHandle=-1,Fp(D)),D=T.cancelPendingCommit,D!==null&&(T.cancelPendingCommit=null,D()),Vr=0,bl(),gt=T,tt=D=Pr(T.current,null),nt=R,ut=0,er=null,on=!1,ds=Ts(T,R),pl=!1,ps=tr=ml=In=ln=vt=0,qt=ii=null,gl=!1,(R&8)!==0&&(R|=R&32);var L=T.entangledLanes;if(L!==0)for(T=T.entanglements,L&=R;0<L;){var V=31-Xt(L),Z=1<<V;R|=T[V],L&=~Z}return Gr=R,ki(),D}function Fh(T,R){Je=null,oe.H=Ks,R===is||R===Hi?(R=ou(),ut=3):R===Co?(R=ou(),ut=4):ut=R===Qo?8:R!==null&&typeof R=="object"&&typeof R.then=="function"?6:1,er=R,tt===null&&(vt=1,ra(T,hr(R,T.current)))}function Zh(){var T=Qt.current;return T===null?!0:(nt&4194048)===nt?mr===null:(nt&62914560)===nt||(nt&536870912)!==0?T===mr:!1}function qh(){var T=oe.H;return oe.H=Ks,T===null?Ks:T}function Yh(){var T=oe.A;return oe.A=Ep,T}function pa(){vt=4,on||(nt&4194048)!==nt&&Qt.current!==null||(ds=!0),(ln&134217727)===0&&(In&134217727)===0||gt===null||fn(gt,nt,tr,!1)}function vl(T,R,D){var L=lt;lt|=2;var V=qh(),Z=Yh();(gt!==T||nt!==R)&&(fa=null,gs(T,R)),R=!1;var K=vt;e:do try{if(ut!==0&&tt!==null){var re=tt,pe=er;switch(ut){case 8:bl(),K=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(R=!0);var Ce=ut;if(ut=0,er=null,xs(T,re,pe,Ce),D&&ds){K=0;break e}break;default:Ce=ut,ut=0,er=null,xs(T,re,pe,Ce)}}Tp(),K=vt;break}catch(Me){Fh(T,Me)}while(!0);return R&&T.shellSuspendCounter++,jr=Mn=null,lt=L,oe.H=V,oe.A=Z,tt===null&&(gt=null,nt=0,ki()),K}function Tp(){for(;tt!==null;)Xh(tt)}function wp(T,R){var D=lt;lt|=2;var L=qh(),V=Yh();gt!==T||nt!==R?(fa=null,ha=ct()+500,gs(T,R)):ds=Ts(T,R);e:do try{if(ut!==0&&tt!==null){R=tt;var Z=er;t:switch(ut){case 1:ut=0,er=null,xs(T,R,Z,1);break;case 2:case 9:if(iu(Z)){ut=0,er=null,Wh(R);break}R=function(){ut!==2&&ut!==9||gt!==T||(ut=7),Tr(T)},Z.then(R,R);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:iu(Z)?(ut=0,er=null,Wh(R)):(ut=0,er=null,xs(T,R,Z,7));break;case 5:var K=null;switch(tt.tag){case 26:K=tt.memoizedState;case 5:case 27:var re=tt;if(K?Df(K):re.stateNode.complete){ut=0,er=null;var pe=re.sibling;if(pe!==null)tt=pe;else{var Ce=re.return;Ce!==null?(tt=Ce,ma(Ce)):tt=null}break t}}ut=0,er=null,xs(T,R,Z,5);break;case 6:ut=0,er=null,xs(T,R,Z,6);break;case 8:bl(),vt=6;break e;default:throw Error(A(462))}}Rp();break}catch(Me){Fh(T,Me)}while(!0);return jr=Mn=null,oe.H=L,oe.A=V,lt=D,tt!==null?0:(gt=null,nt=0,ki(),vt)}function Rp(){for(;tt!==null&&!ir();)Xh(tt)}function Xh(T){var R=_h(T.alternate,T,Gr);T.memoizedProps=T.pendingProps,R===null?ma(T):tt=R}function Wh(T){var R=T,D=R.alternate;switch(R.tag){case 15:case 0:R=dh(D,R,R.pendingProps,R.type,void 0,nt);break;case 11:R=dh(D,R,R.pendingProps,R.type.render,R.ref,nt);break;case 5:Do(R);default:vh(D,R),R=tt=Yc(R,Gr),R=_h(D,R,Gr)}T.memoizedProps=T.pendingProps,R===null?ma(T):tt=R}function xs(T,R,D,L){jr=Mn=null,Do(R),as=null,Gs=0;var V=R.return;try{if(gp(T,V,R,D,nt)){vt=1,ra(T,hr(D,T.current)),tt=null;return}}catch(Z){if(V!==null)throw tt=V,Z;vt=1,ra(T,hr(D,T.current)),tt=null;return}R.flags&32768?(it||L===1?T=!0:ds||(nt&536870912)!==0?T=!1:(on=T=!0,(L===2||L===9||L===3||L===6)&&(L=Qt.current,L!==null&&L.tag===13&&(L.flags|=16384))),Kh(R,T)):ma(R)}function ma(T){var R=T;do{if((R.flags&32768)!==0){Kh(R,on);return}T=R.return;var D=_p(R.alternate,R,Gr);if(D!==null){tt=D;return}if(R=R.sibling,R!==null){tt=R;return}tt=R=T}while(R!==null);vt===0&&(vt=5)}function Kh(T,R){do{var D=bp(T.alternate,T);if(D!==null){D.flags&=32767,tt=D;return}if(D=T.return,D!==null&&(D.flags|=32768,D.subtreeFlags=0,D.deletions=null),!R&&(T=T.sibling,T!==null)){tt=T;return}tt=T=D}while(T!==null);vt=6,tt=null}function Qh(T,R,D,L,V,Z,K,re,pe){T.cancelPendingCommit=null;do ga();while(Nt!==0);if((lt&6)!==0)throw Error(A(327));if(R!==null){if(R===T.current)throw Error(A(177));if(Z=R.lanes|R.childLanes,Z|=lo,od(T,D,Z,K,re,pe),T===gt&&(tt=gt=null,nt=0),ms=R,hn=T,Vr=D,xl=Z,yl=V,Uh=L,(R.subtreeFlags&10256)!==0||(R.flags&10256)!==0?(T.callbackNode=null,T.callbackPriority=0,Op(Ut,function(){return nf(),null})):(T.callbackNode=null,T.callbackPriority=0),L=(R.flags&13878)!==0,(R.subtreeFlags&13878)!==0||L){L=oe.T,oe.T=null,V=de.p,de.p=2,K=lt,lt|=4;try{vp(T,R,D)}finally{lt=K,de.p=V,oe.T=L}}Nt=1,Jh(),ef(),tf()}}function Jh(){if(Nt===1){Nt=0;var T=hn,R=ms,D=(R.flags&13878)!==0;if((R.subtreeFlags&13878)!==0||D){D=oe.T,oe.T=null;var L=de.p;de.p=2;var V=lt;lt|=4;try{jh(R,T);var Z=jl,K=Lc(T.containerInfo),re=Z.focusedElem,pe=Z.selectionRange;if(K!==re&&re&&re.ownerDocument&&Ic(re.ownerDocument.documentElement,re)){if(pe!==null&&no(re)){var Ce=pe.start,Me=pe.end;if(Me===void 0&&(Me=Ce),"selectionStart"in re)re.selectionStart=Ce,re.selectionEnd=Math.min(Me,re.value.length);else{var Oe=re.ownerDocument||document,Te=Oe&&Oe.defaultView||window;if(Te.getSelection){var Re=Te.getSelection(),Ue=re.textContent.length,Ye=Math.min(pe.start,Ue),mt=pe.end===void 0?Ye:Math.min(pe.end,Ue);!Re.extend&&Ye>mt&&(K=mt,mt=Ye,Ye=K);var _e=zc(re,Ye),ge=zc(re,mt);if(_e&&ge&&(Re.rangeCount!==1||Re.anchorNode!==_e.node||Re.anchorOffset!==_e.offset||Re.focusNode!==ge.node||Re.focusOffset!==ge.offset)){var Ee=Oe.createRange();Ee.setStart(_e.node,_e.offset),Re.removeAllRanges(),Ye>mt?(Re.addRange(Ee),Re.extend(ge.node,ge.offset)):(Ee.setEnd(ge.node,ge.offset),Re.addRange(Ee))}}}}for(Oe=[],Re=re;Re=Re.parentNode;)Re.nodeType===1&&Oe.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof re.focus=="function"&&re.focus(),re=0;re<Oe.length;re++){var Ne=Oe[re];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}Ma=!!Ol,jl=Ol=null}finally{lt=V,de.p=L,oe.T=D}}T.current=R,Nt=2}}function ef(){if(Nt===2){Nt=0;var T=hn,R=ms,D=(R.flags&8772)!==0;if((R.subtreeFlags&8772)!==0||D){D=oe.T,oe.T=null;var L=de.p;de.p=2;var V=lt;lt|=4;try{Rh(T,R.alternate,R)}finally{lt=V,de.p=L,oe.T=D}}Nt=3}}function tf(){if(Nt===4||Nt===3){Nt=0,bn();var T=hn,R=ms,D=Vr,L=Uh;(R.subtreeFlags&10256)!==0||(R.flags&10256)!==0?Nt=5:(Nt=0,ms=hn=null,rf(T,T.pendingLanes));var V=T.pendingLanes;if(V===0&&(un=null),Ia(D),R=R.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(yr,R,void 0,(R.current.flags&128)===128)}catch{}if(L!==null){R=oe.T,V=de.p,de.p=2,oe.T=null;try{for(var Z=T.onRecoverableError,K=0;K<L.length;K++){var re=L[K];Z(re.value,{componentStack:re.stack})}}finally{oe.T=R,de.p=V}}(Vr&3)!==0&&ga(),Tr(T),V=T.pendingLanes,(D&261930)!==0&&(V&42)!==0?T===_l?ai++:(ai=0,_l=T):ai=0,oi(0)}}function rf(T,R){(T.pooledCacheLanes&=R)===0&&(R=T.pooledCache,R!=null&&(T.pooledCache=null,Us(R)))}function ga(){return Jh(),ef(),tf(),nf()}function nf(){if(Nt!==5)return!1;var T=hn,R=xl;xl=0;var D=Ia(Vr),L=oe.T,V=de.p;try{de.p=32>D?32:D,oe.T=null,D=yl,yl=null;var Z=hn,K=Vr;if(Nt=0,ms=hn=null,Vr=0,(lt&6)!==0)throw Error(A(331));var re=lt;if(lt|=4,Ih(Z.current),$h(Z,Z.current,K,D),lt=re,oi(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(yr,Z)}catch{}return!0}finally{de.p=V,oe.T=L,rf(T,R)}}function sf(T,R,D){R=hr(D,R),R=Ko(T.stateNode,R,2),T=rn(T,R,2),T!==null&&(ws(T,2),Tr(T))}function ht(T,R,D){if(T.tag===3)sf(T,T,D);else for(;R!==null;){if(R.tag===3){sf(R,T,D);break}else if(R.tag===1){var L=R.stateNode;if(typeof R.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(un===null||!un.has(L))){T=hr(D,T),D=ih(2),L=rn(R,D,2),L!==null&&(ah(D,L,R,T),ws(L,2),Tr(L));break}}R=R.return}}function Sl(T,R,D){var L=T.pingCache;if(L===null){L=T.pingCache=new Cp;var V=new Set;L.set(R,V)}else V=L.get(R),V===void 0&&(V=new Set,L.set(R,V));V.has(D)||(pl=!0,V.add(D),T=Mp.bind(null,T,R,D),R.then(T,T))}function Mp(T,R,D){var L=T.pingCache;L!==null&&L.delete(R),T.pingedLanes|=T.suspendedLanes&D,T.warmLanes&=~D,gt===T&&(nt&D)===D&&(vt===4||vt===3&&(nt&62914560)===nt&&300>ct()-ua?(lt&2)===0&&gs(T,0):ml|=D,ps===nt&&(ps=0)),Tr(T)}function af(T,R){R===0&&(R=Jl()),T=Tn(T,R),T!==null&&(ws(T,R),Tr(T))}function Np(T){var R=T.memoizedState,D=0;R!==null&&(D=R.retryLane),af(T,D)}function Pp(T,R){var D=0;switch(T.tag){case 31:case 13:var L=T.stateNode,V=T.memoizedState;V!==null&&(D=V.retryLane);break;case 19:L=T.stateNode;break;case 22:L=T.stateNode._retryCache;break;default:throw Error(A(314))}L!==null&&L.delete(R),af(T,D)}function Op(T,R){return sr(T,R)}var xa=null,ys=null,El=!1,ya=!1,Cl=!1,dn=0;function Tr(T){T!==ys&&T.next===null&&(ys===null?xa=ys=T:ys=ys.next=T),ya=!0,El||(El=!0,kp())}function oi(T,R){if(!Cl&&ya){Cl=!0;do for(var D=!1,L=xa;L!==null;){if(T!==0){var V=L.pendingLanes;if(V===0)var Z=0;else{var K=L.suspendedLanes,re=L.pingedLanes;Z=(1<<31-Xt(42|T)+1)-1,Z&=V&~(K&~re),Z=Z&201326741?Z&201326741|1:Z?Z|2:0}Z!==0&&(D=!0,uf(L,Z))}else Z=nt,Z=Si(L,L===gt?Z:0,L.cancelPendingCommit!==null||L.timeoutHandle!==-1),(Z&3)===0||Ts(L,Z)||(D=!0,uf(L,Z));L=L.next}while(D);Cl=!1}}function jp(){of()}function of(){ya=El=!1;var T=0;dn!==0&&Vp()&&(T=dn);for(var R=ct(),D=null,L=xa;L!==null;){var V=L.next,Z=lf(L,R);Z===0?(L.next=null,D===null?xa=V:D.next=V,V===null&&(ys=D)):(D=L,(T!==0||(Z&3)!==0)&&(ya=!0)),L=V}Nt!==0&&Nt!==5||oi(T),dn!==0&&(dn=0)}function lf(T,R){for(var D=T.suspendedLanes,L=T.pingedLanes,V=T.expirationTimes,Z=T.pendingLanes&-62914561;0<Z;){var K=31-Xt(Z),re=1<<K,pe=V[K];pe===-1?((re&D)===0||(re&L)!==0)&&(V[K]=ad(re,R)):pe<=R&&(T.expiredLanes|=re),Z&=~re}if(R=gt,D=nt,D=Si(T,T===R?D:0,T.cancelPendingCommit!==null||T.timeoutHandle!==-1),L=T.callbackNode,D===0||T===R&&(ut===2||ut===9)||T.cancelPendingCommit!==null)return L!==null&&L!==null&&Sr(L),T.callbackNode=null,T.callbackPriority=0;if((D&3)===0||Ts(T,D)){if(R=D&-D,R===T.callbackPriority)return R;switch(L!==null&&Sr(L),Ia(D)){case 2:case 8:D=jt;break;case 32:D=Ut;break;case 268435456:D=As;break;default:D=Ut}return L=cf.bind(null,T),D=sr(D,L),T.callbackPriority=R,T.callbackNode=D,R}return L!==null&&L!==null&&Sr(L),T.callbackPriority=2,T.callbackNode=null,2}function cf(T,R){if(Nt!==0&&Nt!==5)return T.callbackNode=null,T.callbackPriority=0,null;var D=T.callbackNode;if(ga()&&T.callbackNode!==D)return null;var L=nt;return L=Si(T,T===gt?L:0,T.cancelPendingCommit!==null||T.timeoutHandle!==-1),L===0?null:(Gh(T,L,R),lf(T,ct()),T.callbackNode!=null&&T.callbackNode===D?cf.bind(null,T):null)}function uf(T,R){if(ga())return null;Gh(T,R,!0)}function kp(){Zp(function(){(lt&6)!==0?sr(St,jp):of()})}function Al(){if(dn===0){var T=ns;T===0&&(T=_i,_i<<=1,(_i&261888)===0&&(_i=256)),dn=T}return dn}function hf(T){return T==null||typeof T=="symbol"||typeof T=="boolean"?null:typeof T=="function"?T:Ti(""+T)}function ff(T,R){var D=R.ownerDocument.createElement("input");return D.name=R.name,D.value=R.value,T.id&&D.setAttribute("form",T.id),R.parentNode.insertBefore(D,R),T=new FormData(T),D.parentNode.removeChild(D),T}function $p(T,R,D,L,V){if(R==="submit"&&D&&D.stateNode===V){var Z=hf((V[Ht]||null).action),K=L.submitter;K&&(R=(R=K[Ht]||null)?hf(R.formAction):K.getAttribute("formAction"),R!==null&&(Z=R,K=null));var re=new Ni("action","action",null,L,V);T.push({event:re,listeners:[{instance:null,listener:function(){if(L.defaultPrevented){if(dn!==0){var pe=K?ff(V,K):new FormData(V);Fo(D,{pending:!0,data:pe,method:V.method,action:Z},null,pe)}}else typeof Z=="function"&&(re.preventDefault(),pe=K?ff(V,K):new FormData(V),Fo(D,{pending:!0,data:pe,method:V.method,action:Z},Z,pe))},currentTarget:V}]})}}for(var Tl=0;Tl<oo.length;Tl++){var wl=oo[Tl],Dp=wl.toLowerCase(),zp=wl[0].toUpperCase()+wl.slice(1);_r(Dp,"on"+zp)}_r(Hc,"onAnimationEnd"),_r(Gc,"onAnimationIteration"),_r(Vc,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(Jd,"onTransitionRun"),_r(ep,"onTransitionStart"),_r(tp,"onTransitionCancel"),_r(Fc,"onTransitionEnd"),Gn("onMouseEnter",["mouseout","mouseover"]),Gn("onMouseLeave",["mouseout","mouseover"]),Gn("onPointerEnter",["pointerout","pointerover"]),Gn("onPointerLeave",["pointerout","pointerover"]),Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ip=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(li));function df(T,R){R=(R&4)!==0;for(var D=0;D<T.length;D++){var L=T[D],V=L.event;L=L.listeners;e:{var Z=void 0;if(R)for(var K=L.length-1;0<=K;K--){var re=L[K],pe=re.instance,Ce=re.currentTarget;if(re=re.listener,pe!==Z&&V.isPropagationStopped())break e;Z=re,V.currentTarget=Ce;try{Z(V)}catch(Me){ji(Me)}V.currentTarget=null,Z=pe}else for(K=0;K<L.length;K++){if(re=L[K],pe=re.instance,Ce=re.currentTarget,re=re.listener,pe!==Z&&V.isPropagationStopped())break e;Z=re,V.currentTarget=Ce;try{Z(V)}catch(Me){ji(Me)}V.currentTarget=null,Z=pe}}}}function rt(T,R){var D=R[La];D===void 0&&(D=R[La]=new Set);var L=T+"__bubble";D.has(L)||(pf(R,T,2,!1),D.add(L))}function Rl(T,R,D){var L=0;R&&(L|=4),pf(D,T,L,R)}var ba="_reactListening"+Math.random().toString(36).slice(2);function Ml(T){if(!T[ba]){T[ba]=!0,ac.forEach(function(D){D!=="selectionchange"&&(Ip.has(D)||Rl(D,!1,T),Rl(D,!0,T))});var R=T.nodeType===9?T:T.ownerDocument;R===null||R[ba]||(R[ba]=!0,Rl("selectionchange",!1,R))}}function pf(T,R,D,L){switch(Gf(R)){case 2:var V=fm;break;case 8:V=dm;break;default:V=Vl}D=V.bind(null,R,D,T),V=void 0,!Ya||R!=="touchstart"&&R!=="touchmove"&&R!=="wheel"||(V=!0),L?V!==void 0?T.addEventListener(R,D,{capture:!0,passive:V}):T.addEventListener(R,D,!0):V!==void 0?T.addEventListener(R,D,{passive:V}):T.addEventListener(R,D,!1)}function Nl(T,R,D,L,V){var Z=L;if((R&1)===0&&(R&2)===0&&L!==null)e:for(;;){if(L===null)return;var K=L.tag;if(K===3||K===4){var re=L.stateNode.containerInfo;if(re===V)break;if(K===4)for(K=L.return;K!==null;){var pe=K.tag;if((pe===3||pe===4)&&K.stateNode.containerInfo===V)return;K=K.return}for(;re!==null;){if(K=Bn(re),K===null)return;if(pe=K.tag,pe===5||pe===6||pe===26||pe===27){L=Z=K;continue e}re=re.parentNode}}L=L.return}yc(function(){var Ce=Z,Me=Za(D),Oe=[];e:{var Te=Zc.get(T);if(Te!==void 0){var Re=Ni,Ue=T;switch(T){case"keypress":if(Ri(D)===0)break e;case"keydown":case"keyup":Re=Pd;break;case"focusin":Ue="focus",Re=Qa;break;case"focusout":Ue="blur",Re=Qa;break;case"beforeblur":case"afterblur":Re=Qa;break;case"click":if(D.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=_d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=kd;break;case Hc:case Gc:case Vc:Re=Sd;break;case Fc:Re=Dd;break;case"scroll":case"scrollend":Re=xd;break;case"wheel":Re=Id;break;case"copy":case"cut":case"paste":Re=Cd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=Ec;break;case"toggle":case"beforetoggle":Re=Bd}var Ye=(R&4)!==0,mt=!Ye&&(T==="scroll"||T==="scrollend"),_e=Ye?Te!==null?Te+"Capture":null:Te;Ye=[];for(var ge=Ce,Ee;ge!==null;){var Ne=ge;if(Ee=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||Ee===null||_e===null||(Ne=Ns(ge,_e),Ne!=null&&Ye.push(ci(ge,Ne,Ee))),mt)break;ge=ge.return}0<Ye.length&&(Te=new Re(Te,Ue,null,D,Me),Oe.push({event:Te,listeners:Ye}))}}if((R&7)===0){e:{if(Te=T==="mouseover"||T==="pointerover",Re=T==="mouseout"||T==="pointerout",Te&&D!==Fa&&(Ue=D.relatedTarget||D.fromElement)&&(Bn(Ue)||Ue[Ln]))break e;if((Re||Te)&&(Te=Me.window===Me?Me:(Te=Me.ownerDocument)?Te.defaultView||Te.parentWindow:window,Re?(Ue=D.relatedTarget||D.toElement,Re=Ce,Ue=Ue?Bn(Ue):null,Ue!==null&&(mt=O(Ue),Ye=Ue.tag,Ue!==mt||Ye!==5&&Ye!==27&&Ye!==6)&&(Ue=null)):(Re=null,Ue=Ce),Re!==Ue)){if(Ye=vc,Ne="onMouseLeave",_e="onMouseEnter",ge="mouse",(T==="pointerout"||T==="pointerover")&&(Ye=Ec,Ne="onPointerLeave",_e="onPointerEnter",ge="pointer"),mt=Re==null?Te:Ms(Re),Ee=Ue==null?Te:Ms(Ue),Te=new Ye(Ne,ge+"leave",Re,D,Me),Te.target=mt,Te.relatedTarget=Ee,Ne=null,Bn(Me)===Ce&&(Ye=new Ye(_e,ge+"enter",Ue,D,Me),Ye.target=Ee,Ye.relatedTarget=mt,Ne=Ye),mt=Ne,Re&&Ue)t:{for(Ye=Lp,_e=Re,ge=Ue,Ee=0,Ne=_e;Ne;Ne=Ye(Ne))Ee++;Ne=0;for(var Ze=ge;Ze;Ze=Ye(Ze))Ne++;for(;0<Ee-Ne;)_e=Ye(_e),Ee--;for(;0<Ne-Ee;)ge=Ye(ge),Ne--;for(;Ee--;){if(_e===ge||ge!==null&&_e===ge.alternate){Ye=_e;break t}_e=Ye(_e),ge=Ye(ge)}Ye=null}else Ye=null;Re!==null&&mf(Oe,Te,Re,Ye,!1),Ue!==null&&mt!==null&&mf(Oe,mt,Ue,Ye,!0)}}e:{if(Te=Ce?Ms(Ce):window,Re=Te.nodeName&&Te.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Te.type==="file")var at=Pc;else if(Mc(Te))if(Oc)at=Wd;else{at=Yd;var Ge=qd}else Re=Te.nodeName,!Re||Re.toLowerCase()!=="input"||Te.type!=="checkbox"&&Te.type!=="radio"?Ce&&Va(Ce.elementType)&&(at=Pc):at=Xd;if(at&&(at=at(T,Ce))){Nc(Oe,at,D,Me);break e}Ge&&Ge(T,Te,Ce),T==="focusout"&&Ce&&Te.type==="number"&&Ce.memoizedProps.value!=null&&Ga(Te,"number",Te.value)}switch(Ge=Ce?Ms(Ce):window,T){case"focusin":(Mc(Ge)||Ge.contentEditable==="true")&&(Xn=Ge,so=Ce,Is=null);break;case"focusout":Is=so=Xn=null;break;case"mousedown":io=!0;break;case"contextmenu":case"mouseup":case"dragend":io=!1,Bc(Oe,D,Me);break;case"selectionchange":if(Qd)break;case"keydown":case"keyup":Bc(Oe,D,Me)}var et;if(eo)e:{switch(T){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Yn?wc(T,D)&&(st="onCompositionEnd"):T==="keydown"&&D.keyCode===229&&(st="onCompositionStart");st&&(Cc&&D.locale!=="ko"&&(Yn||st!=="onCompositionStart"?st==="onCompositionEnd"&&Yn&&(et=_c()):(Xr=Me,Xa="value"in Xr?Xr.value:Xr.textContent,Yn=!0)),Ge=va(Ce,st),0<Ge.length&&(st=new Sc(st,T,null,D,Me),Oe.push({event:st,listeners:Ge}),et?st.data=et:(et=Rc(D),et!==null&&(st.data=et)))),(et=Hd?Gd(T,D):Vd(T,D))&&(st=va(Ce,"onBeforeInput"),0<st.length&&(Ge=new Sc("onBeforeInput","beforeinput",null,D,Me),Oe.push({event:Ge,listeners:st}),Ge.data=et)),$p(Oe,T,Ce,D,Me)}df(Oe,R)})}function ci(T,R,D){return{instance:T,listener:R,currentTarget:D}}function va(T,R){for(var D=R+"Capture",L=[];T!==null;){var V=T,Z=V.stateNode;if(V=V.tag,V!==5&&V!==26&&V!==27||Z===null||(V=Ns(T,D),V!=null&&L.unshift(ci(T,V,Z)),V=Ns(T,R),V!=null&&L.push(ci(T,V,Z))),T.tag===3)return L;T=T.return}return[]}function Lp(T){if(T===null)return null;do T=T.return;while(T&&T.tag!==5&&T.tag!==27);return T||null}function mf(T,R,D,L,V){for(var Z=R._reactName,K=[];D!==null&&D!==L;){var re=D,pe=re.alternate,Ce=re.stateNode;if(re=re.tag,pe!==null&&pe===L)break;re!==5&&re!==26&&re!==27||Ce===null||(pe=Ce,V?(Ce=Ns(D,Z),Ce!=null&&K.unshift(ci(D,Ce,pe))):V||(Ce=Ns(D,Z),Ce!=null&&K.push(ci(D,Ce,pe)))),D=D.return}K.length!==0&&T.push({event:R,listeners:K})}var Bp=/\r\n?/g,Up=/\u0000|\uFFFD/g;function gf(T){return(typeof T=="string"?T:""+T).replace(Bp,`
`).replace(Up,"")}function xf(T,R){return R=gf(R),gf(T)===R}function pt(T,R,D,L,V,Z){switch(D){case"children":typeof L=="string"?R==="body"||R==="textarea"&&L===""||Fn(T,L):(typeof L=="number"||typeof L=="bigint")&&R!=="body"&&Fn(T,""+L);break;case"className":Ci(T,"class",L);break;case"tabIndex":Ci(T,"tabindex",L);break;case"dir":case"role":case"viewBox":case"width":case"height":Ci(T,D,L);break;case"style":gc(T,L,Z);break;case"data":if(R!=="object"){Ci(T,"data",L);break}case"src":case"href":if(L===""&&(R!=="a"||D!=="href")){T.removeAttribute(D);break}if(L==null||typeof L=="function"||typeof L=="symbol"||typeof L=="boolean"){T.removeAttribute(D);break}L=Ti(""+L),T.setAttribute(D,L);break;case"action":case"formAction":if(typeof L=="function"){T.setAttribute(D,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Z=="function"&&(D==="formAction"?(R!=="input"&&pt(T,R,"name",V.name,V,null),pt(T,R,"formEncType",V.formEncType,V,null),pt(T,R,"formMethod",V.formMethod,V,null),pt(T,R,"formTarget",V.formTarget,V,null)):(pt(T,R,"encType",V.encType,V,null),pt(T,R,"method",V.method,V,null),pt(T,R,"target",V.target,V,null)));if(L==null||typeof L=="symbol"||typeof L=="boolean"){T.removeAttribute(D);break}L=Ti(""+L),T.setAttribute(D,L);break;case"onClick":L!=null&&(T.onclick=Mr);break;case"onScroll":L!=null&&rt("scroll",T);break;case"onScrollEnd":L!=null&&rt("scrollend",T);break;case"dangerouslySetInnerHTML":if(L!=null){if(typeof L!="object"||!("__html"in L))throw Error(A(61));if(D=L.__html,D!=null){if(V.children!=null)throw Error(A(60));T.innerHTML=D}}break;case"multiple":T.multiple=L&&typeof L!="function"&&typeof L!="symbol";break;case"muted":T.muted=L&&typeof L!="function"&&typeof L!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(L==null||typeof L=="function"||typeof L=="boolean"||typeof L=="symbol"){T.removeAttribute("xlink:href");break}D=Ti(""+L),T.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",D);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":L!=null&&typeof L!="function"&&typeof L!="symbol"?T.setAttribute(D,""+L):T.removeAttribute(D);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":L&&typeof L!="function"&&typeof L!="symbol"?T.setAttribute(D,""):T.removeAttribute(D);break;case"capture":case"download":L===!0?T.setAttribute(D,""):L!==!1&&L!=null&&typeof L!="function"&&typeof L!="symbol"?T.setAttribute(D,L):T.removeAttribute(D);break;case"cols":case"rows":case"size":case"span":L!=null&&typeof L!="function"&&typeof L!="symbol"&&!isNaN(L)&&1<=L?T.setAttribute(D,L):T.removeAttribute(D);break;case"rowSpan":case"start":L==null||typeof L=="function"||typeof L=="symbol"||isNaN(L)?T.removeAttribute(D):T.setAttribute(D,L);break;case"popover":rt("beforetoggle",T),rt("toggle",T),Ei(T,"popover",L);break;case"xlinkActuate":Rr(T,"http://www.w3.org/1999/xlink","xlink:actuate",L);break;case"xlinkArcrole":Rr(T,"http://www.w3.org/1999/xlink","xlink:arcrole",L);break;case"xlinkRole":Rr(T,"http://www.w3.org/1999/xlink","xlink:role",L);break;case"xlinkShow":Rr(T,"http://www.w3.org/1999/xlink","xlink:show",L);break;case"xlinkTitle":Rr(T,"http://www.w3.org/1999/xlink","xlink:title",L);break;case"xlinkType":Rr(T,"http://www.w3.org/1999/xlink","xlink:type",L);break;case"xmlBase":Rr(T,"http://www.w3.org/XML/1998/namespace","xml:base",L);break;case"xmlLang":Rr(T,"http://www.w3.org/XML/1998/namespace","xml:lang",L);break;case"xmlSpace":Rr(T,"http://www.w3.org/XML/1998/namespace","xml:space",L);break;case"is":Ei(T,"is",L);break;case"innerText":case"textContent":break;default:(!(2<D.length)||D[0]!=="o"&&D[0]!=="O"||D[1]!=="n"&&D[1]!=="N")&&(D=md.get(D)||D,Ei(T,D,L))}}function Pl(T,R,D,L,V,Z){switch(D){case"style":gc(T,L,Z);break;case"dangerouslySetInnerHTML":if(L!=null){if(typeof L!="object"||!("__html"in L))throw Error(A(61));if(D=L.__html,D!=null){if(V.children!=null)throw Error(A(60));T.innerHTML=D}}break;case"children":typeof L=="string"?Fn(T,L):(typeof L=="number"||typeof L=="bigint")&&Fn(T,""+L);break;case"onScroll":L!=null&&rt("scroll",T);break;case"onScrollEnd":L!=null&&rt("scrollend",T);break;case"onClick":L!=null&&(T.onclick=Mr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oc.hasOwnProperty(D))e:{if(D[0]==="o"&&D[1]==="n"&&(V=D.endsWith("Capture"),R=D.slice(2,V?D.length-7:void 0),Z=T[Ht]||null,Z=Z!=null?Z[D]:null,typeof Z=="function"&&T.removeEventListener(R,Z,V),typeof L=="function")){typeof Z!="function"&&Z!==null&&(D in T?T[D]=null:T.hasAttribute(D)&&T.removeAttribute(D)),T.addEventListener(R,L,V);break e}D in T?T[D]=L:L===!0?T.setAttribute(D,""):Ei(T,D,L)}}}function It(T,R,D){switch(R){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",T),rt("load",T);var L=!1,V=!1,Z;for(Z in D)if(D.hasOwnProperty(Z)){var K=D[Z];if(K!=null)switch(Z){case"src":L=!0;break;case"srcSet":V=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,R));default:pt(T,R,Z,K,D,null)}}V&&pt(T,R,"srcSet",D.srcSet,D,null),L&&pt(T,R,"src",D.src,D,null);return;case"input":rt("invalid",T);var re=Z=K=V=null,pe=null,Ce=null;for(L in D)if(D.hasOwnProperty(L)){var Me=D[L];if(Me!=null)switch(L){case"name":V=Me;break;case"type":K=Me;break;case"checked":pe=Me;break;case"defaultChecked":Ce=Me;break;case"value":Z=Me;break;case"defaultValue":re=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(A(137,R));break;default:pt(T,R,L,Me,D,null)}}fc(T,Z,re,pe,Ce,K,V,!1);return;case"select":rt("invalid",T),L=K=Z=null;for(V in D)if(D.hasOwnProperty(V)&&(re=D[V],re!=null))switch(V){case"value":Z=re;break;case"defaultValue":K=re;break;case"multiple":L=re;default:pt(T,R,V,re,D,null)}R=Z,D=K,T.multiple=!!L,R!=null?Vn(T,!!L,R,!1):D!=null&&Vn(T,!!L,D,!0);return;case"textarea":rt("invalid",T),Z=V=L=null;for(K in D)if(D.hasOwnProperty(K)&&(re=D[K],re!=null))switch(K){case"value":L=re;break;case"defaultValue":V=re;break;case"children":Z=re;break;case"dangerouslySetInnerHTML":if(re!=null)throw Error(A(91));break;default:pt(T,R,K,re,D,null)}pc(T,L,V,Z);return;case"option":for(pe in D)D.hasOwnProperty(pe)&&(L=D[pe],L!=null)&&(pe==="selected"?T.selected=L&&typeof L!="function"&&typeof L!="symbol":pt(T,R,pe,L,D,null));return;case"dialog":rt("beforetoggle",T),rt("toggle",T),rt("cancel",T),rt("close",T);break;case"iframe":case"object":rt("load",T);break;case"video":case"audio":for(L=0;L<li.length;L++)rt(li[L],T);break;case"image":rt("error",T),rt("load",T);break;case"details":rt("toggle",T);break;case"embed":case"source":case"link":rt("error",T),rt("load",T);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ce in D)if(D.hasOwnProperty(Ce)&&(L=D[Ce],L!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,R));default:pt(T,R,Ce,L,D,null)}return;default:if(Va(R)){for(Me in D)D.hasOwnProperty(Me)&&(L=D[Me],L!==void 0&&Pl(T,R,Me,L,D,void 0));return}}for(re in D)D.hasOwnProperty(re)&&(L=D[re],L!=null&&pt(T,R,re,L,D,null))}function Hp(T,R,D,L){switch(R){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var V=null,Z=null,K=null,re=null,pe=null,Ce=null,Me=null;for(Re in D){var Oe=D[Re];if(D.hasOwnProperty(Re)&&Oe!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":pe=Oe;default:L.hasOwnProperty(Re)||pt(T,R,Re,null,L,Oe)}}for(var Te in L){var Re=L[Te];if(Oe=D[Te],L.hasOwnProperty(Te)&&(Re!=null||Oe!=null))switch(Te){case"type":Z=Re;break;case"name":V=Re;break;case"checked":Ce=Re;break;case"defaultChecked":Me=Re;break;case"value":K=Re;break;case"defaultValue":re=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(A(137,R));break;default:Re!==Oe&&pt(T,R,Te,Re,L,Oe)}}Ha(T,K,re,pe,Ce,Me,Z,V);return;case"select":Re=K=re=Te=null;for(Z in D)if(pe=D[Z],D.hasOwnProperty(Z)&&pe!=null)switch(Z){case"value":break;case"multiple":Re=pe;default:L.hasOwnProperty(Z)||pt(T,R,Z,null,L,pe)}for(V in L)if(Z=L[V],pe=D[V],L.hasOwnProperty(V)&&(Z!=null||pe!=null))switch(V){case"value":Te=Z;break;case"defaultValue":re=Z;break;case"multiple":K=Z;default:Z!==pe&&pt(T,R,V,Z,L,pe)}R=re,D=K,L=Re,Te!=null?Vn(T,!!D,Te,!1):!!L!=!!D&&(R!=null?Vn(T,!!D,R,!0):Vn(T,!!D,D?[]:"",!1));return;case"textarea":Re=Te=null;for(re in D)if(V=D[re],D.hasOwnProperty(re)&&V!=null&&!L.hasOwnProperty(re))switch(re){case"value":break;case"children":break;default:pt(T,R,re,null,L,V)}for(K in L)if(V=L[K],Z=D[K],L.hasOwnProperty(K)&&(V!=null||Z!=null))switch(K){case"value":Te=V;break;case"defaultValue":Re=V;break;case"children":break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(A(91));break;default:V!==Z&&pt(T,R,K,V,L,Z)}dc(T,Te,Re);return;case"option":for(var Ue in D)Te=D[Ue],D.hasOwnProperty(Ue)&&Te!=null&&!L.hasOwnProperty(Ue)&&(Ue==="selected"?T.selected=!1:pt(T,R,Ue,null,L,Te));for(pe in L)Te=L[pe],Re=D[pe],L.hasOwnProperty(pe)&&Te!==Re&&(Te!=null||Re!=null)&&(pe==="selected"?T.selected=Te&&typeof Te!="function"&&typeof Te!="symbol":pt(T,R,pe,Te,L,Re));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in D)Te=D[Ye],D.hasOwnProperty(Ye)&&Te!=null&&!L.hasOwnProperty(Ye)&&pt(T,R,Ye,null,L,Te);for(Ce in L)if(Te=L[Ce],Re=D[Ce],L.hasOwnProperty(Ce)&&Te!==Re&&(Te!=null||Re!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(A(137,R));break;default:pt(T,R,Ce,Te,L,Re)}return;default:if(Va(R)){for(var mt in D)Te=D[mt],D.hasOwnProperty(mt)&&Te!==void 0&&!L.hasOwnProperty(mt)&&Pl(T,R,mt,void 0,L,Te);for(Me in L)Te=L[Me],Re=D[Me],!L.hasOwnProperty(Me)||Te===Re||Te===void 0&&Re===void 0||Pl(T,R,Me,Te,L,Re);return}}for(var _e in D)Te=D[_e],D.hasOwnProperty(_e)&&Te!=null&&!L.hasOwnProperty(_e)&&pt(T,R,_e,null,L,Te);for(Oe in L)Te=L[Oe],Re=D[Oe],!L.hasOwnProperty(Oe)||Te===Re||Te==null&&Re==null||pt(T,R,Oe,Te,L,Re)}function yf(T){switch(T){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gp(){if(typeof performance.getEntriesByType=="function"){for(var T=0,R=0,D=performance.getEntriesByType("resource"),L=0;L<D.length;L++){var V=D[L],Z=V.transferSize,K=V.initiatorType,re=V.duration;if(Z&&re&&yf(K)){for(K=0,re=V.responseEnd,L+=1;L<D.length;L++){var pe=D[L],Ce=pe.startTime;if(Ce>re)break;var Me=pe.transferSize,Oe=pe.initiatorType;Me&&yf(Oe)&&(pe=pe.responseEnd,K+=Me*(pe<re?1:(re-Ce)/(pe-Ce)))}if(--L,R+=8*(Z+K)/(V.duration/1e3),T++,10<T)break}}if(0<T)return R/T/1e6}return navigator.connection&&(T=navigator.connection.downlink,typeof T=="number")?T:5}var Ol=null,jl=null;function Sa(T){return T.nodeType===9?T:T.ownerDocument}function _f(T){switch(T){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bf(T,R){if(T===0)switch(R){case"svg":return 1;case"math":return 2;default:return 0}return T===1&&R==="foreignObject"?0:T}function kl(T,R){return T==="textarea"||T==="noscript"||typeof R.children=="string"||typeof R.children=="number"||typeof R.children=="bigint"||typeof R.dangerouslySetInnerHTML=="object"&&R.dangerouslySetInnerHTML!==null&&R.dangerouslySetInnerHTML.__html!=null}var $l=null;function Vp(){var T=window.event;return T&&T.type==="popstate"?T===$l?!1:($l=T,!0):($l=null,!1)}var vf=typeof setTimeout=="function"?setTimeout:void 0,Fp=typeof clearTimeout=="function"?clearTimeout:void 0,Sf=typeof Promise=="function"?Promise:void 0,Zp=typeof queueMicrotask=="function"?queueMicrotask:typeof Sf<"u"?function(T){return Sf.resolve(null).then(T).catch(qp)}:vf;function qp(T){setTimeout(function(){throw T})}function pn(T){return T==="head"}function Ef(T,R){var D=R,L=0;do{var V=D.nextSibling;if(T.removeChild(D),V&&V.nodeType===8)if(D=V.data,D==="/$"||D==="/&"){if(L===0){T.removeChild(V),Ss(R);return}L--}else if(D==="$"||D==="$?"||D==="$~"||D==="$!"||D==="&")L++;else if(D==="html")ui(T.ownerDocument.documentElement);else if(D==="head"){D=T.ownerDocument.head,ui(D);for(var Z=D.firstChild;Z;){var K=Z.nextSibling,re=Z.nodeName;Z[Rs]||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&Z.rel.toLowerCase()==="stylesheet"||D.removeChild(Z),Z=K}}else D==="body"&&ui(T.ownerDocument.body);D=V}while(D);Ss(R)}function Cf(T,R){var D=T;T=0;do{var L=D.nextSibling;if(D.nodeType===1?R?(D._stashedDisplay=D.style.display,D.style.display="none"):(D.style.display=D._stashedDisplay||"",D.getAttribute("style")===""&&D.removeAttribute("style")):D.nodeType===3&&(R?(D._stashedText=D.nodeValue,D.nodeValue=""):D.nodeValue=D._stashedText||""),L&&L.nodeType===8)if(D=L.data,D==="/$"){if(T===0)break;T--}else D!=="$"&&D!=="$?"&&D!=="$~"&&D!=="$!"||T++;D=L}while(D)}function Dl(T){var R=T.firstChild;for(R&&R.nodeType===10&&(R=R.nextSibling);R;){var D=R;switch(R=R.nextSibling,D.nodeName){case"HTML":case"HEAD":case"BODY":Dl(D),Ba(D);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(D.rel.toLowerCase()==="stylesheet")continue}T.removeChild(D)}}function Yp(T,R,D,L){for(;T.nodeType===1;){var V=D;if(T.nodeName.toLowerCase()!==R.toLowerCase()){if(!L&&(T.nodeName!=="INPUT"||T.type!=="hidden"))break}else if(L){if(!T[Rs])switch(R){case"meta":if(!T.hasAttribute("itemprop"))break;return T;case"link":if(Z=T.getAttribute("rel"),Z==="stylesheet"&&T.hasAttribute("data-precedence"))break;if(Z!==V.rel||T.getAttribute("href")!==(V.href==null||V.href===""?null:V.href)||T.getAttribute("crossorigin")!==(V.crossOrigin==null?null:V.crossOrigin)||T.getAttribute("title")!==(V.title==null?null:V.title))break;return T;case"style":if(T.hasAttribute("data-precedence"))break;return T;case"script":if(Z=T.getAttribute("src"),(Z!==(V.src==null?null:V.src)||T.getAttribute("type")!==(V.type==null?null:V.type)||T.getAttribute("crossorigin")!==(V.crossOrigin==null?null:V.crossOrigin))&&Z&&T.hasAttribute("async")&&!T.hasAttribute("itemprop"))break;return T;default:return T}}else if(R==="input"&&T.type==="hidden"){var Z=V.name==null?null:""+V.name;if(V.type==="hidden"&&T.getAttribute("name")===Z)return T}else return T;if(T=gr(T.nextSibling),T===null)break}return null}function Xp(T,R,D){if(R==="")return null;for(;T.nodeType!==3;)if((T.nodeType!==1||T.nodeName!=="INPUT"||T.type!=="hidden")&&!D||(T=gr(T.nextSibling),T===null))return null;return T}function Af(T,R){for(;T.nodeType!==8;)if((T.nodeType!==1||T.nodeName!=="INPUT"||T.type!=="hidden")&&!R||(T=gr(T.nextSibling),T===null))return null;return T}function zl(T){return T.data==="$?"||T.data==="$~"}function Il(T){return T.data==="$!"||T.data==="$?"&&T.ownerDocument.readyState!=="loading"}function Wp(T,R){var D=T.ownerDocument;if(T.data==="$~")T._reactRetry=R;else if(T.data!=="$?"||D.readyState!=="loading")R();else{var L=function(){R(),D.removeEventListener("DOMContentLoaded",L)};D.addEventListener("DOMContentLoaded",L),T._reactRetry=L}}function gr(T){for(;T!=null;T=T.nextSibling){var R=T.nodeType;if(R===1||R===3)break;if(R===8){if(R=T.data,R==="$"||R==="$!"||R==="$?"||R==="$~"||R==="&"||R==="F!"||R==="F")break;if(R==="/$"||R==="/&")return null}}return T}var Ll=null;function Tf(T){T=T.nextSibling;for(var R=0;T;){if(T.nodeType===8){var D=T.data;if(D==="/$"||D==="/&"){if(R===0)return gr(T.nextSibling);R--}else D!=="$"&&D!=="$!"&&D!=="$?"&&D!=="$~"&&D!=="&"||R++}T=T.nextSibling}return null}function wf(T){T=T.previousSibling;for(var R=0;T;){if(T.nodeType===8){var D=T.data;if(D==="$"||D==="$!"||D==="$?"||D==="$~"||D==="&"){if(R===0)return T;R--}else D!=="/$"&&D!=="/&"||R++}T=T.previousSibling}return null}function Rf(T,R,D){switch(R=Sa(D),T){case"html":if(T=R.documentElement,!T)throw Error(A(452));return T;case"head":if(T=R.head,!T)throw Error(A(453));return T;case"body":if(T=R.body,!T)throw Error(A(454));return T;default:throw Error(A(451))}}function ui(T){for(var R=T.attributes;R.length;)T.removeAttributeNode(R[0]);Ba(T)}var xr=new Map,Mf=new Set;function Ea(T){return typeof T.getRootNode=="function"?T.getRootNode():T.nodeType===9?T:T.ownerDocument}var Fr=de.d;de.d={f:Kp,r:Qp,D:Jp,C:em,L:tm,m:rm,X:sm,S:nm,M:im};function Kp(){var T=Fr.f(),R=da();return T||R}function Qp(T){var R=Un(T);R!==null&&R.tag===5&&R.type==="form"?Fu(R):Fr.r(T)}var _s=typeof document>"u"?null:document;function Nf(T,R,D){var L=_s;if(L&&typeof R=="string"&&R){var V=cr(R);V='link[rel="'+T+'"][href="'+V+'"]',typeof D=="string"&&(V+='[crossorigin="'+D+'"]'),Mf.has(V)||(Mf.add(V),T={rel:T,crossOrigin:D,href:R},L.querySelector(V)===null&&(R=L.createElement("link"),It(R,"link",T),Pt(R),L.head.appendChild(R)))}}function Jp(T){Fr.D(T),Nf("dns-prefetch",T,null)}function em(T,R){Fr.C(T,R),Nf("preconnect",T,R)}function tm(T,R,D){Fr.L(T,R,D);var L=_s;if(L&&T&&R){var V='link[rel="preload"][as="'+cr(R)+'"]';R==="image"&&D&&D.imageSrcSet?(V+='[imagesrcset="'+cr(D.imageSrcSet)+'"]',typeof D.imageSizes=="string"&&(V+='[imagesizes="'+cr(D.imageSizes)+'"]')):V+='[href="'+cr(T)+'"]';var Z=V;switch(R){case"style":Z=bs(T);break;case"script":Z=vs(T)}xr.has(Z)||(T=F({rel:"preload",href:R==="image"&&D&&D.imageSrcSet?void 0:T,as:R},D),xr.set(Z,T),L.querySelector(V)!==null||R==="style"&&L.querySelector(hi(Z))||R==="script"&&L.querySelector(fi(Z))||(R=L.createElement("link"),It(R,"link",T),Pt(R),L.head.appendChild(R)))}}function rm(T,R){Fr.m(T,R);var D=_s;if(D&&T){var L=R&&typeof R.as=="string"?R.as:"script",V='link[rel="modulepreload"][as="'+cr(L)+'"][href="'+cr(T)+'"]',Z=V;switch(L){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Z=vs(T)}if(!xr.has(Z)&&(T=F({rel:"modulepreload",href:T},R),xr.set(Z,T),D.querySelector(V)===null)){switch(L){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(D.querySelector(fi(Z)))return}L=D.createElement("link"),It(L,"link",T),Pt(L),D.head.appendChild(L)}}}function nm(T,R,D){Fr.S(T,R,D);var L=_s;if(L&&T){var V=Hn(L).hoistableStyles,Z=bs(T);R=R||"default";var K=V.get(Z);if(!K){var re={loading:0,preload:null};if(K=L.querySelector(hi(Z)))re.loading=5;else{T=F({rel:"stylesheet",href:T,"data-precedence":R},D),(D=xr.get(Z))&&Bl(T,D);var pe=K=L.createElement("link");Pt(pe),It(pe,"link",T),pe._p=new Promise(function(Ce,Me){pe.onload=Ce,pe.onerror=Me}),pe.addEventListener("load",function(){re.loading|=1}),pe.addEventListener("error",function(){re.loading|=2}),re.loading|=4,Ca(K,R,L)}K={type:"stylesheet",instance:K,count:1,state:re},V.set(Z,K)}}}function sm(T,R){Fr.X(T,R);var D=_s;if(D&&T){var L=Hn(D).hoistableScripts,V=vs(T),Z=L.get(V);Z||(Z=D.querySelector(fi(V)),Z||(T=F({src:T,async:!0},R),(R=xr.get(V))&&Ul(T,R),Z=D.createElement("script"),Pt(Z),It(Z,"link",T),D.head.appendChild(Z)),Z={type:"script",instance:Z,count:1,state:null},L.set(V,Z))}}function im(T,R){Fr.M(T,R);var D=_s;if(D&&T){var L=Hn(D).hoistableScripts,V=vs(T),Z=L.get(V);Z||(Z=D.querySelector(fi(V)),Z||(T=F({src:T,async:!0,type:"module"},R),(R=xr.get(V))&&Ul(T,R),Z=D.createElement("script"),Pt(Z),It(Z,"link",T),D.head.appendChild(Z)),Z={type:"script",instance:Z,count:1,state:null},L.set(V,Z))}}function Pf(T,R,D,L){var V=(V=Be.current)?Ea(V):null;if(!V)throw Error(A(446));switch(T){case"meta":case"title":return null;case"style":return typeof D.precedence=="string"&&typeof D.href=="string"?(R=bs(D.href),D=Hn(V).hoistableStyles,L=D.get(R),L||(L={type:"style",instance:null,count:0,state:null},D.set(R,L)),L):{type:"void",instance:null,count:0,state:null};case"link":if(D.rel==="stylesheet"&&typeof D.href=="string"&&typeof D.precedence=="string"){T=bs(D.href);var Z=Hn(V).hoistableStyles,K=Z.get(T);if(K||(V=V.ownerDocument||V,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Z.set(T,K),(Z=V.querySelector(hi(T)))&&!Z._p&&(K.instance=Z,K.state.loading=5),xr.has(T)||(D={rel:"preload",as:"style",href:D.href,crossOrigin:D.crossOrigin,integrity:D.integrity,media:D.media,hrefLang:D.hrefLang,referrerPolicy:D.referrerPolicy},xr.set(T,D),Z||am(V,T,D,K.state))),R&&L===null)throw Error(A(528,""));return K}if(R&&L!==null)throw Error(A(529,""));return null;case"script":return R=D.async,D=D.src,typeof D=="string"&&R&&typeof R!="function"&&typeof R!="symbol"?(R=vs(D),D=Hn(V).hoistableScripts,L=D.get(R),L||(L={type:"script",instance:null,count:0,state:null},D.set(R,L)),L):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,T))}}function bs(T){return'href="'+cr(T)+'"'}function hi(T){return'link[rel="stylesheet"]['+T+"]"}function Of(T){return F({},T,{"data-precedence":T.precedence,precedence:null})}function am(T,R,D,L){T.querySelector('link[rel="preload"][as="style"]['+R+"]")?L.loading=1:(R=T.createElement("link"),L.preload=R,R.addEventListener("load",function(){return L.loading|=1}),R.addEventListener("error",function(){return L.loading|=2}),It(R,"link",D),Pt(R),T.head.appendChild(R))}function vs(T){return'[src="'+cr(T)+'"]'}function fi(T){return"script[async]"+T}function jf(T,R,D){if(R.count++,R.instance===null)switch(R.type){case"style":var L=T.querySelector('style[data-href~="'+cr(D.href)+'"]');if(L)return R.instance=L,Pt(L),L;var V=F({},D,{"data-href":D.href,"data-precedence":D.precedence,href:null,precedence:null});return L=(T.ownerDocument||T).createElement("style"),Pt(L),It(L,"style",V),Ca(L,D.precedence,T),R.instance=L;case"stylesheet":V=bs(D.href);var Z=T.querySelector(hi(V));if(Z)return R.state.loading|=4,R.instance=Z,Pt(Z),Z;L=Of(D),(V=xr.get(V))&&Bl(L,V),Z=(T.ownerDocument||T).createElement("link"),Pt(Z);var K=Z;return K._p=new Promise(function(re,pe){K.onload=re,K.onerror=pe}),It(Z,"link",L),R.state.loading|=4,Ca(Z,D.precedence,T),R.instance=Z;case"script":return Z=vs(D.src),(V=T.querySelector(fi(Z)))?(R.instance=V,Pt(V),V):(L=D,(V=xr.get(Z))&&(L=F({},D),Ul(L,V)),T=T.ownerDocument||T,V=T.createElement("script"),Pt(V),It(V,"link",L),T.head.appendChild(V),R.instance=V);case"void":return null;default:throw Error(A(443,R.type))}else R.type==="stylesheet"&&(R.state.loading&4)===0&&(L=R.instance,R.state.loading|=4,Ca(L,D.precedence,T));return R.instance}function Ca(T,R,D){for(var L=D.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),V=L.length?L[L.length-1]:null,Z=V,K=0;K<L.length;K++){var re=L[K];if(re.dataset.precedence===R)Z=re;else if(Z!==V)break}Z?Z.parentNode.insertBefore(T,Z.nextSibling):(R=D.nodeType===9?D.head:D,R.insertBefore(T,R.firstChild))}function Bl(T,R){T.crossOrigin==null&&(T.crossOrigin=R.crossOrigin),T.referrerPolicy==null&&(T.referrerPolicy=R.referrerPolicy),T.title==null&&(T.title=R.title)}function Ul(T,R){T.crossOrigin==null&&(T.crossOrigin=R.crossOrigin),T.referrerPolicy==null&&(T.referrerPolicy=R.referrerPolicy),T.integrity==null&&(T.integrity=R.integrity)}var Aa=null;function kf(T,R,D){if(Aa===null){var L=new Map,V=Aa=new Map;V.set(D,L)}else V=Aa,L=V.get(D),L||(L=new Map,V.set(D,L));if(L.has(T))return L;for(L.set(T,null),D=D.getElementsByTagName(T),V=0;V<D.length;V++){var Z=D[V];if(!(Z[Rs]||Z[kt]||T==="link"&&Z.getAttribute("rel")==="stylesheet")&&Z.namespaceURI!=="http://www.w3.org/2000/svg"){var K=Z.getAttribute(R)||"";K=T+K;var re=L.get(K);re?re.push(Z):L.set(K,[Z])}}return L}function $f(T,R,D){T=T.ownerDocument||T,T.head.insertBefore(D,R==="title"?T.querySelector("head > title"):null)}function om(T,R,D){if(D===1||R.itemProp!=null)return!1;switch(T){case"meta":case"title":return!0;case"style":if(typeof R.precedence!="string"||typeof R.href!="string"||R.href==="")break;return!0;case"link":if(typeof R.rel!="string"||typeof R.href!="string"||R.href===""||R.onLoad||R.onError)break;return R.rel==="stylesheet"?(T=R.disabled,typeof R.precedence=="string"&&T==null):!0;case"script":if(R.async&&typeof R.async!="function"&&typeof R.async!="symbol"&&!R.onLoad&&!R.onError&&R.src&&typeof R.src=="string")return!0}return!1}function Df(T){return!(T.type==="stylesheet"&&(T.state.loading&3)===0)}function lm(T,R,D,L){if(D.type==="stylesheet"&&(typeof L.media!="string"||matchMedia(L.media).matches!==!1)&&(D.state.loading&4)===0){if(D.instance===null){var V=bs(L.href),Z=R.querySelector(hi(V));if(Z){R=Z._p,R!==null&&typeof R=="object"&&typeof R.then=="function"&&(T.count++,T=Ta.bind(T),R.then(T,T)),D.state.loading|=4,D.instance=Z,Pt(Z);return}Z=R.ownerDocument||R,L=Of(L),(V=xr.get(V))&&Bl(L,V),Z=Z.createElement("link"),Pt(Z);var K=Z;K._p=new Promise(function(re,pe){K.onload=re,K.onerror=pe}),It(Z,"link",L),D.instance=Z}T.stylesheets===null&&(T.stylesheets=new Map),T.stylesheets.set(D,R),(R=D.state.preload)&&(D.state.loading&3)===0&&(T.count++,D=Ta.bind(T),R.addEventListener("load",D),R.addEventListener("error",D))}}var Hl=0;function cm(T,R){return T.stylesheets&&T.count===0&&Ra(T,T.stylesheets),0<T.count||0<T.imgCount?function(D){var L=setTimeout(function(){if(T.stylesheets&&Ra(T,T.stylesheets),T.unsuspend){var Z=T.unsuspend;T.unsuspend=null,Z()}},6e4+R);0<T.imgBytes&&Hl===0&&(Hl=62500*Gp());var V=setTimeout(function(){if(T.waitingForImages=!1,T.count===0&&(T.stylesheets&&Ra(T,T.stylesheets),T.unsuspend)){var Z=T.unsuspend;T.unsuspend=null,Z()}},(T.imgBytes>Hl?50:800)+R);return T.unsuspend=D,function(){T.unsuspend=null,clearTimeout(L),clearTimeout(V)}}:null}function Ta(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ra(this,this.stylesheets);else if(this.unsuspend){var T=this.unsuspend;this.unsuspend=null,T()}}}var wa=null;function Ra(T,R){T.stylesheets=null,T.unsuspend!==null&&(T.count++,wa=new Map,R.forEach(um,T),wa=null,Ta.call(T))}function um(T,R){if(!(R.state.loading&4)){var D=wa.get(T);if(D)var L=D.get(null);else{D=new Map,wa.set(T,D);for(var V=T.querySelectorAll("link[data-precedence],style[data-precedence]"),Z=0;Z<V.length;Z++){var K=V[Z];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(D.set(K.dataset.precedence,K),L=K)}L&&D.set(null,L)}V=R.instance,K=V.getAttribute("data-precedence"),Z=D.get(K)||L,Z===L&&D.set(null,V),D.set(K,V),this.count++,L=Ta.bind(this),V.addEventListener("load",L),V.addEventListener("error",L),Z?Z.parentNode.insertBefore(V,Z.nextSibling):(T=T.nodeType===9?T.head:T,T.insertBefore(V,T.firstChild)),R.state.loading|=4}}var di={$$typeof:se,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function hm(T,R,D,L,V,Z,K,re,pe){this.tag=1,this.containerInfo=T,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.hiddenUpdates=Da(null),this.identifierPrefix=L,this.onUncaughtError=V,this.onCaughtError=Z,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function zf(T,R,D,L,V,Z,K,re,pe,Ce,Me,Oe){return T=new hm(T,R,D,K,pe,Ce,Me,Oe,re),R=1,Z===!0&&(R|=24),Z=Kt(3,null,null,R),T.current=Z,Z.stateNode=T,R=vo(),R.refCount++,T.pooledCache=R,R.refCount++,Z.memoizedState={element:L,isDehydrated:D,cache:R},Ao(Z),T}function If(T){return T?(T=Qn,T):Qn}function Lf(T,R,D,L,V,Z){V=If(V),L.context===null?L.context=V:L.pendingContext=V,L=tn(R),L.payload={element:D},Z=Z===void 0?null:Z,Z!==null&&(L.callback=Z),D=rn(T,L,R),D!==null&&(Yt(D,T,R),Fs(D,T,R))}function Bf(T,R){if(T=T.memoizedState,T!==null&&T.dehydrated!==null){var D=T.retryLane;T.retryLane=D!==0&&D<R?D:R}}function Gl(T,R){Bf(T,R),(T=T.alternate)&&Bf(T,R)}function Uf(T){if(T.tag===13||T.tag===31){var R=Tn(T,67108864);R!==null&&Yt(R,T,67108864),Gl(T,67108864)}}function Hf(T){if(T.tag===13||T.tag===31){var R=rr();R=za(R);var D=Tn(T,R);D!==null&&Yt(D,T,R),Gl(T,R)}}var Ma=!0;function fm(T,R,D,L){var V=oe.T;oe.T=null;var Z=de.p;try{de.p=2,Vl(T,R,D,L)}finally{de.p=Z,oe.T=V}}function dm(T,R,D,L){var V=oe.T;oe.T=null;var Z=de.p;try{de.p=8,Vl(T,R,D,L)}finally{de.p=Z,oe.T=V}}function Vl(T,R,D,L){if(Ma){var V=Fl(L);if(V===null)Nl(T,R,L,Na,D),Vf(T,L);else if(mm(V,T,R,D,L))L.stopPropagation();else if(Vf(T,L),R&4&&-1<pm.indexOf(T)){for(;V!==null;){var Z=Un(V);if(Z!==null)switch(Z.tag){case 3:if(Z=Z.stateNode,Z.current.memoizedState.isDehydrated){var K=vn(Z.pendingLanes);if(K!==0){var re=Z;for(re.pendingLanes|=2,re.entangledLanes|=2;K;){var pe=1<<31-Xt(K);re.entanglements[1]|=pe,K&=~pe}Tr(Z),(lt&6)===0&&(ha=ct()+500,oi(0))}}break;case 31:case 13:re=Tn(Z,2),re!==null&&Yt(re,Z,2),da(),Gl(Z,2)}if(Z=Fl(L),Z===null&&Nl(T,R,L,Na,D),Z===V)break;V=Z}V!==null&&L.stopPropagation()}else Nl(T,R,L,null,D)}}function Fl(T){return T=Za(T),Zl(T)}var Na=null;function Zl(T){if(Na=null,T=Bn(T),T!==null){var R=O(T);if(R===null)T=null;else{var D=R.tag;if(D===13){if(T=z(R),T!==null)return T;T=null}else if(D===31){if(T=I(R),T!==null)return T;T=null}else if(D===3){if(R.stateNode.current.memoizedState.isDehydrated)return R.tag===3?R.stateNode.containerInfo:null;T=null}else R!==T&&(T=null)}}return Na=T,null}function Gf(T){switch(T){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case St:return 2;case jt:return 8;case Ut:case Cs:return 32;case As:return 268435456;default:return 32}default:return 32}}var ql=!1,mn=null,gn=null,xn=null,pi=new Map,mi=new Map,yn=[],pm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vf(T,R){switch(T){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":pi.delete(R.pointerId);break;case"gotpointercapture":case"lostpointercapture":mi.delete(R.pointerId)}}function gi(T,R,D,L,V,Z){return T===null||T.nativeEvent!==Z?(T={blockedOn:R,domEventName:D,eventSystemFlags:L,nativeEvent:Z,targetContainers:[V]},R!==null&&(R=Un(R),R!==null&&Uf(R)),T):(T.eventSystemFlags|=L,R=T.targetContainers,V!==null&&R.indexOf(V)===-1&&R.push(V),T)}function mm(T,R,D,L,V){switch(R){case"focusin":return mn=gi(mn,T,R,D,L,V),!0;case"dragenter":return gn=gi(gn,T,R,D,L,V),!0;case"mouseover":return xn=gi(xn,T,R,D,L,V),!0;case"pointerover":var Z=V.pointerId;return pi.set(Z,gi(pi.get(Z)||null,T,R,D,L,V)),!0;case"gotpointercapture":return Z=V.pointerId,mi.set(Z,gi(mi.get(Z)||null,T,R,D,L,V)),!0}return!1}function Ff(T){var R=Bn(T.target);if(R!==null){var D=O(R);if(D!==null){if(R=D.tag,R===13){if(R=z(D),R!==null){T.blockedOn=R,sc(T.priority,function(){Hf(D)});return}}else if(R===31){if(R=I(D),R!==null){T.blockedOn=R,sc(T.priority,function(){Hf(D)});return}}else if(R===3&&D.stateNode.current.memoizedState.isDehydrated){T.blockedOn=D.tag===3?D.stateNode.containerInfo:null;return}}}T.blockedOn=null}function Pa(T){if(T.blockedOn!==null)return!1;for(var R=T.targetContainers;0<R.length;){var D=Fl(T.nativeEvent);if(D===null){D=T.nativeEvent;var L=new D.constructor(D.type,D);Fa=L,D.target.dispatchEvent(L),Fa=null}else return R=Un(D),R!==null&&Uf(R),T.blockedOn=D,!1;R.shift()}return!0}function Zf(T,R,D){Pa(T)&&D.delete(R)}function gm(){ql=!1,mn!==null&&Pa(mn)&&(mn=null),gn!==null&&Pa(gn)&&(gn=null),xn!==null&&Pa(xn)&&(xn=null),pi.forEach(Zf),mi.forEach(Zf)}function Oa(T,R){T.blockedOn===R&&(T.blockedOn=null,ql||(ql=!0,E.unstable_scheduleCallback(E.unstable_NormalPriority,gm)))}var ja=null;function qf(T){ja!==T&&(ja=T,E.unstable_scheduleCallback(E.unstable_NormalPriority,function(){ja===T&&(ja=null);for(var R=0;R<T.length;R+=3){var D=T[R],L=T[R+1],V=T[R+2];if(typeof L!="function"){if(Zl(L||D)===null)continue;break}var Z=Un(D);Z!==null&&(T.splice(R,3),R-=3,Fo(Z,{pending:!0,data:V,method:D.method,action:L},L,V))}}))}function Ss(T){function R(pe){return Oa(pe,T)}mn!==null&&Oa(mn,T),gn!==null&&Oa(gn,T),xn!==null&&Oa(xn,T),pi.forEach(R),mi.forEach(R);for(var D=0;D<yn.length;D++){var L=yn[D];L.blockedOn===T&&(L.blockedOn=null)}for(;0<yn.length&&(D=yn[0],D.blockedOn===null);)Ff(D),D.blockedOn===null&&yn.shift();if(D=(T.ownerDocument||T).$$reactFormReplay,D!=null)for(L=0;L<D.length;L+=3){var V=D[L],Z=D[L+1],K=V[Ht]||null;if(typeof Z=="function")K||qf(D);else if(K){var re=null;if(Z&&Z.hasAttribute("formAction")){if(V=Z,K=Z[Ht]||null)re=K.formAction;else if(Zl(V)!==null)continue}else re=K.action;typeof re=="function"?D[L+1]=re:(D.splice(L,3),L-=3),qf(D)}}}function Yf(){function T(Z){Z.canIntercept&&Z.info==="react-transition"&&Z.intercept({handler:function(){return new Promise(function(K){return V=K})},focusReset:"manual",scroll:"manual"})}function R(){V!==null&&(V(),V=null),L||setTimeout(D,20)}function D(){if(!L&&!navigation.transition){var Z=navigation.currentEntry;Z&&Z.url!=null&&navigation.navigate(Z.url,{state:Z.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var L=!1,V=null;return navigation.addEventListener("navigate",T),navigation.addEventListener("navigatesuccess",R),navigation.addEventListener("navigateerror",R),setTimeout(D,100),function(){L=!0,navigation.removeEventListener("navigate",T),navigation.removeEventListener("navigatesuccess",R),navigation.removeEventListener("navigateerror",R),V!==null&&(V(),V=null)}}}function Yl(T){this._internalRoot=T}ka.prototype.render=Yl.prototype.render=function(T){var R=this._internalRoot;if(R===null)throw Error(A(409));var D=R.current,L=rr();Lf(D,L,T,R,null,null)},ka.prototype.unmount=Yl.prototype.unmount=function(){var T=this._internalRoot;if(T!==null){this._internalRoot=null;var R=T.containerInfo;Lf(T.current,2,null,T,null,null),da(),R[Ln]=null}};function ka(T){this._internalRoot=T}ka.prototype.unstable_scheduleHydration=function(T){if(T){var R=nc();T={blockedOn:null,target:T,priority:R};for(var D=0;D<yn.length&&R!==0&&R<yn[D].priority;D++);yn.splice(D,0,T),D===0&&Ff(T)}};var Xf=_.version;if(Xf!=="19.2.3")throw Error(A(527,Xf,"19.2.3"));de.findDOMNode=function(T){var R=T._reactInternals;if(R===void 0)throw typeof T.render=="function"?Error(A(188)):(T=Object.keys(T).join(","),Error(A(268,T)));return T=U(R),T=T!==null?G(T):null,T=T===null?null:T.stateNode,T};var xm={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{yr=$a.inject(xm),Lt=$a}catch{}}return reactDomClient_production.createRoot=function(T,R){if(!P(T))throw Error(A(299));var D=!1,L="",V=th,Z=rh,K=nh;return R!=null&&(R.unstable_strictMode===!0&&(D=!0),R.identifierPrefix!==void 0&&(L=R.identifierPrefix),R.onUncaughtError!==void 0&&(V=R.onUncaughtError),R.onCaughtError!==void 0&&(Z=R.onCaughtError),R.onRecoverableError!==void 0&&(K=R.onRecoverableError)),R=zf(T,1,!1,null,null,D,L,null,V,Z,K,Yf),T[Ln]=R.current,Ml(T),new Yl(R)},reactDomClient_production.hydrateRoot=function(T,R,D){if(!P(T))throw Error(A(299));var L=!1,V="",Z=th,K=rh,re=nh,pe=null;return D!=null&&(D.unstable_strictMode===!0&&(L=!0),D.identifierPrefix!==void 0&&(V=D.identifierPrefix),D.onUncaughtError!==void 0&&(Z=D.onUncaughtError),D.onCaughtError!==void 0&&(K=D.onCaughtError),D.onRecoverableError!==void 0&&(re=D.onRecoverableError),D.formState!==void 0&&(pe=D.formState)),R=zf(T,1,!0,R,D??null,L,V,pe,Z,K,re,Yf),R.context=If(null),D=R.current,L=rr(),L=za(L),V=tn(L),V.callback=null,rn(D,V,L),D=L,R.current.lanes=D,ws(R,D),Tr(R),T[Ln]=R.current,Ml(T),new ka(R)},reactDomClient_production.version="19.2.3",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function E(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E)}catch(_){console.error(_)}}return E(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const toKebabCase=E=>E.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=E=>E.replace(/^([A-Z])|[\s-_]+(\w)/g,(_,C,A)=>A?A.toUpperCase():C.toLowerCase()),toPascalCase=E=>{const _=toCamelCase(E);return _.charAt(0).toUpperCase()+_.slice(1)},mergeClasses=(...E)=>E.filter((_,C,A)=>!!_&&_.trim()!==""&&A.indexOf(_)===C).join(" ").trim(),hasA11yProp=E=>{for(const _ in E)if(_.startsWith("aria-")||_==="role"||_==="title")return!0};var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon$1=reactExports.forwardRef(({color:E="currentColor",size:_=24,strokeWidth:C=2,absoluteStrokeWidth:A,className:P="",children:O,iconNode:z,...I},B)=>reactExports.createElement("svg",{ref:B,...defaultAttributes,width:_,height:_,stroke:E,strokeWidth:A?Number(C)*24/Number(_):C,className:mergeClasses("lucide",P),...!O&&!hasA11yProp(I)&&{"aria-hidden":"true"},...I},[...z.map(([U,G])=>reactExports.createElement(U,G)),...Array.isArray(O)?O:[O]]));const createLucideIcon=(E,_)=>{const C=reactExports.forwardRef(({className:A,...P},O)=>reactExports.createElement(Icon$1,{ref:O,iconNode:_,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(E))}`,`lucide-${E}`,A),...P}));return C.displayName=toPascalCase(E),C};const __iconNode$g=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Camera=createLucideIcon("camera",__iconNode$g);const __iconNode$f=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$f);const __iconNode$e=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$e);const __iconNode$d=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ChevronUp=createLucideIcon("chevron-up",__iconNode$d);const __iconNode$c=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Download=createLucideIcon("download",__iconNode$c);const __iconNode$b=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],FileSpreadsheet=createLucideIcon("file-spreadsheet",__iconNode$b);const __iconNode$a=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Moon=createLucideIcon("moon",__iconNode$a);const __iconNode$9=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Pause=createLucideIcon("pause",__iconNode$9);const __iconNode$8=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Play=createLucideIcon("play",__iconNode$8);const __iconNode$7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$7);const __iconNode$6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RotateCcw=createLucideIcon("rotate-ccw",__iconNode$6);const __iconNode$5=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],SkipForward=createLucideIcon("skip-forward",__iconNode$5);const __iconNode$4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Square=createLucideIcon("square",__iconNode$4);const __iconNode$3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sun=createLucideIcon("sun",__iconNode$3);const __iconNode$2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Upload=createLucideIcon("upload",__iconNode$2);const __iconNode$1=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Video=createLucideIcon("video",__iconNode$1);const __iconNode=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("x",__iconNode);function setRef(E,_){if(typeof E=="function")return E(_);E!=null&&(E.current=_)}function composeRefs(...E){return _=>{let C=!1;const A=E.map(P=>{const O=setRef(P,_);return!C&&typeof O=="function"&&(C=!0),O});if(C)return()=>{for(let P=0;P<A.length;P++){const O=A[P];typeof O=="function"?O():setRef(E[P],null)}}}}function useComposedRefs(...E){return reactExports.useCallback(composeRefs(...E),E)}var REACT_LAZY_TYPE=Symbol.for("react.lazy"),use=React$1[" use ".trim().toString()];function isPromiseLike(E){return typeof E=="object"&&E!==null&&"then"in E}function isLazyComponent(E){return E!=null&&typeof E=="object"&&"$$typeof"in E&&E.$$typeof===REACT_LAZY_TYPE&&"_payload"in E&&isPromiseLike(E._payload)}function createSlot$3(E){const _=createSlotClone$3(E),C=reactExports.forwardRef((A,P)=>{let{children:O,...z}=A;isLazyComponent(O)&&typeof use=="function"&&(O=use(O._payload));const I=reactExports.Children.toArray(O),B=I.find(isSlottable$3);if(B){const U=B.props.children,G=I.map(F=>F===B?reactExports.Children.count(U)>1?reactExports.Children.only(null):reactExports.isValidElement(U)?U.props.children:null:F);return jsxRuntimeExports.jsx(_,{...z,ref:P,children:reactExports.isValidElement(U)?reactExports.cloneElement(U,void 0,G):null})}return jsxRuntimeExports.jsx(_,{...z,ref:P,children:O})});return C.displayName=`${E}.Slot`,C}var Slot$1=createSlot$3("Slot");function createSlotClone$3(E){const _=reactExports.forwardRef((C,A)=>{let{children:P,...O}=C;if(isLazyComponent(P)&&typeof use=="function"&&(P=use(P._payload)),reactExports.isValidElement(P)){const z=getElementRef$4(P),I=mergeProps$3(O,P.props);return P.type!==reactExports.Fragment&&(I.ref=A?composeRefs(A,z):z),reactExports.cloneElement(P,I)}return reactExports.Children.count(P)>1?reactExports.Children.only(null):null});return _.displayName=`${E}.SlotClone`,_}var SLOTTABLE_IDENTIFIER$3=Symbol("radix.slottable");function isSlottable$3(E){return reactExports.isValidElement(E)&&typeof E.type=="function"&&"__radixId"in E.type&&E.type.__radixId===SLOTTABLE_IDENTIFIER$3}function mergeProps$3(E,_){const C={..._};for(const A in _){const P=E[A],O=_[A];/^on[A-Z]/.test(A)?P&&O?C[A]=(...I)=>{const B=O(...I);return P(...I),B}:P&&(C[A]=P):A==="style"?C[A]={...P,...O}:A==="className"&&(C[A]=[P,O].filter(Boolean).join(" "))}return{...E,...C}}function getElementRef$4(E){let _=Object.getOwnPropertyDescriptor(E.props,"ref")?.get,C=_&&"isReactWarning"in _&&_.isReactWarning;return C?E.ref:(_=Object.getOwnPropertyDescriptor(E,"ref")?.get,C=_&&"isReactWarning"in _&&_.isReactWarning,C?E.props.ref:E.props.ref||E.ref)}function r$1(E){var _,C,A="";if(typeof E=="string"||typeof E=="number")A+=E;else if(typeof E=="object")if(Array.isArray(E)){var P=E.length;for(_=0;_<P;_++)E[_]&&(C=r$1(E[_]))&&(A&&(A+=" "),A+=C)}else for(C in E)E[C]&&(A&&(A+=" "),A+=C);return A}function clsx(){for(var E,_,C=0,A="",P=arguments.length;C<P;C++)(E=arguments[C])&&(_=r$1(E))&&(A&&(A+=" "),A+=_);return A}const falsyToString=E=>typeof E=="boolean"?`${E}`:E===0?"0":E,cx=clsx,cva=(E,_)=>C=>{var A;if(_?.variants==null)return cx(E,C?.class,C?.className);const{variants:P,defaultVariants:O}=_,z=Object.keys(P).map(U=>{const G=C?.[U],F=O?.[U];if(G===null)return null;const q=falsyToString(G)||falsyToString(F);return P[U][q]}),I=C&&Object.entries(C).reduce((U,G)=>{let[F,q]=G;return q===void 0||(U[F]=q),U},{}),B=_==null||(A=_.compoundVariants)===null||A===void 0?void 0:A.reduce((U,G)=>{let{class:F,className:q,...Y}=G;return Object.entries(Y).every(W=>{let[Q,J]=W;return Array.isArray(J)?J.includes({...O,...I}[Q]):{...O,...I}[Q]===J})?[...U,F,q]:U},[]);return cx(E,z,B,C?.class,C?.className)},concatArrays=(E,_)=>{const C=new Array(E.length+_.length);for(let A=0;A<E.length;A++)C[A]=E[A];for(let A=0;A<_.length;A++)C[E.length+A]=_[A];return C},createClassValidatorObject=(E,_)=>({classGroupId:E,validator:_}),createClassPartObject=(E=new Map,_=null,C)=>({nextPart:E,validators:_,classGroupId:C}),CLASS_PART_SEPARATOR="-",EMPTY_CONFLICTS=[],ARBITRARY_PROPERTY_PREFIX="arbitrary..",createClassGroupUtils=E=>{const _=createClassMap(E),{conflictingClassGroups:C,conflictingClassGroupModifiers:A}=E;return{getClassGroupId:z=>{if(z.startsWith("[")&&z.endsWith("]"))return getGroupIdForArbitraryProperty(z);const I=z.split(CLASS_PART_SEPARATOR),B=I[0]===""&&I.length>1?1:0;return getGroupRecursive(I,B,_)},getConflictingClassGroupIds:(z,I)=>{if(I){const B=A[z],U=C[z];return B?U?concatArrays(U,B):B:U||EMPTY_CONFLICTS}return C[z]||EMPTY_CONFLICTS}}},getGroupRecursive=(E,_,C)=>{if(E.length-_===0)return C.classGroupId;const P=E[_],O=C.nextPart.get(P);if(O){const U=getGroupRecursive(E,_+1,O);if(U)return U}const z=C.validators;if(z===null)return;const I=_===0?E.join(CLASS_PART_SEPARATOR):E.slice(_).join(CLASS_PART_SEPARATOR),B=z.length;for(let U=0;U<B;U++){const G=z[U];if(G.validator(I))return G.classGroupId}},getGroupIdForArbitraryProperty=E=>E.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const _=E.slice(1,-1),C=_.indexOf(":"),A=_.slice(0,C);return A?ARBITRARY_PROPERTY_PREFIX+A:void 0})(),createClassMap=E=>{const{theme:_,classGroups:C}=E;return processClassGroups(C,_)},processClassGroups=(E,_)=>{const C=createClassPartObject();for(const A in E){const P=E[A];processClassesRecursively(P,C,A,_)}return C},processClassesRecursively=(E,_,C,A)=>{const P=E.length;for(let O=0;O<P;O++){const z=E[O];processClassDefinition(z,_,C,A)}},processClassDefinition=(E,_,C,A)=>{if(typeof E=="string"){processStringDefinition(E,_,C);return}if(typeof E=="function"){processFunctionDefinition(E,_,C,A);return}processObjectDefinition(E,_,C,A)},processStringDefinition=(E,_,C)=>{const A=E===""?_:getPart(_,E);A.classGroupId=C},processFunctionDefinition=(E,_,C,A)=>{if(isThemeGetter(E)){processClassesRecursively(E(A),_,C,A);return}_.validators===null&&(_.validators=[]),_.validators.push(createClassValidatorObject(C,E))},processObjectDefinition=(E,_,C,A)=>{const P=Object.entries(E),O=P.length;for(let z=0;z<O;z++){const[I,B]=P[z];processClassesRecursively(B,getPart(_,I),C,A)}},getPart=(E,_)=>{let C=E;const A=_.split(CLASS_PART_SEPARATOR),P=A.length;for(let O=0;O<P;O++){const z=A[O];let I=C.nextPart.get(z);I||(I=createClassPartObject(),C.nextPart.set(z,I)),C=I}return C},isThemeGetter=E=>"isThemeGetter"in E&&E.isThemeGetter===!0,createLruCache=E=>{if(E<1)return{get:()=>{},set:()=>{}};let _=0,C=Object.create(null),A=Object.create(null);const P=(O,z)=>{C[O]=z,_++,_>E&&(_=0,A=C,C=Object.create(null))};return{get(O){let z=C[O];if(z!==void 0)return z;if((z=A[O])!==void 0)return P(O,z),z},set(O,z){O in C?C[O]=z:P(O,z)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",EMPTY_MODIFIERS=[],createResultObject=(E,_,C,A,P)=>({modifiers:E,hasImportantModifier:_,baseClassName:C,maybePostfixModifierPosition:A,isExternal:P}),createParseClassName=E=>{const{prefix:_,experimentalParseClassName:C}=E;let A=P=>{const O=[];let z=0,I=0,B=0,U;const G=P.length;for(let Q=0;Q<G;Q++){const J=P[Q];if(z===0&&I===0){if(J===MODIFIER_SEPARATOR){O.push(P.slice(B,Q)),B=Q+1;continue}if(J==="/"){U=Q;continue}}J==="["?z++:J==="]"?z--:J==="("?I++:J===")"&&I--}const F=O.length===0?P:P.slice(B);let q=F,Y=!1;F.endsWith(IMPORTANT_MODIFIER)?(q=F.slice(0,-1),Y=!0):F.startsWith(IMPORTANT_MODIFIER)&&(q=F.slice(1),Y=!0);const W=U&&U>B?U-B:void 0;return createResultObject(O,Y,q,W)};if(_){const P=_+MODIFIER_SEPARATOR,O=A;A=z=>z.startsWith(P)?O(z.slice(P.length)):createResultObject(EMPTY_MODIFIERS,!1,z,void 0,!0)}if(C){const P=A;A=O=>C({className:O,parseClassName:P})}return A},createSortModifiers=E=>{const _=new Map;return E.orderSensitiveModifiers.forEach((C,A)=>{_.set(C,1e6+A)}),C=>{const A=[];let P=[];for(let O=0;O<C.length;O++){const z=C[O],I=z[0]==="[",B=_.has(z);I||B?(P.length>0&&(P.sort(),A.push(...P),P=[]),A.push(z)):P.push(z)}return P.length>0&&(P.sort(),A.push(...P)),A}},createConfigUtils=E=>({cache:createLruCache(E.cacheSize),parseClassName:createParseClassName(E),sortModifiers:createSortModifiers(E),...createClassGroupUtils(E)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(E,_)=>{const{parseClassName:C,getClassGroupId:A,getConflictingClassGroupIds:P,sortModifiers:O}=_,z=[],I=E.trim().split(SPLIT_CLASSES_REGEX);let B="";for(let U=I.length-1;U>=0;U-=1){const G=I[U],{isExternal:F,modifiers:q,hasImportantModifier:Y,baseClassName:W,maybePostfixModifierPosition:Q}=C(G);if(F){B=G+(B.length>0?" "+B:B);continue}let J=!!Q,ee=A(J?W.substring(0,Q):W);if(!ee){if(!J){B=G+(B.length>0?" "+B:B);continue}if(ee=A(W),!ee){B=G+(B.length>0?" "+B:B);continue}J=!1}const ne=q.length===0?"":q.length===1?q[0]:O(q).join(":"),se=Y?ne+IMPORTANT_MODIFIER:ne,ie=se+ee;if(z.indexOf(ie)>-1)continue;z.push(ie);const fe=P(ee,J);for(let me=0;me<fe.length;++me){const le=fe[me];z.push(se+le)}B=G+(B.length>0?" "+B:B)}return B},twJoin=(...E)=>{let _=0,C,A,P="";for(;_<E.length;)(C=E[_++])&&(A=toValue(C))&&(P&&(P+=" "),P+=A);return P},toValue=E=>{if(typeof E=="string")return E;let _,C="";for(let A=0;A<E.length;A++)E[A]&&(_=toValue(E[A]))&&(C&&(C+=" "),C+=_);return C},createTailwindMerge=(E,..._)=>{let C,A,P,O;const z=B=>{const U=_.reduce((G,F)=>F(G),E());return C=createConfigUtils(U),A=C.cache.get,P=C.cache.set,O=I,I(B)},I=B=>{const U=A(B);if(U)return U;const G=mergeClassList(B,C);return P(B,G),G};return O=z,(...B)=>O(twJoin(...B))},fallbackThemeArr=[],fromTheme=E=>{const _=C=>C[E]||fallbackThemeArr;return _.isThemeGetter=!0,_},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=E=>fractionRegex.test(E),isNumber$1=E=>!!E&&!Number.isNaN(Number(E)),isInteger=E=>!!E&&Number.isInteger(Number(E)),isPercent=E=>E.endsWith("%")&&isNumber$1(E.slice(0,-1)),isTshirtSize=E=>tshirtUnitRegex.test(E),isAny=()=>!0,isLengthOnly=E=>lengthUnitRegex.test(E)&&!colorFunctionRegex.test(E),isNever=()=>!1,isShadow=E=>shadowRegex.test(E),isImage=E=>imageRegex.test(E),isAnyNonArbitrary=E=>!isArbitraryValue(E)&&!isArbitraryVariable(E),isArbitrarySize=E=>getIsArbitraryValue(E,isLabelSize,isNever),isArbitraryValue=E=>arbitraryValueRegex.test(E),isArbitraryLength=E=>getIsArbitraryValue(E,isLabelLength,isLengthOnly),isArbitraryNumber=E=>getIsArbitraryValue(E,isLabelNumber,isNumber$1),isArbitraryPosition=E=>getIsArbitraryValue(E,isLabelPosition,isNever),isArbitraryImage=E=>getIsArbitraryValue(E,isLabelImage,isImage),isArbitraryShadow=E=>getIsArbitraryValue(E,isLabelShadow,isShadow),isArbitraryVariable=E=>arbitraryVariableRegex.test(E),isArbitraryVariableLength=E=>getIsArbitraryVariable(E,isLabelLength),isArbitraryVariableFamilyName=E=>getIsArbitraryVariable(E,isLabelFamilyName),isArbitraryVariablePosition=E=>getIsArbitraryVariable(E,isLabelPosition),isArbitraryVariableSize=E=>getIsArbitraryVariable(E,isLabelSize),isArbitraryVariableImage=E=>getIsArbitraryVariable(E,isLabelImage),isArbitraryVariableShadow=E=>getIsArbitraryVariable(E,isLabelShadow,!0),getIsArbitraryValue=(E,_,C)=>{const A=arbitraryValueRegex.exec(E);return A?A[1]?_(A[1]):C(A[2]):!1},getIsArbitraryVariable=(E,_,C=!1)=>{const A=arbitraryVariableRegex.exec(E);return A?A[1]?_(A[1]):C:!1},isLabelPosition=E=>E==="position"||E==="percentage",isLabelImage=E=>E==="image"||E==="url",isLabelSize=E=>E==="length"||E==="size"||E==="bg-size",isLabelLength=E=>E==="length",isLabelNumber=E=>E==="number",isLabelFamilyName=E=>E==="family-name",isLabelShadow=E=>E==="shadow",getDefaultConfig=()=>{const E=fromTheme("color"),_=fromTheme("font"),C=fromTheme("text"),A=fromTheme("font-weight"),P=fromTheme("tracking"),O=fromTheme("leading"),z=fromTheme("breakpoint"),I=fromTheme("container"),B=fromTheme("spacing"),U=fromTheme("radius"),G=fromTheme("shadow"),F=fromTheme("inset-shadow"),q=fromTheme("text-shadow"),Y=fromTheme("drop-shadow"),W=fromTheme("blur"),Q=fromTheme("perspective"),J=fromTheme("aspect"),ee=fromTheme("ease"),ne=fromTheme("animate"),se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],fe=()=>[...ie(),isArbitraryVariable,isArbitraryValue],me=()=>["auto","hidden","clip","visible","scroll"],le=()=>["auto","contain","none"],te=()=>[isArbitraryVariable,isArbitraryValue,B],ae=()=>[isFraction,"full","auto",...te()],ue=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],xe=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],Ae=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],he=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],Se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Pe=()=>["start","end","center","stretch","center-safe","end-safe"],oe=()=>["auto",...te()],de=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...te()],ye=()=>[E,isArbitraryVariable,isArbitraryValue],we=()=>[...ie(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],ze=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ce=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],be=()=>[isPercent,isArbitraryVariableLength,isArbitraryLength],ve=()=>["","none","full",U,isArbitraryVariable,isArbitraryValue],je=()=>["",isNumber$1,isArbitraryVariableLength,isArbitraryLength],$e=()=>["solid","dashed","dotted","double"],Be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[isNumber$1,isPercent,isArbitraryVariablePosition,isArbitraryPosition],Ie=()=>["","none",W,isArbitraryVariable,isArbitraryValue],Le=()=>["none",isNumber$1,isArbitraryVariable,isArbitraryValue],He=()=>["none",isNumber$1,isArbitraryVariable,isArbitraryValue],De=()=>[isNumber$1,isArbitraryVariable,isArbitraryValue],Ve=()=>[isFraction,"full",...te()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber$1],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,J]}],container:["container"],columns:[{columns:[isNumber$1,isArbitraryValue,isArbitraryVariable,I]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:fe()}],overflow:[{overflow:me()}],"overflow-x":[{"overflow-x":me()}],"overflow-y":[{"overflow-y":me()}],overscroll:[{overscroll:le()}],"overscroll-x":[{"overscroll-x":le()}],"overscroll-y":[{"overscroll-y":le()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ae()}],"inset-x":[{"inset-x":ae()}],"inset-y":[{"inset-y":ae()}],start:[{start:ae()}],end:[{end:ae()}],top:[{top:ae()}],right:[{right:ae()}],bottom:[{bottom:ae()}],left:[{left:ae()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",I,...te()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber$1,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":ue()}],"col-start-end":[{col:xe()}],"col-start":[{"col-start":Ae()}],"col-end":[{"col-end":Ae()}],"grid-rows":[{"grid-rows":ue()}],"row-start-end":[{row:xe()}],"row-start":[{"row-start":Ae()}],"row-end":[{"row-end":Ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":he()}],"auto-rows":[{"auto-rows":he()}],gap:[{gap:te()}],"gap-x":[{"gap-x":te()}],"gap-y":[{"gap-y":te()}],"justify-content":[{justify:[...Se(),"normal"]}],"justify-items":[{"justify-items":[...Pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Pe()]}],"align-content":[{content:["normal",...Se()]}],"align-items":[{items:[...Pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":Se()}],"place-items":[{"place-items":[...Pe(),"baseline"]}],"place-self":[{"place-self":["auto",...Pe()]}],p:[{p:te()}],px:[{px:te()}],py:[{py:te()}],ps:[{ps:te()}],pe:[{pe:te()}],pt:[{pt:te()}],pr:[{pr:te()}],pb:[{pb:te()}],pl:[{pl:te()}],m:[{m:oe()}],mx:[{mx:oe()}],my:[{my:oe()}],ms:[{ms:oe()}],me:[{me:oe()}],mt:[{mt:oe()}],mr:[{mr:oe()}],mb:[{mb:oe()}],ml:[{ml:oe()}],"space-x":[{"space-x":te()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":te()}],"space-y-reverse":["space-y-reverse"],size:[{size:de()}],w:[{w:[I,"screen",...de()]}],"min-w":[{"min-w":[I,"screen","none",...de()]}],"max-w":[{"max-w":[I,"screen","none","prose",{screen:[z]},...de()]}],h:[{h:["screen","lh",...de()]}],"min-h":[{"min-h":["screen","lh","none",...de()]}],"max-h":[{"max-h":["screen","lh",...de()]}],"font-size":[{text:["base",C,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[A,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,_]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[P,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber$1,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[O,...te()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ye()}],"text-color":[{text:ye()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$e(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber$1,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:ye()}],"underline-offset":[{"underline-offset":[isNumber$1,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:te()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:we()}],"bg-repeat":[{bg:ze()}],"bg-size":[{bg:ce()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:ye()}],"gradient-from-pos":[{from:be()}],"gradient-via-pos":[{via:be()}],"gradient-to-pos":[{to:be()}],"gradient-from":[{from:ye()}],"gradient-via":[{via:ye()}],"gradient-to":[{to:ye()}],rounded:[{rounded:ve()}],"rounded-s":[{"rounded-s":ve()}],"rounded-e":[{"rounded-e":ve()}],"rounded-t":[{"rounded-t":ve()}],"rounded-r":[{"rounded-r":ve()}],"rounded-b":[{"rounded-b":ve()}],"rounded-l":[{"rounded-l":ve()}],"rounded-ss":[{"rounded-ss":ve()}],"rounded-se":[{"rounded-se":ve()}],"rounded-ee":[{"rounded-ee":ve()}],"rounded-es":[{"rounded-es":ve()}],"rounded-tl":[{"rounded-tl":ve()}],"rounded-tr":[{"rounded-tr":ve()}],"rounded-br":[{"rounded-br":ve()}],"rounded-bl":[{"rounded-bl":ve()}],"border-w":[{border:je()}],"border-w-x":[{"border-x":je()}],"border-w-y":[{"border-y":je()}],"border-w-s":[{"border-s":je()}],"border-w-e":[{"border-e":je()}],"border-w-t":[{"border-t":je()}],"border-w-r":[{"border-r":je()}],"border-w-b":[{"border-b":je()}],"border-w-l":[{"border-l":je()}],"divide-x":[{"divide-x":je()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":je()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...$e(),"hidden","none"]}],"divide-style":[{divide:[...$e(),"hidden","none"]}],"border-color":[{border:ye()}],"border-color-x":[{"border-x":ye()}],"border-color-y":[{"border-y":ye()}],"border-color-s":[{"border-s":ye()}],"border-color-e":[{"border-e":ye()}],"border-color-t":[{"border-t":ye()}],"border-color-r":[{"border-r":ye()}],"border-color-b":[{"border-b":ye()}],"border-color-l":[{"border-l":ye()}],"divide-color":[{divide:ye()}],"outline-style":[{outline:[...$e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber$1,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:ye()}],shadow:[{shadow:["","none",G,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:ye()}],"inset-shadow":[{"inset-shadow":["none",F,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":ye()}],"ring-w":[{ring:je()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ye()}],"ring-offset-w":[{"ring-offset":[isNumber$1,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":ye()}],"inset-ring-w":[{"inset-ring":je()}],"inset-ring-color":[{"inset-ring":ye()}],"text-shadow":[{"text-shadow":["none",q,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":ye()}],opacity:[{opacity:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...Be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber$1]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":ye()}],"mask-image-linear-to-color":[{"mask-linear-to":ye()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":ye()}],"mask-image-t-to-color":[{"mask-t-to":ye()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":ye()}],"mask-image-r-to-color":[{"mask-r-to":ye()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":ye()}],"mask-image-b-to-color":[{"mask-b-to":ye()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":ye()}],"mask-image-l-to-color":[{"mask-l-to":ye()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":ye()}],"mask-image-x-to-color":[{"mask-x-to":ye()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":ye()}],"mask-image-y-to-color":[{"mask-y-to":ye()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":ye()}],"mask-image-radial-to-color":[{"mask-radial-to":ye()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ie()}],"mask-image-conic-pos":[{"mask-conic":[isNumber$1]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":ye()}],"mask-image-conic-to-color":[{"mask-conic-to":ye()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:we()}],"mask-repeat":[{mask:ze()}],"mask-size":[{mask:ce()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:Ie()}],brightness:[{brightness:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",Y,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":ye()}],grayscale:[{grayscale:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":te()}],"border-spacing-x":[{"border-spacing-x":te()}],"border-spacing-y":[{"border-spacing-y":te()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber$1,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",ee,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",ne,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[Q,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":fe()}],rotate:[{rotate:Le()}],"rotate-x":[{"rotate-x":Le()}],"rotate-y":[{"rotate-y":Le()}],"rotate-z":[{"rotate-z":Le()}],scale:[{scale:He()}],"scale-x":[{"scale-x":He()}],"scale-y":[{"scale-y":He()}],"scale-z":[{"scale-z":He()}],"scale-3d":["scale-3d"],skew:[{skew:De()}],"skew-x":[{"skew-x":De()}],"skew-y":[{"skew-y":De()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:fe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:ye()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ye()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":te()}],"scroll-mx":[{"scroll-mx":te()}],"scroll-my":[{"scroll-my":te()}],"scroll-ms":[{"scroll-ms":te()}],"scroll-me":[{"scroll-me":te()}],"scroll-mt":[{"scroll-mt":te()}],"scroll-mr":[{"scroll-mr":te()}],"scroll-mb":[{"scroll-mb":te()}],"scroll-ml":[{"scroll-ml":te()}],"scroll-p":[{"scroll-p":te()}],"scroll-px":[{"scroll-px":te()}],"scroll-py":[{"scroll-py":te()}],"scroll-ps":[{"scroll-ps":te()}],"scroll-pe":[{"scroll-pe":te()}],"scroll-pt":[{"scroll-pt":te()}],"scroll-pr":[{"scroll-pr":te()}],"scroll-pb":[{"scroll-pb":te()}],"scroll-pl":[{"scroll-pl":te()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...ye()]}],"stroke-w":[{stroke:[isNumber$1,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...ye()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...E){return twMerge(clsx(E))}const buttonVariants=cva("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:E,variant:_,size:C,asChild:A=!1,...P},O)=>{const z=A?Slot$1:"button";return jsxRuntimeExports.jsx(z,{className:cn(buttonVariants({variant:_,size:C,className:E})),ref:O,...P})});Button.displayName="Button";function Header$1({isDark:E,onToggleTheme:_}){return jsxRuntimeExports.jsx("header",{className:"border-b bg-card",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold",children:"EHT Simulator"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:_,"aria-label":"Toggle theme",children:E?jsxRuntimeExports.jsx(Sun,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(Moon,{className:"h-5 w-5"})})]})})}function AppLayout({children:E}){const[_,C]=reactExports.useState(()=>typeof window<"u"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1);reactExports.useEffect(()=>{document.documentElement.classList.toggle("dark",_)},[_]);const A=()=>C(P=>!P);return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col bg-background text-foreground",children:[jsxRuntimeExports.jsx(Header$1,{isDark:_,onToggleTheme:A}),jsxRuntimeExports.jsx("main",{className:"flex-1 container mx-auto px-4 py-4",children:E})]})}function composeEventHandlers(E,_,{checkForDefaultPrevented:C=!0}={}){return function(P){if(E?.(P),C===!1||!P.defaultPrevented)return _?.(P)}}function createContextScope$1(E,_=[]){let C=[];function A(O,z){const I=reactExports.createContext(z),B=C.length;C=[...C,z];const U=F=>{const{scope:q,children:Y,...W}=F,Q=q?.[E]?.[B]||I,J=reactExports.useMemo(()=>W,Object.values(W));return jsxRuntimeExports.jsx(Q.Provider,{value:J,children:Y})};U.displayName=O+"Provider";function G(F,q){const Y=q?.[E]?.[B]||I,W=reactExports.useContext(Y);if(W)return W;if(z!==void 0)return z;throw new Error(`\`${F}\` must be used within \`${O}\``)}return[U,G]}const P=()=>{const O=C.map(z=>reactExports.createContext(z));return function(I){const B=I?.[E]||O;return reactExports.useMemo(()=>({[`__scope${E}`]:{...I,[E]:B}}),[I,B])}};return P.scopeName=E,[A,composeContextScopes$1(P,..._)]}function composeContextScopes$1(...E){const _=E[0];if(E.length===1)return _;const C=()=>{const A=E.map(P=>({useScope:P(),scopeName:P.scopeName}));return function(O){const z=A.reduce((I,{useScope:B,scopeName:U})=>{const F=B(O)[`__scope${U}`];return{...I,...F}},{});return reactExports.useMemo(()=>({[`__scope${_.scopeName}`]:z}),[z])}};return C.scopeName=_.scopeName,C}function createSlot$2(E){const _=createSlotClone$2(E),C=reactExports.forwardRef((A,P)=>{const{children:O,...z}=A,I=reactExports.Children.toArray(O),B=I.find(isSlottable$2);if(B){const U=B.props.children,G=I.map(F=>F===B?reactExports.Children.count(U)>1?reactExports.Children.only(null):reactExports.isValidElement(U)?U.props.children:null:F);return jsxRuntimeExports.jsx(_,{...z,ref:P,children:reactExports.isValidElement(U)?reactExports.cloneElement(U,void 0,G):null})}return jsxRuntimeExports.jsx(_,{...z,ref:P,children:O})});return C.displayName=`${E}.Slot`,C}function createSlotClone$2(E){const _=reactExports.forwardRef((C,A)=>{const{children:P,...O}=C;if(reactExports.isValidElement(P)){const z=getElementRef$3(P),I=mergeProps$2(O,P.props);return P.type!==reactExports.Fragment&&(I.ref=A?composeRefs(A,z):z),reactExports.cloneElement(P,I)}return reactExports.Children.count(P)>1?reactExports.Children.only(null):null});return _.displayName=`${E}.SlotClone`,_}var SLOTTABLE_IDENTIFIER$2=Symbol("radix.slottable");function isSlottable$2(E){return reactExports.isValidElement(E)&&typeof E.type=="function"&&"__radixId"in E.type&&E.type.__radixId===SLOTTABLE_IDENTIFIER$2}function mergeProps$2(E,_){const C={..._};for(const A in _){const P=E[A],O=_[A];/^on[A-Z]/.test(A)?P&&O?C[A]=(...I)=>{const B=O(...I);return P(...I),B}:P&&(C[A]=P):A==="style"?C[A]={...P,...O}:A==="className"&&(C[A]=[P,O].filter(Boolean).join(" "))}return{...E,...C}}function getElementRef$3(E){let _=Object.getOwnPropertyDescriptor(E.props,"ref")?.get,C=_&&"isReactWarning"in _&&_.isReactWarning;return C?E.ref:(_=Object.getOwnPropertyDescriptor(E,"ref")?.get,C=_&&"isReactWarning"in _&&_.isReactWarning,C?E.props.ref:E.props.ref||E.ref)}function createCollection(E){const _=E+"CollectionProvider",[C,A]=createContextScope$1(_),[P,O]=C(_,{collectionRef:{current:null},itemMap:new Map}),z=Q=>{const{scope:J,children:ee}=Q,ne=React.useRef(null),se=React.useRef(new Map).current;return jsxRuntimeExports.jsx(P,{scope:J,itemMap:se,collectionRef:ne,children:ee})};z.displayName=_;const I=E+"CollectionSlot",B=createSlot$2(I),U=React.forwardRef((Q,J)=>{const{scope:ee,children:ne}=Q,se=O(I,ee),ie=useComposedRefs(J,se.collectionRef);return jsxRuntimeExports.jsx(B,{ref:ie,children:ne})});U.displayName=I;const G=E+"CollectionItemSlot",F="data-radix-collection-item",q=createSlot$2(G),Y=React.forwardRef((Q,J)=>{const{scope:ee,children:ne,...se}=Q,ie=React.useRef(null),fe=useComposedRefs(J,ie),me=O(G,ee);return React.useEffect(()=>(me.itemMap.set(ie,{ref:ie,...se}),()=>{me.itemMap.delete(ie)})),jsxRuntimeExports.jsx(q,{[F]:"",ref:fe,children:ne})});Y.displayName=G;function W(Q){const J=O(E+"CollectionConsumer",Q);return React.useCallback(()=>{const ne=J.collectionRef.current;if(!ne)return[];const se=Array.from(ne.querySelectorAll(`[${F}]`));return Array.from(J.itemMap.values()).sort((me,le)=>se.indexOf(me.ref.current)-se.indexOf(le.ref.current))},[J.collectionRef,J.itemMap])}return[{Provider:z,Slot:U,ItemSlot:Y},W,A]}var useLayoutEffect2=globalThis?.document?reactExports.useLayoutEffect:()=>{},useReactId=React$1[" useId ".trim().toString()]||(()=>{}),count$2=0;function useId(E){const[_,C]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{C(A=>A??String(count$2++))},[E]),_?`radix-${_}`:""}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);function createSlot$1(E){const _=createSlotClone$1(E),C=reactExports.forwardRef((A,P)=>{const{children:O,...z}=A,I=reactExports.Children.toArray(O),B=I.find(isSlottable$1);if(B){const U=B.props.children,G=I.map(F=>F===B?reactExports.Children.count(U)>1?reactExports.Children.only(null):reactExports.isValidElement(U)?U.props.children:null:F);return jsxRuntimeExports.jsx(_,{...z,ref:P,children:reactExports.isValidElement(U)?reactExports.cloneElement(U,void 0,G):null})}return jsxRuntimeExports.jsx(_,{...z,ref:P,children:O})});return C.displayName=`${E}.Slot`,C}function createSlotClone$1(E){const _=reactExports.forwardRef((C,A)=>{const{children:P,...O}=C;if(reactExports.isValidElement(P)){const z=getElementRef$2(P),I=mergeProps$1(O,P.props);return P.type!==reactExports.Fragment&&(I.ref=A?composeRefs(A,z):z),reactExports.cloneElement(P,I)}return reactExports.Children.count(P)>1?reactExports.Children.only(null):null});return _.displayName=`${E}.SlotClone`,_}var SLOTTABLE_IDENTIFIER$1=Symbol("radix.slottable");function isSlottable$1(E){return reactExports.isValidElement(E)&&typeof E.type=="function"&&"__radixId"in E.type&&E.type.__radixId===SLOTTABLE_IDENTIFIER$1}function mergeProps$1(E,_){const C={..._};for(const A in _){const P=E[A],O=_[A];/^on[A-Z]/.test(A)?P&&O?C[A]=(...I)=>{const B=O(...I);return P(...I),B}:P&&(C[A]=P):A==="style"?C[A]={...P,...O}:A==="className"&&(C[A]=[P,O].filter(Boolean).join(" "))}return{...E,...C}}function getElementRef$2(E){let _=Object.getOwnPropertyDescriptor(E.props,"ref")?.get,C=_&&"isReactWarning"in _&&_.isReactWarning;return C?E.ref:(_=Object.getOwnPropertyDescriptor(E,"ref")?.get,C=_&&"isReactWarning"in _&&_.isReactWarning,C?E.props.ref:E.props.ref||E.ref)}var NODES$3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$3=NODES$3.reduce((E,_)=>{const C=createSlot$1(`Primitive.${_}`),A=reactExports.forwardRef((P,O)=>{const{asChild:z,...I}=P,B=z?C:_;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(B,{...I,ref:O})});return A.displayName=`Primitive.${_}`,{...E,[_]:A}},{});function dispatchDiscreteCustomEvent(E,_){E&&reactDomExports.flushSync(()=>E.dispatchEvent(_))}function useCallbackRef$1(E){const _=reactExports.useRef(E);return reactExports.useEffect(()=>{_.current=E}),reactExports.useMemo(()=>(...C)=>_.current?.(...C),[])}var useInsertionEffect=React$1[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:E,defaultProp:_,onChange:C=()=>{},caller:A}){const[P,O,z]=useUncontrolledState({defaultProp:_,onChange:C}),I=E!==void 0,B=I?E:P;{const G=reactExports.useRef(E!==void 0);reactExports.useEffect(()=>{const F=G.current;F!==I&&console.warn(`${A} is changing from ${F?"controlled":"uncontrolled"} to ${I?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),G.current=I},[I,A])}const U=reactExports.useCallback(G=>{if(I){const F=isFunction$2(G)?G(E):G;F!==E&&z.current?.(F)}else O(G)},[I,E,O,z]);return[B,U]}function useUncontrolledState({defaultProp:E,onChange:_}){const[C,A]=reactExports.useState(E),P=reactExports.useRef(C),O=reactExports.useRef(_);return useInsertionEffect(()=>{O.current=_},[_]),reactExports.useEffect(()=>{P.current!==C&&(O.current?.(C),P.current=C)},[C,P]),[C,A,O]}function isFunction$2(E){return typeof E=="function"}var DirectionContext=reactExports.createContext(void 0);function useDirection(E){const _=reactExports.useContext(DirectionContext);return E||_||"ltr"}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},GROUP_NAME$1="RovingFocusGroup",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(GROUP_NAME$1),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope$1(GROUP_NAME$1,[createCollectionScope$2]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$1),RovingFocusGroup=reactExports.forwardRef((E,_)=>jsxRuntimeExports.jsx(Collection$2.Provider,{scope:E.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:E.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...E,ref:_})})}));RovingFocusGroup.displayName=GROUP_NAME$1;var RovingFocusGroupImpl=reactExports.forwardRef((E,_)=>{const{__scopeRovingFocusGroup:C,orientation:A,loop:P=!1,dir:O,currentTabStopId:z,defaultCurrentTabStopId:I,onCurrentTabStopIdChange:B,onEntryFocus:U,preventScrollOnEntryFocus:G=!1,...F}=E,q=reactExports.useRef(null),Y=useComposedRefs(_,q),W=useDirection(O),[Q,J]=useControllableState({prop:z,defaultProp:I??null,onChange:B,caller:GROUP_NAME$1}),[ee,ne]=reactExports.useState(!1),se=useCallbackRef$1(U),ie=useCollection$2(C),fe=reactExports.useRef(!1),[me,le]=reactExports.useState(0);return reactExports.useEffect(()=>{const te=q.current;if(te)return te.addEventListener(ENTRY_FOCUS,se),()=>te.removeEventListener(ENTRY_FOCUS,se)},[se]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:C,orientation:A,dir:W,loop:P,currentTabStopId:Q,onItemFocus:reactExports.useCallback(te=>J(te),[J]),onItemShiftTab:reactExports.useCallback(()=>ne(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>le(te=>te+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>le(te=>te-1),[]),children:jsxRuntimeExports.jsx(Primitive$3.div,{tabIndex:ee||me===0?-1:0,"data-orientation":A,...F,ref:Y,style:{outline:"none",...E.style},onMouseDown:composeEventHandlers(E.onMouseDown,()=>{fe.current=!0}),onFocus:composeEventHandlers(E.onFocus,te=>{const ae=!fe.current;if(te.target===te.currentTarget&&ae&&!ee){const ue=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS$1);if(te.currentTarget.dispatchEvent(ue),!ue.defaultPrevented){const xe=ie().filter(oe=>oe.focusable),Ae=xe.find(oe=>oe.active),he=xe.find(oe=>oe.id===Q),Pe=[Ae,he,...xe].filter(Boolean).map(oe=>oe.ref.current);focusFirst$1(Pe,G)}}fe.current=!1}),onBlur:composeEventHandlers(E.onBlur,()=>ne(!1))})})}),ITEM_NAME$2="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((E,_)=>{const{__scopeRovingFocusGroup:C,focusable:A=!0,active:P=!1,tabStopId:O,children:z,...I}=E,B=useId(),U=O||B,G=useRovingFocusContext(ITEM_NAME$2,C),F=G.currentTabStopId===U,q=useCollection$2(C),{onFocusableItemAdd:Y,onFocusableItemRemove:W,currentTabStopId:Q}=G;return reactExports.useEffect(()=>{if(A)return Y(),()=>W()},[A,Y,W]),jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:C,id:U,focusable:A,active:P,children:jsxRuntimeExports.jsx(Primitive$3.span,{tabIndex:F?0:-1,"data-orientation":G.orientation,...I,ref:_,onMouseDown:composeEventHandlers(E.onMouseDown,J=>{A?G.onItemFocus(U):J.preventDefault()}),onFocus:composeEventHandlers(E.onFocus,()=>G.onItemFocus(U)),onKeyDown:composeEventHandlers(E.onKeyDown,J=>{if(J.key==="Tab"&&J.shiftKey){G.onItemShiftTab();return}if(J.target!==J.currentTarget)return;const ee=getFocusIntent(J,G.orientation,G.dir);if(ee!==void 0){if(J.metaKey||J.ctrlKey||J.altKey||J.shiftKey)return;J.preventDefault();let se=q().filter(ie=>ie.focusable).map(ie=>ie.ref.current);if(ee==="last")se.reverse();else if(ee==="prev"||ee==="next"){ee==="prev"&&se.reverse();const ie=se.indexOf(J.currentTarget);se=G.loop?wrapArray$1(se,ie+1):se.slice(ie+1)}setTimeout(()=>focusFirst$1(se))}}),children:typeof z=="function"?z({isCurrentTabStop:F,hasTabStop:Q!=null}):z})})});RovingFocusGroupItem.displayName=ITEM_NAME$2;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(E,_){return _!=="rtl"?E:E==="ArrowLeft"?"ArrowRight":E==="ArrowRight"?"ArrowLeft":E}function getFocusIntent(E,_,C){const A=getDirectionAwareKey(E.key,C);if(!(_==="vertical"&&["ArrowLeft","ArrowRight"].includes(A))&&!(_==="horizontal"&&["ArrowUp","ArrowDown"].includes(A)))return MAP_KEY_TO_FOCUS_INTENT[A]}function focusFirst$1(E,_=!1){const C=document.activeElement;for(const A of E)if(A===C||(A.focus({preventScroll:_}),document.activeElement!==C))return}function wrapArray$1(E,_){return E.map((C,A)=>E[(_+A)%E.length])}var Root$6=RovingFocusGroup,Item$2=RovingFocusGroupItem;function useStateMachine$1(E,_){return reactExports.useReducer((C,A)=>_[C][A]??C,E)}var Presence=E=>{const{present:_,children:C}=E,A=usePresence(_),P=typeof C=="function"?C({present:A.isPresent}):reactExports.Children.only(C),O=useComposedRefs(A.ref,getElementRef$1(P));return typeof C=="function"||A.isPresent?reactExports.cloneElement(P,{ref:O}):null};Presence.displayName="Presence";function usePresence(E){const[_,C]=reactExports.useState(),A=reactExports.useRef(null),P=reactExports.useRef(E),O=reactExports.useRef("none"),z=E?"mounted":"unmounted",[I,B]=useStateMachine$1(z,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const U=getAnimationName(A.current);O.current=I==="mounted"?U:"none"},[I]),useLayoutEffect2(()=>{const U=A.current,G=P.current;if(G!==E){const q=O.current,Y=getAnimationName(U);E?B("MOUNT"):Y==="none"||U?.display==="none"?B("UNMOUNT"):B(G&&q!==Y?"ANIMATION_OUT":"UNMOUNT"),P.current=E}},[E,B]),useLayoutEffect2(()=>{if(_){let U;const G=_.ownerDocument.defaultView??window,F=Y=>{const Q=getAnimationName(A.current).includes(CSS.escape(Y.animationName));if(Y.target===_&&Q&&(B("ANIMATION_END"),!P.current)){const J=_.style.animationFillMode;_.style.animationFillMode="forwards",U=G.setTimeout(()=>{_.style.animationFillMode==="forwards"&&(_.style.animationFillMode=J)})}},q=Y=>{Y.target===_&&(O.current=getAnimationName(A.current))};return _.addEventListener("animationstart",q),_.addEventListener("animationcancel",F),_.addEventListener("animationend",F),()=>{G.clearTimeout(U),_.removeEventListener("animationstart",q),_.removeEventListener("animationcancel",F),_.removeEventListener("animationend",F)}}else B("ANIMATION_END")},[_,B]),{isPresent:["mounted","unmountSuspended"].includes(I),ref:reactExports.useCallback(U=>{A.current=U?getComputedStyle(U):null,C(U)},[])}}function getAnimationName(E){return E?.animationName||"none"}function getElementRef$1(E){let _=Object.getOwnPropertyDescriptor(E.props,"ref")?.get,C=_&&"isReactWarning"in _&&_.isReactWarning;return C?E.ref:(_=Object.getOwnPropertyDescriptor(E,"ref")?.get,C=_&&"isReactWarning"in _&&_.isReactWarning,C?E.props.ref:E.props.ref||E.ref)}var TABS_NAME="Tabs",[createTabsContext]=createContextScope$1(TABS_NAME,[createRovingFocusGroupScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),[TabsProvider,useTabsContext]=createTabsContext(TABS_NAME),Tabs$1=reactExports.forwardRef((E,_)=>{const{__scopeTabs:C,value:A,onValueChange:P,defaultValue:O,orientation:z="horizontal",dir:I,activationMode:B="automatic",...U}=E,G=useDirection(I),[F,q]=useControllableState({prop:A,onChange:P,defaultProp:O??"",caller:TABS_NAME});return jsxRuntimeExports.jsx(TabsProvider,{scope:C,baseId:useId(),value:F,onValueChange:q,orientation:z,dir:G,activationMode:B,children:jsxRuntimeExports.jsx(Primitive$3.div,{dir:G,"data-orientation":z,...U,ref:_})})});Tabs$1.displayName=TABS_NAME;var TAB_LIST_NAME="TabsList",TabsList$1=reactExports.forwardRef((E,_)=>{const{__scopeTabs:C,loop:A=!0,...P}=E,O=useTabsContext(TAB_LIST_NAME,C),z=useRovingFocusGroupScope(C);return jsxRuntimeExports.jsx(Root$6,{asChild:!0,...z,orientation:O.orientation,dir:O.dir,loop:A,children:jsxRuntimeExports.jsx(Primitive$3.div,{role:"tablist","aria-orientation":O.orientation,...P,ref:_})})});TabsList$1.displayName=TAB_LIST_NAME;var TRIGGER_NAME$4="TabsTrigger",TabsTrigger$1=reactExports.forwardRef((E,_)=>{const{__scopeTabs:C,value:A,disabled:P=!1,...O}=E,z=useTabsContext(TRIGGER_NAME$4,C),I=useRovingFocusGroupScope(C),B=makeTriggerId(z.baseId,A),U=makeContentId(z.baseId,A),G=A===z.value;return jsxRuntimeExports.jsx(Item$2,{asChild:!0,...I,focusable:!P,active:G,children:jsxRuntimeExports.jsx(Primitive$3.button,{type:"button",role:"tab","aria-selected":G,"aria-controls":U,"data-state":G?"active":"inactive","data-disabled":P?"":void 0,disabled:P,id:B,...O,ref:_,onMouseDown:composeEventHandlers(E.onMouseDown,F=>{!P&&F.button===0&&F.ctrlKey===!1?z.onValueChange(A):F.preventDefault()}),onKeyDown:composeEventHandlers(E.onKeyDown,F=>{[" ","Enter"].includes(F.key)&&z.onValueChange(A)}),onFocus:composeEventHandlers(E.onFocus,()=>{const F=z.activationMode!=="manual";!G&&!P&&F&&z.onValueChange(A)})})})});TabsTrigger$1.displayName=TRIGGER_NAME$4;var CONTENT_NAME$4="TabsContent",TabsContent$1=reactExports.forwardRef((E,_)=>{const{__scopeTabs:C,value:A,forceMount:P,children:O,...z}=E,I=useTabsContext(CONTENT_NAME$4,C),B=makeTriggerId(I.baseId,A),U=makeContentId(I.baseId,A),G=A===I.value,F=reactExports.useRef(G);return reactExports.useEffect(()=>{const q=requestAnimationFrame(()=>F.current=!1);return()=>cancelAnimationFrame(q)},[]),jsxRuntimeExports.jsx(Presence,{present:P||G,children:({present:q})=>jsxRuntimeExports.jsx(Primitive$3.div,{"data-state":G?"active":"inactive","data-orientation":I.orientation,role:"tabpanel","aria-labelledby":B,hidden:!q,id:U,tabIndex:0,...z,ref:_,style:{...E.style,animationDuration:F.current?"0s":void 0},children:q&&O})})});TabsContent$1.displayName=CONTENT_NAME$4;function makeTriggerId(E,_){return`${E}-trigger-${_}`}function makeContentId(E,_){return`${E}-content-${_}`}var Root2$3=Tabs$1,List=TabsList$1,Trigger$2=TabsTrigger$1,Content$2=TabsContent$1;const Tabs=Root2$3,TabsList=reactExports.forwardRef(({className:E,..._},C)=>jsxRuntimeExports.jsx(List,{ref:C,className:cn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",E),..._}));TabsList.displayName=List.displayName;const TabsTrigger=reactExports.forwardRef(({className:E,..._},C)=>jsxRuntimeExports.jsx(Trigger$2,{ref:C,className:cn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",E),..._}));TabsTrigger.displayName=Trigger$2.displayName;const TabsContent=reactExports.forwardRef(({className:E,..._},C)=>jsxRuntimeExports.jsx(Content$2,{ref:C,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",E),..._}));TabsContent.displayName=Content$2.displayName;const scriptRel="modulepreload",assetsURL=function(E){return"/"+E},seen={},__vitePreload=function(_,C,A){let P=Promise.resolve();if(C&&C.length>0){let B=function(U){return Promise.all(U.map(G=>Promise.resolve(G).then(F=>({status:"fulfilled",value:F}),F=>({status:"rejected",reason:F}))))};document.getElementsByTagName("link");const z=document.querySelector("meta[property=csp-nonce]"),I=z?.nonce||z?.getAttribute("nonce");P=B(C.map(U=>{if(U=assetsURL(U),U in seen)return;seen[U]=!0;const G=U.endsWith(".css"),F=G?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${U}"]${F}`))return;const q=document.createElement("link");if(q.rel=G?"stylesheet":scriptRel,G||(q.as="script"),q.crossOrigin="",q.href=U,I&&q.setAttribute("nonce",I),document.head.appendChild(q),G)return new Promise((Y,W)=>{q.addEventListener("load",Y),q.addEventListener("error",()=>W(new Error(`Unable to preload CSS for ${U}`)))})}))}function O(z){const I=new Event("vite:preloadError",{cancelable:!0});if(I.payload=z,window.dispatchEvent(I),!I.defaultPrevented)throw z}return P.then(z=>{for(const I of z||[])I.status==="rejected"&&O(I.reason);return _().catch(O)})};var ExtensionType=(E=>(E.Application="application",E.WebGLPipes="webgl-pipes",E.WebGLPipesAdaptor="webgl-pipes-adaptor",E.WebGLSystem="webgl-system",E.WebGPUPipes="webgpu-pipes",E.WebGPUPipesAdaptor="webgpu-pipes-adaptor",E.WebGPUSystem="webgpu-system",E.CanvasSystem="canvas-system",E.CanvasPipesAdaptor="canvas-pipes-adaptor",E.CanvasPipes="canvas-pipes",E.Asset="asset",E.LoadParser="load-parser",E.ResolveParser="resolve-parser",E.CacheParser="cache-parser",E.DetectionParser="detection-parser",E.MaskEffect="mask-effect",E.BlendMode="blend-mode",E.TextureSource="texture-source",E.Environment="environment",E.ShapeBuilder="shape-builder",E.Batcher="batcher",E))(ExtensionType||{});const normalizeExtension=E=>{if(typeof E=="function"||typeof E=="object"&&E.extension){if(!E.extension)throw new Error("Extension class must have an extension object");E={...typeof E.extension!="object"?{type:E.extension}:E.extension,ref:E}}if(typeof E=="object")E={...E};else throw new Error("Invalid extension type");return typeof E.type=="string"&&(E.type=[E.type]),E},normalizeExtensionPriority=(E,_)=>normalizeExtension(E).priority??_,extensions={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...E){return E.map(normalizeExtension).forEach(_=>{_.type.forEach(C=>this._removeHandlers[C]?.(_))}),this},add(...E){return E.map(normalizeExtension).forEach(_=>{_.type.forEach(C=>{const A=this._addHandlers,P=this._queue;A[C]?A[C]?.(_):(P[C]=P[C]||[],P[C]?.push(_))})}),this},handle(E,_,C){const A=this._addHandlers,P=this._removeHandlers;if(A[E]||P[E])throw new Error(`Extension type ${E} already has a handler`);A[E]=_,P[E]=C;const O=this._queue;return O[E]&&(O[E]?.forEach(z=>_(z)),delete O[E]),this},handleByMap(E,_){return this.handle(E,C=>{C.name&&(_[C.name]=C.ref)},C=>{C.name&&delete _[C.name]})},handleByNamedList(E,_,C=-1){return this.handle(E,A=>{_.findIndex(O=>O.name===A.name)>=0||(_.push({name:A.name,value:A.ref}),_.sort((O,z)=>normalizeExtensionPriority(z.value,C)-normalizeExtensionPriority(O.value,C)))},A=>{const P=_.findIndex(O=>O.name===A.name);P!==-1&&_.splice(P,1)})},handleByList(E,_,C=-1){return this.handle(E,A=>{_.includes(A.ref)||(_.push(A.ref),_.sort((P,O)=>normalizeExtensionPriority(O,C)-normalizeExtensionPriority(P,C)))},A=>{const P=_.indexOf(A.ref);P!==-1&&_.splice(P,1)})},mixin(E,..._){for(const C of _)Object.defineProperties(E.prototype,Object.getOwnPropertyDescriptors(C))}},browserExt={extension:{type:ExtensionType.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await __vitePreload(()=>import("./browserAll-DHPvZUrP.js"),__vite__mapDeps([0,1,2]))}},webworkerExt={extension:{type:ExtensionType.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await __vitePreload(()=>import("./webworkerAll-Dh0JF7Jz.js"),__vite__mapDeps([1,2]))}};class ObservablePoint{constructor(_,C,A){this._x=C||0,this._y=A||0,this._observer=_}clone(_){return new ObservablePoint(_??this._observer,this._x,this._y)}set(_=0,C=_){return(this._x!==_||this._y!==C)&&(this._x=_,this._y=C,this._observer._onUpdate(this)),this}copyFrom(_){return(this._x!==_.x||this._y!==_.y)&&(this._x=_.x,this._y=_.y,this._observer._onUpdate(this)),this}copyTo(_){return _.set(this._x,this._y),_}equals(_){return _.x===this._x&&_.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(_){this._x!==_&&(this._x=_,this._observer._onUpdate(this))}get y(){return this._y}set y(_){this._y!==_&&(this._y=_,this._observer._onUpdate(this))}}var eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,(function(E){var _=Object.prototype.hasOwnProperty,C="~";function A(){}Object.create&&(A.prototype=Object.create(null),new A().__proto__||(C=!1));function P(B,U,G){this.fn=B,this.context=U,this.once=G||!1}function O(B,U,G,F,q){if(typeof G!="function")throw new TypeError("The listener must be a function");var Y=new P(G,F||B,q),W=C?C+U:U;return B._events[W]?B._events[W].fn?B._events[W]=[B._events[W],Y]:B._events[W].push(Y):(B._events[W]=Y,B._eventsCount++),B}function z(B,U){--B._eventsCount===0?B._events=new A:delete B._events[U]}function I(){this._events=new A,this._eventsCount=0}I.prototype.eventNames=function(){var U=[],G,F;if(this._eventsCount===0)return U;for(F in G=this._events)_.call(G,F)&&U.push(C?F.slice(1):F);return Object.getOwnPropertySymbols?U.concat(Object.getOwnPropertySymbols(G)):U},I.prototype.listeners=function(U){var G=C?C+U:U,F=this._events[G];if(!F)return[];if(F.fn)return[F.fn];for(var q=0,Y=F.length,W=new Array(Y);q<Y;q++)W[q]=F[q].fn;return W},I.prototype.listenerCount=function(U){var G=C?C+U:U,F=this._events[G];return F?F.fn?1:F.length:0},I.prototype.emit=function(U,G,F,q,Y,W){var Q=C?C+U:U;if(!this._events[Q])return!1;var J=this._events[Q],ee=arguments.length,ne,se;if(J.fn){switch(J.once&&this.removeListener(U,J.fn,void 0,!0),ee){case 1:return J.fn.call(J.context),!0;case 2:return J.fn.call(J.context,G),!0;case 3:return J.fn.call(J.context,G,F),!0;case 4:return J.fn.call(J.context,G,F,q),!0;case 5:return J.fn.call(J.context,G,F,q,Y),!0;case 6:return J.fn.call(J.context,G,F,q,Y,W),!0}for(se=1,ne=new Array(ee-1);se<ee;se++)ne[se-1]=arguments[se];J.fn.apply(J.context,ne)}else{var ie=J.length,fe;for(se=0;se<ie;se++)switch(J[se].once&&this.removeListener(U,J[se].fn,void 0,!0),ee){case 1:J[se].fn.call(J[se].context);break;case 2:J[se].fn.call(J[se].context,G);break;case 3:J[se].fn.call(J[se].context,G,F);break;case 4:J[se].fn.call(J[se].context,G,F,q);break;default:if(!ne)for(fe=1,ne=new Array(ee-1);fe<ee;fe++)ne[fe-1]=arguments[fe];J[se].fn.apply(J[se].context,ne)}}return!0},I.prototype.on=function(U,G,F){return O(this,U,G,F,!1)},I.prototype.once=function(U,G,F){return O(this,U,G,F,!0)},I.prototype.removeListener=function(U,G,F,q){var Y=C?C+U:U;if(!this._events[Y])return this;if(!G)return z(this,Y),this;var W=this._events[Y];if(W.fn)W.fn===G&&(!q||W.once)&&(!F||W.context===F)&&z(this,Y);else{for(var Q=0,J=[],ee=W.length;Q<ee;Q++)(W[Q].fn!==G||q&&!W[Q].once||F&&W[Q].context!==F)&&J.push(W[Q]);J.length?this._events[Y]=J.length===1?J[0]:J:z(this,Y)}return this},I.prototype.removeAllListeners=function(U){var G;return U?(G=C?C+U:U,this._events[G]&&z(this,G)):(this._events=new A,this._eventsCount=0),this},I.prototype.off=I.prototype.removeListener,I.prototype.addListener=I.prototype.on,I.prefixed=C,I.EventEmitter=I,E.exports=I})(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports),PI_2=Math.PI*2,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180;class Point{constructor(_=0,C=0){this.x=0,this.y=0,this.x=_,this.y=C}clone(){return new Point(this.x,this.y)}copyFrom(_){return this.set(_.x,_.y),this}copyTo(_){return _.set(this.x,this.y),_}equals(_){return _.x===this.x&&_.y===this.y}set(_=0,C=_){return this.x=_,this.y=C,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return tempPoint.x=0,tempPoint.y=0,tempPoint}}const tempPoint=new Point;class Matrix{constructor(_=1,C=0,A=0,P=1,O=0,z=0){this.array=null,this.a=_,this.b=C,this.c=A,this.d=P,this.tx=O,this.ty=z}fromArray(_){this.a=_[0],this.b=_[1],this.c=_[3],this.d=_[4],this.tx=_[2],this.ty=_[5]}set(_,C,A,P,O,z){return this.a=_,this.b=C,this.c=A,this.d=P,this.tx=O,this.ty=z,this}toArray(_,C){this.array||(this.array=new Float32Array(9));const A=C||this.array;return _?(A[0]=this.a,A[1]=this.b,A[2]=0,A[3]=this.c,A[4]=this.d,A[5]=0,A[6]=this.tx,A[7]=this.ty,A[8]=1):(A[0]=this.a,A[1]=this.c,A[2]=this.tx,A[3]=this.b,A[4]=this.d,A[5]=this.ty,A[6]=0,A[7]=0,A[8]=1),A}apply(_,C){C=C||new Point;const A=_.x,P=_.y;return C.x=this.a*A+this.c*P+this.tx,C.y=this.b*A+this.d*P+this.ty,C}applyInverse(_,C){C=C||new Point;const A=this.a,P=this.b,O=this.c,z=this.d,I=this.tx,B=this.ty,U=1/(A*z+O*-P),G=_.x,F=_.y;return C.x=z*U*G+-O*U*F+(B*O-I*z)*U,C.y=A*U*F+-P*U*G+(-B*A+I*P)*U,C}translate(_,C){return this.tx+=_,this.ty+=C,this}scale(_,C){return this.a*=_,this.d*=C,this.c*=_,this.b*=C,this.tx*=_,this.ty*=C,this}rotate(_){const C=Math.cos(_),A=Math.sin(_),P=this.a,O=this.c,z=this.tx;return this.a=P*C-this.b*A,this.b=P*A+this.b*C,this.c=O*C-this.d*A,this.d=O*A+this.d*C,this.tx=z*C-this.ty*A,this.ty=z*A+this.ty*C,this}append(_){const C=this.a,A=this.b,P=this.c,O=this.d;return this.a=_.a*C+_.b*P,this.b=_.a*A+_.b*O,this.c=_.c*C+_.d*P,this.d=_.c*A+_.d*O,this.tx=_.tx*C+_.ty*P+this.tx,this.ty=_.tx*A+_.ty*O+this.ty,this}appendFrom(_,C){const A=_.a,P=_.b,O=_.c,z=_.d,I=_.tx,B=_.ty,U=C.a,G=C.b,F=C.c,q=C.d;return this.a=A*U+P*F,this.b=A*G+P*q,this.c=O*U+z*F,this.d=O*G+z*q,this.tx=I*U+B*F+C.tx,this.ty=I*G+B*q+C.ty,this}setTransform(_,C,A,P,O,z,I,B,U){return this.a=Math.cos(I+U)*O,this.b=Math.sin(I+U)*O,this.c=-Math.sin(I-B)*z,this.d=Math.cos(I-B)*z,this.tx=_-(A*this.a+P*this.c),this.ty=C-(A*this.b+P*this.d),this}prepend(_){const C=this.tx;if(_.a!==1||_.b!==0||_.c!==0||_.d!==1){const A=this.a,P=this.c;this.a=A*_.a+this.b*_.c,this.b=A*_.b+this.b*_.d,this.c=P*_.a+this.d*_.c,this.d=P*_.b+this.d*_.d}return this.tx=C*_.a+this.ty*_.c+_.tx,this.ty=C*_.b+this.ty*_.d+_.ty,this}decompose(_){const C=this.a,A=this.b,P=this.c,O=this.d,z=_.pivot,I=-Math.atan2(-P,O),B=Math.atan2(A,C),U=Math.abs(I+B);return U<1e-5||Math.abs(PI_2-U)<1e-5?(_.rotation=B,_.skew.x=_.skew.y=0):(_.rotation=0,_.skew.x=I,_.skew.y=B),_.scale.x=Math.sqrt(C*C+A*A),_.scale.y=Math.sqrt(P*P+O*O),_.position.x=this.tx+(z.x*C+z.y*P),_.position.y=this.ty+(z.x*A+z.y*O),_}invert(){const _=this.a,C=this.b,A=this.c,P=this.d,O=this.tx,z=_*P-C*A;return this.a=P/z,this.b=-C/z,this.c=-A/z,this.d=_/z,this.tx=(A*this.ty-P*O)/z,this.ty=-(_*this.ty-C*O)/z,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const _=new Matrix;return _.a=this.a,_.b=this.b,_.c=this.c,_.d=this.d,_.tx=this.tx,_.ty=this.ty,_}copyTo(_){return _.a=this.a,_.b=this.b,_.c=this.c,_.d=this.d,_.tx=this.tx,_.ty=this.ty,_}copyFrom(_){return this.a=_.a,this.b=_.b,this.c=_.c,this.d=_.d,this.tx=_.tx,this.ty=_.ty,this}equals(_){return _.a===this.a&&_.b===this.b&&_.c===this.c&&_.d===this.d&&_.tx===this.tx&&_.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return identityMatrix$1.identity()}static get shared(){return tempMatrix$3.identity()}}const tempMatrix$3=new Matrix,identityMatrix$1=new Matrix,ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign;function init(){for(let E=0;E<16;E++){const _=[];rotationCayley.push(_);for(let C=0;C<16;C++){const A=signum(ux[E]*ux[C]+vx[E]*uy[C]),P=signum(uy[E]*ux[C]+vy[E]*uy[C]),O=signum(ux[E]*vx[C]+vx[E]*vy[C]),z=signum(uy[E]*vx[C]+vy[E]*vy[C]);for(let I=0;I<16;I++)if(ux[I]===A&&uy[I]===P&&vx[I]===O&&vy[I]===z){_.push(I);break}}}for(let E=0;E<16;E++){const _=new Matrix;_.set(ux[E],uy[E],vx[E],vy[E],0,0),rotationMatrices.push(_)}}init();const groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:E=>ux[E],uY:E=>uy[E],vX:E=>vx[E],vY:E=>vy[E],inv:E=>E&8?E&15:-E&7,add:(E,_)=>rotationCayley[E][_],sub:(E,_)=>rotationCayley[E][groupD8.inv(_)],rotate180:E=>E^4,isVertical:E=>(E&3)===2,byDirection:(E,_)=>Math.abs(E)*2<=Math.abs(_)?_>=0?groupD8.S:groupD8.N:Math.abs(_)*2<=Math.abs(E)?E>0?groupD8.E:groupD8.W:_>0?E>0?groupD8.SE:groupD8.SW:E>0?groupD8.NE:groupD8.NW,matrixAppendRotationInv:(E,_,C=0,A=0)=>{const P=rotationMatrices[groupD8.inv(_)];P.tx=C,P.ty=A,E.append(P)},transformRectCoords:(E,_,C,A)=>{const{x:P,y:O,width:z,height:I}=E,{x:B,y:U,width:G,height:F}=_;return C===groupD8.E?(A.set(P+B,O+U,z,I),A):C===groupD8.S?A.set(G-O-I+B,P+U,I,z):C===groupD8.W?A.set(G-P-z+B,F-O-I+U,z,I):C===groupD8.N?A.set(O+B,F-P-z+U,I,z):A.set(P+B,O+U,z,I)}},tempPoints=[new Point,new Point,new Point,new Point];class Rectangle{constructor(_=0,C=0,A=0,P=0){this.type="rectangle",this.x=Number(_),this.y=Number(C),this.width=Number(A),this.height=Number(P)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Rectangle(0,0,0,0)}clone(){return new Rectangle(this.x,this.y,this.width,this.height)}copyFromBounds(_){return this.x=_.minX,this.y=_.minY,this.width=_.maxX-_.minX,this.height=_.maxY-_.minY,this}copyFrom(_){return this.x=_.x,this.y=_.y,this.width=_.width,this.height=_.height,this}copyTo(_){return _.copyFrom(this),_}contains(_,C){return this.width<=0||this.height<=0?!1:_>=this.x&&_<this.x+this.width&&C>=this.y&&C<this.y+this.height}strokeContains(_,C,A,P=.5){const{width:O,height:z}=this;if(O<=0||z<=0)return!1;const I=this.x,B=this.y,U=A*(1-P),G=A-U,F=I-U,q=I+O+U,Y=B-U,W=B+z+U,Q=I+G,J=I+O-G,ee=B+G,ne=B+z-G;return _>=F&&_<=q&&C>=Y&&C<=W&&!(_>Q&&_<J&&C>ee&&C<ne)}intersects(_,C){if(!C){const te=this.x<_.x?_.x:this.x;if((this.right>_.right?_.right:this.right)<=te)return!1;const ue=this.y<_.y?_.y:this.y;return(this.bottom>_.bottom?_.bottom:this.bottom)>ue}const A=this.left,P=this.right,O=this.top,z=this.bottom;if(P<=A||z<=O)return!1;const I=tempPoints[0].set(_.left,_.top),B=tempPoints[1].set(_.left,_.bottom),U=tempPoints[2].set(_.right,_.top),G=tempPoints[3].set(_.right,_.bottom);if(U.x<=I.x||B.y<=I.y)return!1;const F=Math.sign(C.a*C.d-C.b*C.c);if(F===0||(C.apply(I,I),C.apply(B,B),C.apply(U,U),C.apply(G,G),Math.max(I.x,B.x,U.x,G.x)<=A||Math.min(I.x,B.x,U.x,G.x)>=P||Math.max(I.y,B.y,U.y,G.y)<=O||Math.min(I.y,B.y,U.y,G.y)>=z))return!1;const q=F*(B.y-I.y),Y=F*(I.x-B.x),W=q*A+Y*O,Q=q*P+Y*O,J=q*A+Y*z,ee=q*P+Y*z;if(Math.max(W,Q,J,ee)<=q*I.x+Y*I.y||Math.min(W,Q,J,ee)>=q*G.x+Y*G.y)return!1;const ne=F*(I.y-U.y),se=F*(U.x-I.x),ie=ne*A+se*O,fe=ne*P+se*O,me=ne*A+se*z,le=ne*P+se*z;return!(Math.max(ie,fe,me,le)<=ne*I.x+se*I.y||Math.min(ie,fe,me,le)>=ne*G.x+se*G.y)}pad(_=0,C=_){return this.x-=_,this.y-=C,this.width+=_*2,this.height+=C*2,this}fit(_){const C=Math.max(this.x,_.x),A=Math.min(this.x+this.width,_.x+_.width),P=Math.max(this.y,_.y),O=Math.min(this.y+this.height,_.y+_.height);return this.x=C,this.width=Math.max(A-C,0),this.y=P,this.height=Math.max(O-P,0),this}ceil(_=1,C=.001){const A=Math.ceil((this.x+this.width-C)*_)/_,P=Math.ceil((this.y+this.height-C)*_)/_;return this.x=Math.floor((this.x+C)*_)/_,this.y=Math.floor((this.y+C)*_)/_,this.width=A-this.x,this.height=P-this.y,this}scale(_,C=_){return this.x*=_,this.y*=C,this.width*=_,this.height*=C,this}enlarge(_){const C=Math.min(this.x,_.x),A=Math.max(this.x+this.width,_.x+_.width),P=Math.min(this.y,_.y),O=Math.max(this.y+this.height,_.y+_.height);return this.x=C,this.width=A-C,this.y=P,this.height=O-P,this}getBounds(_){return _||(_=new Rectangle),_.copyFrom(this),_}containsRect(_){if(this.width<=0||this.height<=0)return!1;const C=_.x,A=_.y,P=_.x+_.width,O=_.y+_.height;return C>=this.x&&C<this.x+this.width&&A>=this.y&&A<this.y+this.height&&P>=this.x&&P<this.x+this.width&&O>=this.y&&O<this.y+this.height}set(_,C,A,P){return this.x=_,this.y=C,this.width=A,this.height=P,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const uidCache={default:-1};function uid(E="default"){return uidCache[E]===void 0&&(uidCache[E]=-1),++uidCache[E]}const warnings=new Set,v8_0_0="8.0.0",v8_3_4="8.3.4",deprecationState={quiet:!1,noColor:!1},deprecation=(E,_,C=3)=>{if(deprecationState.quiet||warnings.has(_))return;let A=new Error().stack;const P=`${_}
Deprecated since v${E}`,O=typeof console.groupCollapsed=="function"&&!deprecationState.noColor;typeof A>"u"?console.warn("PixiJS Deprecation Warning: ",P):(A=A.split(`
`).splice(C).join(`
`),O?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",P),console.warn(A),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",P),console.warn(A))),warnings.add(_)};Object.defineProperties(deprecation,{quiet:{get:()=>deprecationState.quiet,set:E=>{deprecationState.quiet=E},enumerable:!0,configurable:!1},noColor:{get:()=>deprecationState.noColor,set:E=>{deprecationState.noColor=E},enumerable:!0,configurable:!1}});const NOOP=()=>{};function nextPow2(E){return E+=E===0?1:0,--E,E|=E>>>1,E|=E>>>2,E|=E>>>4,E|=E>>>8,E|=E>>>16,E+1}function isPow2(E){return!(E&E-1)&&!!E}function definedProps(E){const _={};for(const C in E)E[C]!==void 0&&(_[C]=E[C]);return _}const idHash$1=Object.create(null);function createResourceIdFromString(E){const _=idHash$1[E];return _===void 0&&(idHash$1[E]=uid("resource")),_}const _TextureStyle=class Wf extends EventEmitter{constructor(_={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,_={...Wf.defaultOptions,..._},this.addressMode=_.addressMode,this.addressModeU=_.addressModeU??this.addressModeU,this.addressModeV=_.addressModeV??this.addressModeV,this.addressModeW=_.addressModeW??this.addressModeW,this.scaleMode=_.scaleMode,this.magFilter=_.magFilter??this.magFilter,this.minFilter=_.minFilter??this.minFilter,this.mipmapFilter=_.mipmapFilter??this.mipmapFilter,this.lodMinClamp=_.lodMinClamp,this.lodMaxClamp=_.lodMaxClamp,this.compare=_.compare,this.maxAnisotropy=_.maxAnisotropy??1}set addressMode(_){this.addressModeU=_,this.addressModeV=_,this.addressModeW=_}get addressMode(){return this.addressModeU}set wrapMode(_){deprecation(v8_0_0,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=_}get wrapMode(){return this.addressMode}set scaleMode(_){this.magFilter=_,this.minFilter=_,this.mipmapFilter=_}get scaleMode(){return this.magFilter}set maxAnisotropy(_){this._maxAnisotropy=Math.min(_,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const _=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=createResourceIdFromString(_),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};_TextureStyle.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let TextureStyle=_TextureStyle;const _TextureSource=class Kf extends EventEmitter{constructor(_={}){super(),this.options=_,this.uid=uid("textureSource"),this._resourceType="textureSource",this._resourceId=uid("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,_={...Kf.defaultOptions,..._},this.label=_.label??"",this.resource=_.resource,this.autoGarbageCollect=_.autoGarbageCollect,this._resolution=_.resolution,_.width?this.pixelWidth=_.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,_.height?this.pixelHeight=_.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=_.format,this.dimension=_.dimensions,this.mipLevelCount=_.mipLevelCount,this.autoGenerateMipmaps=_.autoGenerateMipmaps,this.sampleCount=_.sampleCount,this.antialias=_.antialias,this.alphaMode=_.alphaMode,this.style=new TextureStyle(definedProps(_)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(_){this.style!==_&&(this._style?.off("change",this._onStyleChange,this),this._style=_,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(_){this._style.maxAnisotropy=_}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(_){this._style.addressMode=_}get repeatMode(){return this._style.addressMode}set repeatMode(_){this._style.addressMode=_}get magFilter(){return this._style.magFilter}set magFilter(_){this._style.magFilter=_}get minFilter(){return this._style.minFilter}set minFilter(_){this._style.minFilter=_}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(_){this._style.mipmapFilter=_}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(_){this._style.lodMinClamp=_}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(_){this._style.lodMaxClamp=_}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const _=this._resolution;if(this.resize(this.resourceWidth/_,this.resourceHeight/_))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=uid("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:_}=this;return _.naturalWidth||_.videoWidth||_.displayWidth||_.width}get resourceHeight(){const{resource:_}=this;return _.naturalHeight||_.videoHeight||_.displayHeight||_.height}get resolution(){return this._resolution}set resolution(_){this._resolution!==_&&(this._resolution=_,this.width=this.pixelWidth/_,this.height=this.pixelHeight/_)}resize(_,C,A){A||(A=this._resolution),_||(_=this.width),C||(C=this.height);const P=Math.round(_*A),O=Math.round(C*A);return this.width=P/A,this.height=O/A,this._resolution=A,this.pixelWidth===P&&this.pixelHeight===O?!1:(this._refreshPOT(),this.pixelWidth=P,this.pixelHeight=O,this.emit("resize",this),this._resourceId=uid("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(_){this._style.wrapMode=_}get wrapMode(){return this._style.wrapMode}set scaleMode(_){this._style.scaleMode=_}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=isPow2(this.pixelWidth)&&isPow2(this.pixelHeight)}static test(_){throw new Error("Unimplemented")}};_TextureSource.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let TextureSource=_TextureSource;class BufferImageSource extends TextureSource{constructor(_){const C=_.resource||new Float32Array(_.width*_.height*4);let A=_.format;A||(C instanceof Float32Array?A="rgba32float":C instanceof Int32Array||C instanceof Uint32Array?A="rgba32uint":C instanceof Int16Array||C instanceof Uint16Array?A="rgba16uint":(C instanceof Int8Array,A="bgra8unorm")),super({..._,resource:C,format:A}),this.uploadMethodId="buffer"}static test(_){return _ instanceof Int8Array||_ instanceof Uint8Array||_ instanceof Uint8ClampedArray||_ instanceof Int16Array||_ instanceof Uint16Array||_ instanceof Int32Array||_ instanceof Uint32Array||_ instanceof Float32Array}}BufferImageSource.extension=ExtensionType.TextureSource;const tempMat=new Matrix;class TextureMatrix{constructor(_,C){this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof C>"u"?this.clampMargin=_.width<10?0:.5:this.clampMargin=C,this.isSimple=!1,this.texture=_}get texture(){return this._texture}set texture(_){this.texture!==_&&(this._texture?.removeListener("update",this.update,this),this._texture=_,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(_,C){C===void 0&&(C=_);const A=this.mapCoord;for(let P=0;P<_.length;P+=2){const O=_[P],z=_[P+1];C[P]=O*A.a+z*A.c+A.tx,C[P+1]=O*A.b+z*A.d+A.ty}return C}update(){const _=this._texture;this._updateID++;const C=_.uvs;this.mapCoord.set(C.x1-C.x0,C.y1-C.y0,C.x3-C.x0,C.y3-C.y0,C.x0,C.y0);const A=_.orig,P=_.trim;P&&(tempMat.set(A.width/P.width,0,0,A.height/P.height,-P.x/P.width,-P.y/P.height),this.mapCoord.append(tempMat));const O=_.source,z=this.uClampFrame,I=this.clampMargin/O._resolution,B=this.clampOffset/O._resolution;return z[0]=(_.frame.x+I+B)/O.width,z[1]=(_.frame.y+I+B)/O.height,z[2]=(_.frame.x+_.frame.width-I+B)/O.width,z[3]=(_.frame.y+_.frame.height-I+B)/O.height,this.uClampOffset[0]=this.clampOffset/O.pixelWidth,this.uClampOffset[1]=this.clampOffset/O.pixelHeight,this.isSimple=_.frame.width===O.width&&_.frame.height===O.height&&_.rotate===0,!0}}class Texture extends EventEmitter{constructor({source:_,label:C,frame:A,orig:P,trim:O,defaultAnchor:z,defaultBorders:I,rotate:B,dynamic:U}={}){if(super(),this.uid=uid("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Rectangle,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=C,this.source=_?.source??new TextureSource,this.noFrame=!A,A)this.frame.copyFrom(A);else{const{width:G,height:F}=this._source;this.frame.width=G,this.frame.height=F}this.orig=P||this.frame,this.trim=O,this.rotate=B??0,this.defaultAnchor=z,this.defaultBorders=I,this.destroyed=!1,this.dynamic=U||!1,this.updateUvs()}set source(_){this._source&&this._source.off("resize",this.update,this),this._source=_,_.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new TextureMatrix(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:_,frame:C}=this,{width:A,height:P}=this._source,O=C.x/A,z=C.y/P,I=C.width/A,B=C.height/P;let U=this.rotate;if(U){const G=I/2,F=B/2,q=O+G,Y=z+F;U=groupD8.add(U,groupD8.NW),_.x0=q+G*groupD8.uX(U),_.y0=Y+F*groupD8.uY(U),U=groupD8.add(U,2),_.x1=q+G*groupD8.uX(U),_.y1=Y+F*groupD8.uY(U),U=groupD8.add(U,2),_.x2=q+G*groupD8.uX(U),_.y2=Y+F*groupD8.uY(U),U=groupD8.add(U,2),_.x3=q+G*groupD8.uX(U),_.y3=Y+F*groupD8.uY(U)}else _.x0=O,_.y0=z,_.x1=O+I,_.y1=z,_.x2=O+I,_.y2=z+B,_.x3=O,_.y3=z+B}destroy(_=!1){this._source&&(this._source.off("resize",this.update,this),_&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return deprecation(v8_0_0,"Texture.baseTexture is now Texture.source"),this._source}}Texture.EMPTY=new Texture({label:"EMPTY",source:new TextureSource({label:"EMPTY"})});Texture.EMPTY.destroy=NOOP;Texture.WHITE=new Texture({source:new BufferImageSource({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Texture.WHITE.destroy=NOOP;function updateQuadBounds(E,_,C){const{width:A,height:P}=C.orig,O=C.trim;if(O){const z=O.width,I=O.height;E.minX=O.x-_._x*A,E.maxX=E.minX+z,E.minY=O.y-_._y*P,E.maxY=E.minY+I}else E.minX=-_._x*A,E.maxX=E.minX+A,E.minY=-_._y*P,E.maxY=E.minY+P}const defaultMatrix=new Matrix;class Bounds{constructor(_=1/0,C=1/0,A=-1/0,P=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=defaultMatrix,this.minX=_,this.minY=C,this.maxX=A,this.maxY=P}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Rectangle);const _=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(_.x=0,_.y=0,_.width=0,_.height=0):_.copyFromBounds(this),_}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=defaultMatrix,this}set(_,C,A,P){this.minX=_,this.minY=C,this.maxX=A,this.maxY=P}addFrame(_,C,A,P,O){O||(O=this.matrix);const z=O.a,I=O.b,B=O.c,U=O.d,G=O.tx,F=O.ty;let q=this.minX,Y=this.minY,W=this.maxX,Q=this.maxY,J=z*_+B*C+G,ee=I*_+U*C+F;J<q&&(q=J),ee<Y&&(Y=ee),J>W&&(W=J),ee>Q&&(Q=ee),J=z*A+B*C+G,ee=I*A+U*C+F,J<q&&(q=J),ee<Y&&(Y=ee),J>W&&(W=J),ee>Q&&(Q=ee),J=z*_+B*P+G,ee=I*_+U*P+F,J<q&&(q=J),ee<Y&&(Y=ee),J>W&&(W=J),ee>Q&&(Q=ee),J=z*A+B*P+G,ee=I*A+U*P+F,J<q&&(q=J),ee<Y&&(Y=ee),J>W&&(W=J),ee>Q&&(Q=ee),this.minX=q,this.minY=Y,this.maxX=W,this.maxY=Q}addRect(_,C){this.addFrame(_.x,_.y,_.x+_.width,_.y+_.height,C)}addBounds(_,C){this.addFrame(_.minX,_.minY,_.maxX,_.maxY,C)}addBoundsMask(_){this.minX=this.minX>_.minX?this.minX:_.minX,this.minY=this.minY>_.minY?this.minY:_.minY,this.maxX=this.maxX<_.maxX?this.maxX:_.maxX,this.maxY=this.maxY<_.maxY?this.maxY:_.maxY}applyMatrix(_){const C=this.minX,A=this.minY,P=this.maxX,O=this.maxY,{a:z,b:I,c:B,d:U,tx:G,ty:F}=_;let q=z*C+B*A+G,Y=I*C+U*A+F;this.minX=q,this.minY=Y,this.maxX=q,this.maxY=Y,q=z*P+B*A+G,Y=I*P+U*A+F,this.minX=q<this.minX?q:this.minX,this.minY=Y<this.minY?Y:this.minY,this.maxX=q>this.maxX?q:this.maxX,this.maxY=Y>this.maxY?Y:this.maxY,q=z*C+B*O+G,Y=I*C+U*O+F,this.minX=q<this.minX?q:this.minX,this.minY=Y<this.minY?Y:this.minY,this.maxX=q>this.maxX?q:this.maxX,this.maxY=Y>this.maxY?Y:this.maxY,q=z*P+B*O+G,Y=I*P+U*O+F,this.minX=q<this.minX?q:this.minX,this.minY=Y<this.minY?Y:this.minY,this.maxX=q>this.maxX?q:this.maxX,this.maxY=Y>this.maxY?Y:this.maxY}fit(_){return this.minX<_.left&&(this.minX=_.left),this.maxX>_.right&&(this.maxX=_.right),this.minY<_.top&&(this.minY=_.top),this.maxY>_.bottom&&(this.maxY=_.bottom),this}fitBounds(_,C,A,P){return this.minX<_&&(this.minX=_),this.maxX>C&&(this.maxX=C),this.minY<A&&(this.minY=A),this.maxY>P&&(this.maxY=P),this}pad(_,C=_){return this.minX-=_,this.maxX+=_,this.minY-=C,this.maxY+=C,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Bounds(this.minX,this.minY,this.maxX,this.maxY)}scale(_,C=_){return this.minX*=_,this.minY*=C,this.maxX*=_,this.maxY*=C,this}get x(){return this.minX}set x(_){const C=this.maxX-this.minX;this.minX=_,this.maxX=_+C}get y(){return this.minY}set y(_){const C=this.maxY-this.minY;this.minY=_,this.maxY=_+C}get width(){return this.maxX-this.minX}set width(_){this.maxX=this.minX+_}get height(){return this.maxY-this.minY}set height(_){this.maxY=this.minY+_}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(_,C,A,P){let O=this.minX,z=this.minY,I=this.maxX,B=this.maxY;P||(P=this.matrix);const U=P.a,G=P.b,F=P.c,q=P.d,Y=P.tx,W=P.ty;for(let Q=C;Q<A;Q+=2){const J=_[Q],ee=_[Q+1],ne=U*J+F*ee+Y,se=G*J+q*ee+W;O=ne<O?ne:O,z=se<z?se:z,I=ne>I?ne:I,B=se>B?se:B}this.minX=O,this.minY=z,this.maxX=I,this.maxY=B}containsPoint(_,C){return this.minX<=_&&this.minY<=C&&this.maxX>=_&&this.maxY>=C}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(_){return this.minX=_.minX,this.minY=_.minY,this.maxX=_.maxX,this.maxY=_.maxY,this}}var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(E){return typeof E=="string"?E.length>0:typeof E=="number"},n=function(E,_,C){return _===void 0&&(_=0),C===void 0&&(C=Math.pow(10,_)),Math.round(C*E)/C+0},e=function(E,_,C){return _===void 0&&(_=0),C===void 0&&(C=1),E>C?C:E>_?E:_},u=function(E){return(E=isFinite(E)?E%360:0)>0?E:E+360},a=function(E){return{r:e(E.r,0,255),g:e(E.g,0,255),b:e(E.b,0,255),a:e(E.a)}},o=function(E){return{r:n(E.r),g:n(E.g),b:n(E.b),a:n(E.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(E){var _=E.toString(16);return _.length<2?"0"+_:_},h=function(E){var _=E.r,C=E.g,A=E.b,P=E.a,O=Math.max(_,C,A),z=O-Math.min(_,C,A),I=z?O===_?(C-A)/z:O===C?2+(A-_)/z:4+(_-C)/z:0;return{h:60*(I<0?I+6:I),s:O?z/O*100:0,v:O/255*100,a:P}},b=function(E){var _=E.h,C=E.s,A=E.v,P=E.a;_=_/360*6,C/=100,A/=100;var O=Math.floor(_),z=A*(1-C),I=A*(1-(_-O)*C),B=A*(1-(1-_+O)*C),U=O%6;return{r:255*[A,I,z,z,B,A][U],g:255*[B,A,A,I,z,z][U],b:255*[z,z,B,A,A,I][U],a:P}},g=function(E){return{h:u(E.h),s:e(E.s,0,100),l:e(E.l,0,100),a:e(E.a)}},d=function(E){return{h:n(E.h),s:n(E.s),l:n(E.l),a:n(E.a,3)}},f=function(E){return b((C=(_=E).s,{h:_.h,s:(C*=((A=_.l)<50?A:100-A)/100)>0?2*C/(A+C)*100:0,v:A+C,a:_.a}));var _,C,A},c=function(E){return{h:(_=h(E)).h,s:(P=(200-(C=_.s))*(A=_.v)/100)>0&&P<200?C*A/100/(P<=100?P:200-P)*100:0,l:P/2,a:_.a};var _,C,A,P},l=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y={string:[[function(E){var _=i.exec(E);return _?(E=_[1]).length<=4?{r:parseInt(E[0]+E[0],16),g:parseInt(E[1]+E[1],16),b:parseInt(E[2]+E[2],16),a:E.length===4?n(parseInt(E[3]+E[3],16)/255,2):1}:E.length===6||E.length===8?{r:parseInt(E.substr(0,2),16),g:parseInt(E.substr(2,2),16),b:parseInt(E.substr(4,2),16),a:E.length===8?n(parseInt(E.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(E){var _=v.exec(E)||m.exec(E);return _?_[2]!==_[4]||_[4]!==_[6]?null:a({r:Number(_[1])/(_[2]?100/255:1),g:Number(_[3])/(_[4]?100/255:1),b:Number(_[5])/(_[6]?100/255:1),a:_[7]===void 0?1:Number(_[7])/(_[8]?100:1)}):null},"rgb"],[function(E){var _=l.exec(E)||p.exec(E);if(!_)return null;var C,A,P=g({h:(C=_[1],A=_[2],A===void 0&&(A="deg"),Number(C)*(r[A]||1)),s:Number(_[3]),l:Number(_[4]),a:_[5]===void 0?1:Number(_[5])/(_[6]?100:1)});return f(P)},"hsl"]],object:[[function(E){var _=E.r,C=E.g,A=E.b,P=E.a,O=P===void 0?1:P;return t(_)&&t(C)&&t(A)?a({r:Number(_),g:Number(C),b:Number(A),a:Number(O)}):null},"rgb"],[function(E){var _=E.h,C=E.s,A=E.l,P=E.a,O=P===void 0?1:P;if(!t(_)||!t(C)||!t(A))return null;var z=g({h:Number(_),s:Number(C),l:Number(A),a:Number(O)});return f(z)},"hsl"],[function(E){var _=E.h,C=E.s,A=E.v,P=E.a,O=P===void 0?1:P;if(!t(_)||!t(C)||!t(A))return null;var z=(function(I){return{h:u(I.h),s:e(I.s,0,100),v:e(I.v,0,100),a:e(I.a)}})({h:Number(_),s:Number(C),v:Number(A),a:Number(O)});return b(z)},"hsv"]]},N=function(E,_){for(var C=0;C<_.length;C++){var A=_[C][0](E);if(A)return[A,_[C][1]]}return[null,void 0]},x=function(E){return typeof E=="string"?N(E.trim(),y.string):typeof E=="object"&&E!==null?N(E,y.object):[null,void 0]},M=function(E,_){var C=c(E);return{h:C.h,s:e(C.s+100*_,0,100),l:C.l,a:C.a}},H=function(E){return(299*E.r+587*E.g+114*E.b)/1e3/255},$=function(E,_){var C=c(E);return{h:C.h,s:C.s,l:e(C.l+100*_,0,100),a:C.a}},j=(function(){function E(_){this.parsed=x(_)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return E.prototype.isValid=function(){return this.parsed!==null},E.prototype.brightness=function(){return n(H(this.rgba),2)},E.prototype.isDark=function(){return H(this.rgba)<.5},E.prototype.isLight=function(){return H(this.rgba)>=.5},E.prototype.toHex=function(){return _=o(this.rgba),C=_.r,A=_.g,P=_.b,z=(O=_.a)<1?s(n(255*O)):"","#"+s(C)+s(A)+s(P)+z;var _,C,A,P,O,z},E.prototype.toRgb=function(){return o(this.rgba)},E.prototype.toRgbString=function(){return _=o(this.rgba),C=_.r,A=_.g,P=_.b,(O=_.a)<1?"rgba("+C+", "+A+", "+P+", "+O+")":"rgb("+C+", "+A+", "+P+")";var _,C,A,P,O},E.prototype.toHsl=function(){return d(c(this.rgba))},E.prototype.toHslString=function(){return _=d(c(this.rgba)),C=_.h,A=_.s,P=_.l,(O=_.a)<1?"hsla("+C+", "+A+"%, "+P+"%, "+O+")":"hsl("+C+", "+A+"%, "+P+"%)";var _,C,A,P,O},E.prototype.toHsv=function(){return _=h(this.rgba),{h:n(_.h),s:n(_.s),v:n(_.v),a:n(_.a,3)};var _},E.prototype.invert=function(){return w({r:255-(_=this.rgba).r,g:255-_.g,b:255-_.b,a:_.a});var _},E.prototype.saturate=function(_){return _===void 0&&(_=.1),w(M(this.rgba,_))},E.prototype.desaturate=function(_){return _===void 0&&(_=.1),w(M(this.rgba,-_))},E.prototype.grayscale=function(){return w(M(this.rgba,-1))},E.prototype.lighten=function(_){return _===void 0&&(_=.1),w($(this.rgba,_))},E.prototype.darken=function(_){return _===void 0&&(_=.1),w($(this.rgba,-_))},E.prototype.rotate=function(_){return _===void 0&&(_=15),this.hue(this.hue()+_)},E.prototype.alpha=function(_){return typeof _=="number"?w({r:(C=this.rgba).r,g:C.g,b:C.b,a:_}):n(this.rgba.a,3);var C},E.prototype.hue=function(_){var C=c(this.rgba);return typeof _=="number"?w({h:_,s:C.s,l:C.l,a:C.a}):n(C.h)},E.prototype.isEqual=function(_){return this.toHex()===w(_).toHex()},E})(),w=function(E){return E instanceof j?E:new j(E)},S=[],k=function(E){E.forEach(function(_){S.indexOf(_)<0&&(_(j,y),S.push(_))})};function namesPlugin(E,_){var C={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},A={};for(var P in C)A[C[P]]=P;var O={};E.prototype.toName=function(z){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var I,B,U=A[this.toHex()];if(U)return U;if(z?.closest){var G=this.toRgb(),F=1/0,q="black";if(!O.length)for(var Y in C)O[Y]=new E(C[Y]).toRgb();for(var W in C){var Q=(I=G,B=O[W],Math.pow(I.r-B.r,2)+Math.pow(I.g-B.g,2)+Math.pow(I.b-B.b,2));Q<F&&(F=Q,q=W)}return q}},_.string.push([function(z){var I=z.toLowerCase(),B=I==="transparent"?"#0000":C[I];return B?new E(B).toRgb():null},"name"])}k([namesPlugin]);const _Color=class xi{constructor(_=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=_}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(_){return this.value=_,this}set value(_){if(_ instanceof xi)this._value=this._cloneSource(_._value),this._int=_._int,this._components.set(_._components);else{if(_===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,_))&&(this._value=this._cloneSource(_),this._normalize(this._value))}}get value(){return this._value}_cloneSource(_){return typeof _=="string"||typeof _=="number"||_ instanceof Number||_===null?_:Array.isArray(_)||ArrayBuffer.isView(_)?_.slice(0):typeof _=="object"&&_!==null?{..._}:_}_isSourceEqual(_,C){const A=typeof _;if(A!==typeof C)return!1;if(A==="number"||A==="string"||_ instanceof Number)return _===C;if(Array.isArray(_)&&Array.isArray(C)||ArrayBuffer.isView(_)&&ArrayBuffer.isView(C))return _.length!==C.length?!1:_.every((O,z)=>O===C[z]);if(_!==null&&C!==null){const O=Object.keys(_),z=Object.keys(C);return O.length!==z.length?!1:O.every(I=>_[I]===C[I])}return _===C}toRgba(){const[_,C,A,P]=this._components;return{r:_,g:C,b:A,a:P}}toRgb(){const[_,C,A]=this._components;return{r:_,g:C,b:A}}toRgbaString(){const[_,C,A]=this.toUint8RgbArray();return`rgba(${_},${C},${A},${this.alpha})`}toUint8RgbArray(_){const[C,A,P]=this._components;return this._arrayRgb||(this._arrayRgb=[]),_||(_=this._arrayRgb),_[0]=Math.round(C*255),_[1]=Math.round(A*255),_[2]=Math.round(P*255),_}toArray(_){this._arrayRgba||(this._arrayRgba=[]),_||(_=this._arrayRgba);const[C,A,P,O]=this._components;return _[0]=C,_[1]=A,_[2]=P,_[3]=O,_}toRgbArray(_){this._arrayRgb||(this._arrayRgb=[]),_||(_=this._arrayRgb);const[C,A,P]=this._components;return _[0]=C,_[1]=A,_[2]=P,_}toNumber(){return this._int}toBgrNumber(){const[_,C,A]=this.toUint8RgbArray();return(A<<16)+(C<<8)+_}toLittleEndianNumber(){const _=this._int;return(_>>16)+(_&65280)+((_&255)<<16)}multiply(_){const[C,A,P,O]=xi._temp.setValue(_)._components;return this._components[0]*=C,this._components[1]*=A,this._components[2]*=P,this._components[3]*=O,this._refreshInt(),this._value=null,this}premultiply(_,C=!0){return C&&(this._components[0]*=_,this._components[1]*=_,this._components[2]*=_),this._components[3]=_,this._refreshInt(),this._value=null,this}toPremultiplied(_,C=!0){if(_===1)return(255<<24)+this._int;if(_===0)return C?0:this._int;let A=this._int>>16&255,P=this._int>>8&255,O=this._int&255;return C&&(A=A*_+.5|0,P=P*_+.5|0,O=O*_+.5|0),(_*255<<24)+(A<<16)+(P<<8)+O}toHex(){const _=this._int.toString(16);return`#${"000000".substring(0,6-_.length)+_}`}toHexa(){const C=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-C.length)+C}setAlpha(_){return this._components[3]=this._clamp(_),this}_normalize(_){let C,A,P,O;if((typeof _=="number"||_ instanceof Number)&&_>=0&&_<=16777215){const z=_;C=(z>>16&255)/255,A=(z>>8&255)/255,P=(z&255)/255,O=1}else if((Array.isArray(_)||_ instanceof Float32Array)&&_.length>=3&&_.length<=4)_=this._clamp(_),[C,A,P,O=1]=_;else if((_ instanceof Uint8Array||_ instanceof Uint8ClampedArray)&&_.length>=3&&_.length<=4)_=this._clamp(_,0,255),[C,A,P,O=255]=_,C/=255,A/=255,P/=255,O/=255;else if(typeof _=="string"||typeof _=="object"){if(typeof _=="string"){const I=xi.HEX_PATTERN.exec(_);I&&(_=`#${I[2]}`)}const z=w(_);z.isValid()&&({r:C,g:A,b:P,a:O}=z.rgba,C/=255,A/=255,P/=255)}if(C!==void 0)this._components[0]=C,this._components[1]=A,this._components[2]=P,this._components[3]=O,this._refreshInt();else throw new Error(`Unable to convert color ${_}`)}_refreshInt(){this._clamp(this._components);const[_,C,A]=this._components;this._int=(_*255<<16)+(C*255<<8)+(A*255|0)}_clamp(_,C=0,A=1){return typeof _=="number"?Math.min(Math.max(_,C),A):(_.forEach((P,O)=>{_[O]=Math.min(Math.max(P,C),A)}),_)}static isColorLike(_){return typeof _=="number"||typeof _=="string"||_ instanceof Number||_ instanceof xi||Array.isArray(_)||_ instanceof Uint8Array||_ instanceof Uint8ClampedArray||_ instanceof Float32Array||_.r!==void 0&&_.g!==void 0&&_.b!==void 0||_.r!==void 0&&_.g!==void 0&&_.b!==void 0&&_.a!==void 0||_.h!==void 0&&_.s!==void 0&&_.l!==void 0||_.h!==void 0&&_.s!==void 0&&_.l!==void 0&&_.a!==void 0||_.h!==void 0&&_.s!==void 0&&_.v!==void 0||_.h!==void 0&&_.s!==void 0&&_.v!==void 0&&_.a!==void 0}};_Color.shared=new _Color;_Color._temp=new _Color;_Color.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Color=_Color;const cullingMixin={cullArea:null,cullable:!1,cullableChildren:!0};let warnCount=0;const maxWarnings=500;function warn(...E){warnCount!==maxWarnings&&(warnCount++,warnCount===maxWarnings?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...E))}const GlobalResourceRegistry={_registeredResources:new Set,register(E){this._registeredResources.add(E)},unregister(E){this._registeredResources.delete(E)},release(){this._registeredResources.forEach(E=>E.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(E){return this._registeredResources.has(E)},reset(){this._registeredResources.clear()}};class Pool{constructor(_,C){this._pool=[],this._count=0,this._index=0,this._classType=_,C&&this.prepopulate(C)}prepopulate(_){for(let C=0;C<_;C++)this._pool[this._index++]=new this._classType;this._count+=_}get(_){let C;return this._index>0?C=this._pool[--this._index]:(C=new this._classType,this._count++),C.init?.(_),C}return(_){_.reset?.(),this._pool[this._index++]=_}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let _=0;_<this._index;_++)this._pool[_].destroy();this._pool.length=0,this._count=0,this._index=0}}class PoolGroupClass{constructor(){this._poolsByClass=new Map}prepopulate(_,C){this.getPool(_).prepopulate(C)}get(_,C){return this.getPool(_).get(C)}return(_){this.getPool(_.constructor).return(_)}getPool(_){return this._poolsByClass.has(_)||this._poolsByClass.set(_,new Pool(_)),this._poolsByClass.get(_)}stats(){const _={};return this._poolsByClass.forEach(C=>{const A=_[C._classType.name]?C._classType.name+C._classType.ID:C._classType.name;_[A]={free:C.totalFree,used:C.totalUsed,size:C.totalSize}}),_}clear(){this._poolsByClass.forEach(_=>_.clear()),this._poolsByClass.clear()}}const BigPool=new PoolGroupClass;GlobalResourceRegistry.register(BigPool);const cacheAsTextureMixin={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(E){typeof E=="boolean"&&E===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(E===!0?{}:E))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(E){deprecation("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(E)}};function removeItems(E,_,C){const A=E.length;let P;if(_>=A||C===0)return;C=_+C>A?A-_:C;const O=A-C;for(P=_;P<O;++P)E[P]=E[P+C];E.length=O}const childrenHelperMixin={allowChildren:!0,removeChildren(E=0,_){const C=_??this.children.length,A=C-E,P=[];if(A>0&&A<=C){for(let z=C-1;z>=E;z--){const I=this.children[z];I&&(P.push(I),I.parent=null)}removeItems(this.children,E,C);const O=this.renderGroup||this.parentRenderGroup;O&&O.removeChildren(P);for(let z=0;z<P.length;++z){const I=P[z];I.parentRenderLayer?.detach(I),this.emit("childRemoved",I,this,z),P[z].emit("removed",this)}return P.length>0&&this._didViewChangeTick++,P}else if(A===0&&this.children.length===0)return P;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(E){const _=this.getChildAt(E);return this.removeChild(_)},getChildAt(E){if(E<0||E>=this.children.length)throw new Error(`getChildAt: Index (${E}) does not exist.`);return this.children[E]},setChildIndex(E,_){if(_<0||_>=this.children.length)throw new Error(`The index ${_} supplied is out of bounds ${this.children.length}`);this.getChildIndex(E),this.addChildAt(E,_)},getChildIndex(E){const _=this.children.indexOf(E);if(_===-1)throw new Error("The supplied Container must be a child of the caller");return _},addChildAt(E,_){this.allowChildren||deprecation(v8_0_0,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:C}=this;if(_<0||_>C.length)throw new Error(`${E}addChildAt: The index ${_} supplied is out of bounds ${C.length}`);if(E.parent){const P=E.parent.children.indexOf(E);if(E.parent===this&&P===_)return E;P!==-1&&E.parent.children.splice(P,1)}_===C.length?C.push(E):C.splice(_,0,E),E.parent=this,E.didChange=!0,E._updateFlags=15;const A=this.renderGroup||this.parentRenderGroup;return A&&A.addChild(E),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",E,this,_),E.emit("added",this),E},swapChildren(E,_){if(E===_)return;const C=this.getChildIndex(E),A=this.getChildIndex(_);this.children[C]=_,this.children[A]=E;const P=this.renderGroup||this.parentRenderGroup;P&&(P.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...E){return E.length===1?this.reparentChildAt(E[0],this.children.length):(E.forEach(_=>this.reparentChildAt(_,this.children.length)),E[0])},reparentChildAt(E,_){if(E.parent===this)return this.setChildIndex(E,_),E;const C=E.worldTransform.clone();E.removeFromParent(),this.addChildAt(E,_);const A=this.worldTransform.clone();return A.invert(),C.prepend(A),E.setFromMatrix(C),E},replaceChild(E,_){E.updateLocalTransform(),this.addChildAt(_,this.getChildIndex(E)),_.setFromMatrix(E.localTransform),_.updateLocalTransform(),this.removeChild(E)}},collectRenderablesMixin={collectRenderables(E,_,C){this.parentRenderLayer&&this.parentRenderLayer!==C||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(E,_,C):this.renderGroup?_.renderPipes.renderGroup.addRenderGroup(this.renderGroup,E):this.collectRenderablesWithEffects(E,_,C))},collectRenderablesSimple(E,_,C){const A=this.children,P=A.length;for(let O=0;O<P;O++)A[O].collectRenderables(E,_,C)},collectRenderablesWithEffects(E,_,C){const{renderPipes:A}=_;for(let P=0;P<this.effects.length;P++){const O=this.effects[P];A[O.pipe].push(O,this,E)}this.collectRenderablesSimple(E,_,C);for(let P=this.effects.length-1;P>=0;P--){const O=this.effects[P];A[O.pipe].pop(O,this,E)}}};class FilterEffect{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let _=0;_<this.filters.length;_++)this.filters[_].destroy();this.filters=null,this.filterArea=null}}class MaskEffectManagerClass{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(_=>{this.add({test:_.test,maskClass:_})}))}add(_){this._tests.push(_)}getMaskEffect(_){this._initialized||this.init();for(let C=0;C<this._tests.length;C++){const A=this._tests[C];if(A.test(_))return BigPool.get(A.maskClass,_)}return _}returnMaskEffect(_){BigPool.return(_)}}const MaskEffectManager=new MaskEffectManagerClass;extensions.handleByList(ExtensionType.MaskEffect,MaskEffectManager._effectClasses);const effectsMixin={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const E=this.renderGroup||this.parentRenderGroup;E&&(E.structureDidChange=!0)},addEffect(E){this.effects.indexOf(E)===-1&&(this.effects.push(E),this.effects.sort((C,A)=>C.priority-A.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(E){const _=this.effects.indexOf(E);_!==-1&&(this.effects.splice(_,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(E){const _=this._maskEffect;_?.mask!==E&&(_&&(this.removeEffect(_),MaskEffectManager.returnMaskEffect(_),this._maskEffect=null),E!=null&&(this._maskEffect=MaskEffectManager.getMaskEffect(E),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(E){this._maskOptions={...this._maskOptions,...E},E.mask&&(this.mask=E.mask),this._markStructureAsChanged()},set filters(E){!Array.isArray(E)&&E&&(E=[E]);const _=this._filterEffect||(this._filterEffect=new FilterEffect);E=E;const C=E?.length>0,A=_.filters?.length>0,P=C!==A;E=Array.isArray(E)?E.slice(0):E,_.filters=Object.freeze(E),P&&(C?this.addEffect(_):(this.removeEffect(_),_.filters=E??null))},get filters(){return this._filterEffect?.filters},set filterArea(E){this._filterEffect||(this._filterEffect=new FilterEffect),this._filterEffect.filterArea=E},get filterArea(){return this._filterEffect?.filterArea}},findMixin={label:null,get name(){return deprecation(v8_0_0,"Container.name property has been removed, use Container.label instead"),this.label},set name(E){deprecation(v8_0_0,"Container.name property has been removed, use Container.label instead"),this.label=E},getChildByName(E,_=!1){return this.getChildByLabel(E,_)},getChildByLabel(E,_=!1){const C=this.children;for(let A=0;A<C.length;A++){const P=C[A];if(P.label===E||E instanceof RegExp&&E.test(P.label))return P}if(_)for(let A=0;A<C.length;A++){const O=C[A].getChildByLabel(E,!0);if(O)return O}return null},getChildrenByLabel(E,_=!1,C=[]){const A=this.children;for(let P=0;P<A.length;P++){const O=A[P];(O.label===E||E instanceof RegExp&&E.test(O.label))&&C.push(O)}if(_)for(let P=0;P<A.length;P++)A[P].getChildrenByLabel(E,!0,C);return C}},matrixPool=BigPool.getPool(Matrix),boundsPool=BigPool.getPool(Bounds),tempMatrix$2=new Matrix,getFastGlobalBoundsMixin={getFastGlobalBounds(E,_){_||(_=new Bounds),_.clear(),this._getGlobalBoundsRecursive(!!E,_,this.parentRenderLayer),_.isValid||_.set(0,0,0,0);const C=this.renderGroup||this.parentRenderGroup;return _.applyMatrix(C.worldTransform),_},_getGlobalBoundsRecursive(E,_,C){let A=_;if(E&&this.parentRenderLayer&&this.parentRenderLayer!==C||this.localDisplayStatus!==7||!this.measurable)return;const P=!!this.effects.length;if((this.renderGroup||P)&&(A=boundsPool.get().clear()),this.boundsArea)_.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const z=this.bounds;A.addFrame(z.minX,z.minY,z.maxX,z.maxY,this.groupTransform)}const O=this.children;for(let z=0;z<O.length;z++)O[z]._getGlobalBoundsRecursive(E,A,C)}if(P){let O=!1;const z=this.renderGroup||this.parentRenderGroup;for(let I=0;I<this.effects.length;I++)this.effects[I].addBounds&&(O||(O=!0,A.applyMatrix(z.worldTransform)),this.effects[I].addBounds(A,!0));O&&A.applyMatrix(z.worldTransform.copyTo(tempMatrix$2).invert()),_.addBounds(A),boundsPool.return(A)}else this.renderGroup&&(_.addBounds(A,this.relativeGroupTransform),boundsPool.return(A))}};function getGlobalBounds(E,_,C){C.clear();let A,P;return E.parent?_?A=E.parent.worldTransform:(P=matrixPool.get().identity(),A=updateTransformBackwards(E,P)):A=Matrix.IDENTITY,_getGlobalBounds(E,C,A,_),P&&matrixPool.return(P),C.isValid||C.set(0,0,0,0),C}function _getGlobalBounds(E,_,C,A){if(!E.visible||!E.measurable)return;let P;A?P=E.worldTransform:(E.updateLocalTransform(),P=matrixPool.get(),P.appendFrom(E.localTransform,C));const O=_,z=!!E.effects.length;if(z&&(_=boundsPool.get().clear()),E.boundsArea)_.addRect(E.boundsArea,P);else{const I=E.bounds;I&&!I.isEmpty()&&(_.matrix=P,_.addBounds(I));for(let B=0;B<E.children.length;B++)_getGlobalBounds(E.children[B],_,P,A)}if(z){for(let I=0;I<E.effects.length;I++)E.effects[I].addBounds?.(_);O.addBounds(_,Matrix.IDENTITY),boundsPool.return(_)}A||matrixPool.return(P)}function updateTransformBackwards(E,_){const C=E.parent;return C&&(updateTransformBackwards(C,_),C.updateLocalTransform(),_.append(C.localTransform)),_}function multiplyHexColors(E,_){if(E===16777215||!_)return _;if(_===16777215||!E)return E;const C=E>>16&255,A=E>>8&255,P=E&255,O=_>>16&255,z=_>>8&255,I=_&255,B=C*O/255|0,U=A*z/255|0,G=P*I/255|0;return(B<<16)+(U<<8)+G}const WHITE_BGR=16777215;function multiplyColors(E,_){return E===WHITE_BGR?_:_===WHITE_BGR?E:multiplyHexColors(E,_)}function bgr2rgb(E){return((E&255)<<16)+(E&65280)+(E>>16&255)}const getGlobalMixin={getGlobalAlpha(E){if(E)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let _=this.alpha,C=this.parent;for(;C;)_*=C.alpha,C=C.parent;return _},getGlobalTransform(E=new Matrix,_){if(_)return E.copyFrom(this.worldTransform);this.updateLocalTransform();const C=updateTransformBackwards(this,matrixPool.get().identity());return E.appendFrom(this.localTransform,C),matrixPool.return(C),E},getGlobalTint(E){if(E)return this.renderGroup?bgr2rgb(this.renderGroup.worldColor):this.parentRenderGroup?bgr2rgb(multiplyColors(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let _=this.localColor,C=this.parent;for(;C;)_=multiplyColors(_,C.localColor),C=C.parent;return bgr2rgb(_)}};function getLocalBounds(E,_,C){return _.clear(),C||(C=Matrix.IDENTITY),_getLocalBounds(E,_,C,E,!0),_.isValid||_.set(0,0,0,0),_}function _getLocalBounds(E,_,C,A,P){let O;if(P)O=matrixPool.get(),O=C.copyTo(O);else{if(!E.visible||!E.measurable)return;E.updateLocalTransform();const B=E.localTransform;O=matrixPool.get(),O.appendFrom(B,C)}const z=_,I=!!E.effects.length;if(I&&(_=boundsPool.get().clear()),E.boundsArea)_.addRect(E.boundsArea,O);else{E.renderPipeId&&(_.matrix=O,_.addBounds(E.bounds));const B=E.children;for(let U=0;U<B.length;U++)_getLocalBounds(B[U],_,O,A,!1)}if(I){for(let B=0;B<E.effects.length;B++)E.effects[B].addLocalBounds?.(_,A);z.addBounds(_,Matrix.IDENTITY),boundsPool.return(_)}matrixPool.return(O)}function checkChildrenDidChange(E,_){const C=E.children;for(let A=0;A<C.length;A++){const P=C[A],O=P.uid,z=(P._didViewChangeTick&65535)<<16|P._didContainerChangeTick&65535,I=_.index;(_.data[I]!==O||_.data[I+1]!==z)&&(_.data[_.index]=O,_.data[_.index+1]=z,_.didChange=!0),_.index=I+2,P.children.length&&checkChildrenDidChange(P,_)}return _.didChange}const tempMatrix$1=new Matrix,measureMixin={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(E,_){const C=Math.sign(this.scale.x)||1;_!==0?this.scale.x=E/_*C:this.scale.x=C},_setHeight(E,_){const C=Math.sign(this.scale.y)||1;_!==0?this.scale.y=E/_*C:this.scale.y=C},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Bounds});const E=this._localBoundsCacheData;return E.index=1,E.didChange=!1,E.data[0]!==this._didViewChangeTick&&(E.didChange=!0,E.data[0]=this._didViewChangeTick),checkChildrenDidChange(this,E),E.didChange&&getLocalBounds(this,E.localBounds,tempMatrix$1),E.localBounds},getBounds(E,_){return getGlobalBounds(this,E,_||new Bounds)}},onRenderMixin={_onRender:null,set onRender(E){const _=this.renderGroup||this.parentRenderGroup;if(!E){this._onRender&&_?.removeOnRender(this),this._onRender=null;return}this._onRender||_?.addOnRender(this),this._onRender=E},get onRender(){return this._onRender}},sortMixin={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(E){this._zIndex!==E&&(this._zIndex=E,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(sortChildren))}};function sortChildren(E,_){return E._zIndex-_._zIndex}const toLocalGlobalMixin={getGlobalPosition(E=new Point,_=!1){return this.parent?this.parent.toGlobal(this._position,E,_):(E.x=this._position.x,E.y=this._position.y),E},toGlobal(E,_,C=!1){const A=this.getGlobalTransform(matrixPool.get(),C);return _=A.apply(E,_),matrixPool.return(A),_},toLocal(E,_,C,A){_&&(E=_.toGlobal(E,C,A));const P=this.getGlobalTransform(matrixPool.get(),A);return C=P.applyInverse(E,C),matrixPool.return(P),C}};class InstructionSet{constructor(){this.uid=uid("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(_){this.instructions[this.instructionSize++]=_}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let count$1=0;class TexturePoolClass{constructor(_){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=_||{},this.enableFullScreen=!1,this.textureStyle=new TextureStyle(this.textureOptions)}createTexture(_,C,A){const P=new TextureSource({...this.textureOptions,width:_,height:C,resolution:1,antialias:A,autoGarbageCollect:!1});return new Texture({source:P,label:`texturePool_${count$1++}`})}getOptimalTexture(_,C,A=1,P){let O=Math.ceil(_*A-1e-6),z=Math.ceil(C*A-1e-6);O=nextPow2(O),z=nextPow2(z);const I=(O<<17)+(z<<1)+(P?1:0);this._texturePool[I]||(this._texturePool[I]=[]);let B=this._texturePool[I].pop();return B||(B=this.createTexture(O,z,P)),B.source._resolution=A,B.source.width=O/A,B.source.height=z/A,B.source.pixelWidth=O,B.source.pixelHeight=z,B.frame.x=0,B.frame.y=0,B.frame.width=_,B.frame.height=C,B.updateUvs(),this._poolKeyHash[B.uid]=I,B}getSameSizeTexture(_,C=!1){const A=_.source;return this.getOptimalTexture(_.width,_.height,A._resolution,C)}returnTexture(_,C=!1){const A=this._poolKeyHash[_.uid];C&&(_.source.style=this.textureStyle),this._texturePool[A].push(_)}clear(_){if(_=_!==!1,_)for(const C in this._texturePool){const A=this._texturePool[C];if(A)for(let P=0;P<A.length;P++)A[P].destroy(!0)}this._texturePool={}}}const TexturePool=new TexturePoolClass;GlobalResourceRegistry.register(TexturePool);class RenderGroup{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Matrix,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new InstructionSet,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(_){this.root=_,_._onRender&&this.addOnRender(_),_.didChange=!0;const C=_.children;for(let A=0;A<C.length;A++){const P=C[A];P._updateFlags=15,this.addChild(P)}}enableCacheAsTexture(_={}){this.textureOptions=_,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(TexturePool.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const _=this._parentCacheAsTextureRenderGroup;_&&!_.textureNeedsUpdate&&_.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const _ in this.childrenToUpdate){const C=this.childrenToUpdate[_];C.list.fill(null),C.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(_){_.renderGroupParent&&_.renderGroupParent._removeRenderGroupChild(_),_.renderGroupParent=this,this.renderGroupChildren.push(_)}_removeRenderGroupChild(_){const C=this.renderGroupChildren.indexOf(_);C>-1&&this.renderGroupChildren.splice(C,1),_.renderGroupParent=null}addChild(_){if(this.structureDidChange=!0,_.parentRenderGroup=this,_.updateTick=-1,_.parent===this.root?_.relativeRenderGroupDepth=1:_.relativeRenderGroupDepth=_.parent.relativeRenderGroupDepth+1,_.didChange=!0,this.onChildUpdate(_),_.renderGroup){this.addRenderGroupChild(_.renderGroup);return}_._onRender&&this.addOnRender(_);const C=_.children;for(let A=0;A<C.length;A++)this.addChild(C[A])}removeChild(_){if(this.structureDidChange=!0,_._onRender&&(_.renderGroup||this.removeOnRender(_)),_.parentRenderGroup=null,_.renderGroup){this._removeRenderGroupChild(_.renderGroup);return}const C=_.children;for(let A=0;A<C.length;A++)this.removeChild(C[A])}removeChildren(_){for(let C=0;C<_.length;C++)this.removeChild(_[C])}onChildUpdate(_){let C=this.childrenToUpdate[_.relativeRenderGroupDepth];C||(C=this.childrenToUpdate[_.relativeRenderGroupDepth]={index:0,list:[]}),C.list[C.index++]=_}updateRenderable(_){_.globalDisplayStatus<7||(this.instructionSet.renderPipes[_.renderPipeId].updateRenderable(_),_.didViewUpdate=!1)}onChildViewUpdate(_){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=_}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(_){this._onRenderContainers.push(_)}removeOnRender(_){this._onRenderContainers.splice(this._onRenderContainers.indexOf(_),1)}runOnRender(_){for(let C=0;C<this._onRenderContainers.length;C++)this._onRenderContainers[C]._onRender(_)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(_=[]){const C=this.root.children;for(let A=0;A<C.length;A++)this._getChildren(C[A],_);return _}_getChildren(_,C=[]){if(C.push(_),_.renderGroup)return C;const A=_.children;for(let P=0;P<A.length;P++)this._getChildren(A[P],C);return C}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Matrix),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Matrix),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const _=this._parentCacheAsTextureRenderGroup;return _?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Matrix),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(_.inverseWorldTransform).translate(-_._textureBounds.x,-_._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function assignWithIgnore(E,_,C={}){for(const A in _)!C[A]&&_[A]!==void 0&&(E[A]=_[A])}const defaultSkew=new ObservablePoint(null),defaultPivot=new ObservablePoint(null),defaultScale=new ObservablePoint(null,1,1),defaultOrigin=new ObservablePoint(null),UPDATE_COLOR=1,UPDATE_BLEND=2,UPDATE_VISIBLE=4;class Container extends EventEmitter{constructor(_={}){super(),this.uid=uid("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new Matrix,this.relativeGroupTransform=new Matrix,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new ObservablePoint(this,0,0),this._scale=defaultScale,this._pivot=defaultPivot,this._origin=defaultOrigin,this._skew=defaultSkew,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],assignWithIgnore(this,_,{children:!0,parent:!0,effects:!0}),_.children?.forEach(C=>this.addChild(C)),_.parent?.addChild(this)}static mixin(_){deprecation("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),extensions.mixin(Container,_)}set _didChangeId(_){this._didViewChangeTick=_>>12&4095,this._didContainerChangeTick=_&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(..._){if(this.allowChildren||deprecation(v8_0_0,"addChild: Only Containers will be allowed to add children in v8.0.0"),_.length>1){for(let P=0;P<_.length;P++)this.addChild(_[P]);return _[0]}const C=_[0],A=this.renderGroup||this.parentRenderGroup;return C.parent===this?(this.children.splice(this.children.indexOf(C),1),this.children.push(C),A&&(A.structureDidChange=!0),C):(C.parent&&C.parent.removeChild(C),this.children.push(C),this.sortableChildren&&(this.sortDirty=!0),C.parent=this,C.didChange=!0,C._updateFlags=15,A&&A.addChild(C),this.emit("childAdded",C,this,this.children.length-1),C.emit("added",this),this._didViewChangeTick++,C._zIndex!==0&&C.depthOfChildModified(),C)}removeChild(..._){if(_.length>1){for(let P=0;P<_.length;P++)this.removeChild(_[P]);return _[0]}const C=_[0],A=this.children.indexOf(C);return A>-1&&(this._didViewChangeTick++,this.children.splice(A,1),this.renderGroup?this.renderGroup.removeChild(C):this.parentRenderGroup&&this.parentRenderGroup.removeChild(C),C.parentRenderLayer&&C.parentRenderLayer.detach(C),C.parent=null,this.emit("childRemoved",C,this,A),C.emit("removed",this)),C}_onUpdate(_){_&&_===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(_){!!this.renderGroup!==_&&(_?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const _=this.parentRenderGroup;_?.removeChild(this),this.renderGroup=BigPool.get(RenderGroup,this),this.groupTransform=Matrix.IDENTITY,_?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const _=this.parentRenderGroup;_?.removeChild(this),BigPool.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,_?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Matrix),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(_){this._position.x=_}get y(){return this._position.y}set y(_){this._position.y=_}get position(){return this._position}set position(_){this._position.copyFrom(_)}get rotation(){return this._rotation}set rotation(_){this._rotation!==_&&(this._rotation=_,this._onUpdate(this._skew))}get angle(){return this.rotation*RAD_TO_DEG}set angle(_){this.rotation=_*DEG_TO_RAD}get pivot(){return this._pivot===defaultPivot&&(this._pivot=new ObservablePoint(this,0,0)),this._pivot}set pivot(_){this._pivot===defaultPivot&&(this._pivot=new ObservablePoint(this,0,0),this._origin!==defaultOrigin&&warn("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof _=="number"?this._pivot.set(_):this._pivot.copyFrom(_)}get skew(){return this._skew===defaultSkew&&(this._skew=new ObservablePoint(this,0,0)),this._skew}set skew(_){this._skew===defaultSkew&&(this._skew=new ObservablePoint(this,0,0)),this._skew.copyFrom(_)}get scale(){return this._scale===defaultScale&&(this._scale=new ObservablePoint(this,1,1)),this._scale}set scale(_){this._scale===defaultScale&&(this._scale=new ObservablePoint(this,0,0)),typeof _=="string"&&(_=parseFloat(_)),typeof _=="number"?this._scale.set(_):this._scale.copyFrom(_)}get origin(){return this._origin===defaultOrigin&&(this._origin=new ObservablePoint(this,0,0)),this._origin}set origin(_){this._origin===defaultOrigin&&(this._origin=new ObservablePoint(this,0,0),this._pivot!==defaultPivot&&warn("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof _=="number"?this._origin.set(_):this._origin.copyFrom(_)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(_){const C=this.getLocalBounds().width;this._setWidth(_,C)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(_){const C=this.getLocalBounds().height;this._setHeight(_,C)}getSize(_){_||(_={});const C=this.getLocalBounds();return _.width=Math.abs(this.scale.x*C.width),_.height=Math.abs(this.scale.y*C.height),_}setSize(_,C){const A=this.getLocalBounds();typeof _=="object"?(C=_.height??_.width,_=_.width):C??(C=_),_!==void 0&&this._setWidth(_,A.width),C!==void 0&&this._setHeight(C,A.height)}_updateSkew(){const _=this._rotation,C=this._skew;this._cx=Math.cos(_+C._y),this._sx=Math.sin(_+C._y),this._cy=-Math.sin(_-C._x),this._sy=Math.cos(_-C._x)}updateTransform(_){return this.position.set(typeof _.x=="number"?_.x:this.position.x,typeof _.y=="number"?_.y:this.position.y),this.scale.set(typeof _.scaleX=="number"?_.scaleX||1:this.scale.x,typeof _.scaleY=="number"?_.scaleY||1:this.scale.y),this.rotation=typeof _.rotation=="number"?_.rotation:this.rotation,this.skew.set(typeof _.skewX=="number"?_.skewX:this.skew.x,typeof _.skewY=="number"?_.skewY:this.skew.y),this.pivot.set(typeof _.pivotX=="number"?_.pivotX:this.pivot.x,typeof _.pivotY=="number"?_.pivotY:this.pivot.y),this.origin.set(typeof _.originX=="number"?_.originX:this.origin.x,typeof _.originY=="number"?_.originY:this.origin.y),this}setFromMatrix(_){_.decompose(this)}updateLocalTransform(){const _=this._didContainerChangeTick;if(this._didLocalTransformChangeId===_)return;this._didLocalTransformChangeId=_;const C=this.localTransform,A=this._scale,P=this._pivot,O=this._origin,z=this._position,I=A._x,B=A._y,U=P._x,G=P._y,F=-O._x,q=-O._y;C.a=this._cx*I,C.b=this._sx*I,C.c=this._cy*B,C.d=this._sy*B,C.tx=z._x-(U*C.a+G*C.c)+(F*C.a+q*C.c)-F,C.ty=z._y-(U*C.b+G*C.d)+(F*C.b+q*C.d)-q}set alpha(_){_!==this.localAlpha&&(this.localAlpha=_,this._updateFlags|=UPDATE_COLOR,this._onUpdate())}get alpha(){return this.localAlpha}set tint(_){const A=Color.shared.setValue(_??16777215).toBgrNumber();A!==this.localColor&&(this.localColor=A,this._updateFlags|=UPDATE_COLOR,this._onUpdate())}get tint(){return bgr2rgb(this.localColor)}set blendMode(_){this.localBlendMode!==_&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_BLEND,this.localBlendMode=_,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(_){const C=_?2:0;(this.localDisplayStatus&2)!==C&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(_){const C=_?0:4;(this.localDisplayStatus&4)!==C&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(_){const C=_?1:0;(this.localDisplayStatus&1)!==C&&(this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(_=!1){if(this.destroyed)return;this.destroyed=!0;let C;if(this.children.length&&(C=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof _=="boolean"?_:_?.children)&&C)for(let P=0;P<C.length;++P)C[P].destroy(_);this.renderGroup?.destroy(),this.renderGroup=null}}extensions.mixin(Container,childrenHelperMixin,getFastGlobalBoundsMixin,toLocalGlobalMixin,onRenderMixin,measureMixin,effectsMixin,findMixin,sortMixin,cullingMixin,cacheAsTextureMixin,getGlobalMixin,collectRenderablesMixin);class ViewContainer extends Container{constructor(_){super(_),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new Bounds(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(_){this._roundPixels=_?1:0}containsPoint(_){const C=this.bounds,{x:A,y:P}=_;return A>=C.minX&&A<=C.maxX&&P>=C.minY&&P<=C.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const _=this.renderGroup||this.parentRenderGroup;_&&_.onChildViewUpdate(this)}destroy(_){super.destroy(_),this._bounds=null;for(const C in this._gpuData)this._gpuData[C].destroy?.();this._gpuData=null}collectRenderablesSimple(_,C,A){const{renderPipes:P}=C;P.blendMode.pushBlendMode(this,this.groupBlendMode,_),P[this.renderPipeId].addRenderable(this,_),this.didViewUpdate=!1;const z=this.children,I=z.length;for(let B=0;B<I;B++)z[B].collectRenderables(_,C,A);P.blendMode.popBlendMode(_)}}class Sprite extends ViewContainer{constructor(_=Texture.EMPTY){_ instanceof Texture&&(_={texture:_});const{texture:C=Texture.EMPTY,anchor:A,roundPixels:P,width:O,height:z,...I}=_;super({label:"Sprite",...I}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new ObservablePoint({_onUpdate:()=>{this.onViewUpdate()}}),A?this.anchor=A:C.defaultAnchor&&(this.anchor=C.defaultAnchor),this.texture=C,this.allowChildren=!1,this.roundPixels=P??!1,O!==void 0&&(this.width=O),z!==void 0&&(this.height=z)}static from(_,C=!1){return _ instanceof Texture?new Sprite(_):new Sprite(Texture.from(_,C))}set texture(_){_||(_=Texture.EMPTY);const C=this._texture;C!==_&&(C&&C.dynamic&&C.off("update",this.onViewUpdate,this),_.dynamic&&_.on("update",this.onViewUpdate,this),this._texture=_,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return updateQuadBounds(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return deprecation("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const _=this._anchor,C=this._texture,A=this._bounds,{width:P,height:O}=C.orig;A.minX=-_._x*P,A.maxX=A.minX+P,A.minY=-_._y*O,A.maxY=A.minY+O}destroy(_=!1){if(super.destroy(_),typeof _=="boolean"?_:_?.texture){const A=typeof _=="boolean"?_:_?.textureSource;this._texture.destroy(A)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(_){typeof _=="number"?this._anchor.set(_):this._anchor.copyFrom(_)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(_){this._setWidth(_,this._texture.orig.width),this._width=_}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(_){this._setHeight(_,this._texture.orig.height),this._height=_}getSize(_){return _||(_={}),_.width=Math.abs(this.scale.x)*this._texture.orig.width,_.height=Math.abs(this.scale.y)*this._texture.orig.height,_}setSize(_,C){typeof _=="object"?(C=_.height??_.width,_=_.width):C??(C=_),_!==void 0&&this._setWidth(_,this._texture.orig.width),C!==void 0&&this._setHeight(C,this._texture.orig.height)}}const tempBounds=new Bounds;function addMaskBounds(E,_,C){const A=tempBounds;E.measurable=!0,getGlobalBounds(E,C,A),_.addBoundsMask(A),E.measurable=!1}function addMaskLocalBounds(E,_,C){const A=boundsPool.get();E.measurable=!0;const P=matrixPool.get().identity(),O=getMatrixRelativeToParent(E,C,P);getLocalBounds(E,A,O),E.measurable=!1,_.addBoundsMask(A),matrixPool.return(P),boundsPool.return(A)}function getMatrixRelativeToParent(E,_,C){return E?(E!==_&&(getMatrixRelativeToParent(E.parent,_,C),E.updateLocalTransform(),C.append(E.localTransform)),C):(warn("Mask bounds, renderable is not inside the root container"),C)}class AlphaMask{constructor(_){this.priority=0,this.inverse=!1,this.pipe="alphaMask",_?.mask&&this.init(_.mask)}init(_){this.mask=_,this.renderMaskToTexture=!(_ instanceof Sprite),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(_,C){this.inverse||addMaskBounds(this.mask,_,C)}addLocalBounds(_,C){addMaskLocalBounds(this.mask,_,C)}containsPoint(_,C){const A=this.mask;return C(A,_)}destroy(){this.reset()}static test(_){return _ instanceof Sprite}}AlphaMask.extension=ExtensionType.MaskEffect;class ColorMask{constructor(_){this.priority=0,this.pipe="colorMask",_?.mask&&this.init(_.mask)}init(_){this.mask=_}destroy(){}static test(_){return typeof _=="number"}}ColorMask.extension=ExtensionType.MaskEffect;class StencilMask{constructor(_){this.priority=0,this.pipe="stencilMask",_?.mask&&this.init(_.mask)}init(_){this.mask=_,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(_,C){addMaskBounds(this.mask,_,C)}addLocalBounds(_,C){addMaskLocalBounds(this.mask,_,C)}containsPoint(_,C){const A=this.mask;return C(A,_)}destroy(){this.reset()}static test(_){return _ instanceof Container}}StencilMask.extension=ExtensionType.MaskEffect;const BrowserAdapter={createCanvas:(E,_)=>{const C=document.createElement("canvas");return C.width=E,C.height=_,C},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(E,_)=>fetch(E,_),parseXML:E=>new DOMParser().parseFromString(E,"text/xml")};let currentAdapter=BrowserAdapter;const DOMAdapter={get(){return currentAdapter},set(E){currentAdapter=E}};class CanvasSource extends TextureSource{constructor(_){_.resource||(_.resource=DOMAdapter.get().createCanvas()),_.width||(_.width=_.resource.width,_.autoDensity||(_.width/=_.resolution)),_.height||(_.height=_.resource.height,_.autoDensity||(_.height/=_.resolution)),super(_),this.uploadMethodId="image",this.autoDensity=_.autoDensity,this.resizeCanvas(),this.transparent=!!_.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(_=this.width,C=this.height,A=this._resolution){const P=super.resize(_,C,A);return P&&this.resizeCanvas(),P}static test(_){return globalThis.HTMLCanvasElement&&_ instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&_ instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}CanvasSource.extension=ExtensionType.TextureSource;class ImageSource extends TextureSource{constructor(_){super(_),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(_){return globalThis.HTMLImageElement&&_ instanceof HTMLImageElement||typeof ImageBitmap<"u"&&_ instanceof ImageBitmap||globalThis.VideoFrame&&_ instanceof VideoFrame}}ImageSource.extension=ExtensionType.TextureSource;var UPDATE_PRIORITY=(E=>(E[E.INTERACTION=50]="INTERACTION",E[E.HIGH=25]="HIGH",E[E.NORMAL=0]="NORMAL",E[E.LOW=-25]="LOW",E[E.UTILITY=-50]="UTILITY",E))(UPDATE_PRIORITY||{});class TickerListener{constructor(_,C=null,A=0,P=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=_,this._context=C,this.priority=A,this._once=P}match(_,C=null){return this._fn===_&&this._context===C}emit(_){this._fn&&(this._context?this._fn.call(this._context,_):this._fn(_));const C=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),C}connect(_){this.previous=_,_.next&&(_.next.previous=this),this.next=_.next,_.next=this}destroy(_=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const C=this.next;return this.next=_?null:C,this.previous=null,C}}const _Ticker=class nr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,1/0),this.deltaMS=1/nr.targetFPMS,this.elapsedMS=1/nr.targetFPMS,this._tick=_=>{this._requestId=null,this.started&&(this.update(_),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(_,C,A=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(_,C,A))}addOnce(_,C,A=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(_,C,A,!0))}_addListener(_){let C=this._head.next,A=this._head;if(!C)_.connect(A);else{for(;C;){if(_.priority>C.priority){_.connect(A);break}A=C,C=C.next}_.previous||_.connect(A)}return this._startIfPossible(),this}remove(_,C){let A=this._head.next;for(;A;)A.match(_,C)?A=A.destroy():A=A.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let _=0,C=this._head;for(;C=C.next;)_++;return _}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let _=this._head.next;for(;_;)_=_.destroy(!0);this._head.destroy(),this._head=null}}update(_=performance.now()){let C;if(_>this.lastTime){if(C=this.elapsedMS=_-this.lastTime,C>this._maxElapsedMS&&(C=this._maxElapsedMS),C*=this.speed,this._minElapsedMS){const O=_-this._lastFrame|0;if(O<this._minElapsedMS)return;this._lastFrame=_-O%this._minElapsedMS}this.deltaMS=C,this.deltaTime=this.deltaMS*nr.targetFPMS;const A=this._head;let P=A.next;for(;P;)P=P.emit(this);A.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=_}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(_){const C=Math.min(this.maxFPS,_),A=Math.min(Math.max(0,C)/1e3,nr.targetFPMS);this._maxElapsedMS=1/A}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(_){if(_===0)this._minElapsedMS=0;else{const C=Math.max(this.minFPS,_);this._minElapsedMS=1/(C/1e3)}}static get shared(){if(!nr._shared){const _=nr._shared=new nr;_.autoStart=!0,_._protected=!0}return nr._shared}static get system(){if(!nr._system){const _=nr._system=new nr;_.autoStart=!0,_._protected=!0}return nr._system}};_Ticker.targetFPMS=.06;let Ticker=_Ticker,promise;async function detectVideoAlphaMode(){return promise??(promise=(async()=>{const _=DOMAdapter.get().createCanvas(1,1).getContext("webgl");if(!_)return"premultiply-alpha-on-upload";const C=await new Promise(z=>{const I=document.createElement("video");I.onloadeddata=()=>z(I),I.onerror=()=>z(null),I.autoplay=!1,I.crossOrigin="anonymous",I.preload="auto",I.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",I.load()});if(!C)return"premultiply-alpha-on-upload";const A=_.createTexture();_.bindTexture(_.TEXTURE_2D,A);const P=_.createFramebuffer();_.bindFramebuffer(_.FRAMEBUFFER,P),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,A,0),_.pixelStorei(_.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),_.pixelStorei(_.UNPACK_COLORSPACE_CONVERSION_WEBGL,_.NONE),_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,C);const O=new Uint8Array(4);return _.readPixels(0,0,1,1,_.RGBA,_.UNSIGNED_BYTE,O),_.deleteFramebuffer(P),_.deleteTexture(A),_.getExtension("WEBGL_lose_context")?.loseContext(),O[0]<=O[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),promise}const _VideoSource=class Qf extends TextureSource{constructor(_){super(_),this.isReady=!1,this.uploadMethodId="video",_={...Qf.defaultOptions,..._},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=_.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=_.autoPlay!==!1,this.alphaMode=_.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),_.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const _=Ticker.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-_)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const _=this.resource,C=this.options;return(_.readyState===_.HAVE_ENOUGH_DATA||_.readyState===_.HAVE_FUTURE_DATA)&&_.width&&_.height&&(_.complete=!0),_.addEventListener("play",this._onPlayStart),_.addEventListener("pause",this._onPlayStop),_.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(C.preload||_.addEventListener("canplay",this._onCanPlay),_.addEventListener("canplaythrough",this._onCanPlayThrough),_.addEventListener("error",this._onError,!0)),this.alphaMode=await detectVideoAlphaMode(),this._load=new Promise((A,P)=>{this.isValid?A(this):(this._resolve=A,this._reject=P,C.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${C.preloadTimeoutMs}ms`))})),_.load())}),this._load}_onError(_){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",_),this._reject&&(this._reject(_),this._reject=null,this._resolve=null)}_isSourcePlaying(){const _=this.resource;return!_.paused&&!_.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const _=this.resource;this.isValid&&(this.isReady=!0,this.resize(_.videoWidth,_.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const _=this.resource;_&&(_.removeEventListener("play",this._onPlayStart),_.removeEventListener("pause",this._onPlayStop),_.removeEventListener("seeked",this._onSeeked),_.removeEventListener("canplay",this._onCanPlay),_.removeEventListener("canplaythrough",this._onCanPlayThrough),_.removeEventListener("error",this._onError,!0),_.pause(),_.src="",_.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(_){_!==this._autoUpdate&&(this._autoUpdate=_,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(_){_!==this._updateFPS&&(this._updateFPS=_,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Ticker.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Ticker.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Ticker.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(_){return globalThis.HTMLVideoElement&&_ instanceof HTMLVideoElement}};_VideoSource.extension=ExtensionType.TextureSource;_VideoSource.defaultOptions={...TextureSource.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};_VideoSource.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let VideoSource=_VideoSource;const convertToList=(E,_,C=!1)=>(Array.isArray(E)||(E=[E]),_?E.map(A=>typeof A=="string"||C?_(A):A):E);class CacheClass{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(_){return this._cache.has(_)}get(_){const C=this._cache.get(_);return C||warn(`[Assets] Asset id ${_} was not found in the Cache`),C}set(_,C){const A=convertToList(_);let P;for(let B=0;B<this.parsers.length;B++){const U=this.parsers[B];if(U.test(C)){P=U.getCacheableAssets(A,C);break}}const O=new Map(Object.entries(P||{}));P||A.forEach(B=>{O.set(B,C)});const z=[...O.keys()],I={cacheKeys:z,keys:A};A.forEach(B=>{this._cacheMap.set(B,I)}),z.forEach(B=>{const U=P?P[B]:C;this._cache.has(B)&&this._cache.get(B)!==U&&warn("[Cache] already has key:",B),this._cache.set(B,O.get(B))})}remove(_){if(!this._cacheMap.has(_)){warn(`[Assets] Asset id ${_} was not found in the Cache`);return}const C=this._cacheMap.get(_);C.cacheKeys.forEach(P=>{this._cache.delete(P)}),C.keys.forEach(P=>{this._cacheMap.delete(P)})}get parsers(){return this._parsers}}const Cache=new CacheClass,sources=[];extensions.handleByList(ExtensionType.TextureSource,sources);function textureSourceFrom(E={}){const _=E&&E.resource,C=_?E.resource:E,A=_?E:{resource:E};for(let P=0;P<sources.length;P++){const O=sources[P];if(O.test(C))return new O(A)}throw new Error(`Could not find a source type for resource: ${A.resource}`)}function resourceToTexture(E={},_=!1){const C=E&&E.resource,A=C?E.resource:E,P=C?E:{resource:E};if(!_&&Cache.has(A))return Cache.get(A);const O=new Texture({source:textureSourceFrom(P)});return O.on("destroy",()=>{Cache.has(A)&&Cache.remove(A)}),_||Cache.set(A,O),O}function textureFrom(E,_=!1){return typeof E=="string"?Cache.get(E):E instanceof TextureSource?new Texture({source:E}):resourceToTexture(E,_)}Texture.from=textureFrom;TextureSource.from=textureSourceFrom;extensions.add(AlphaMask,ColorMask,StencilMask,VideoSource,ImageSource,CanvasSource,BufferImageSource);var LoaderParserPriority=(E=>(E[E.Low=0]="Low",E[E.Normal=1]="Normal",E[E.High=2]="High",E))(LoaderParserPriority||{});function assertPath(E){if(typeof E!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(E)}`)}function removeUrlParams(E){return E.split("?")[0].split("#")[0]}function escapeRegExp(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function replaceAll(E,_,C){return E.replace(new RegExp(escapeRegExp(_),"g"),C)}function normalizeStringPosix(E,_){let C="",A=0,P=-1,O=0,z=-1;for(let I=0;I<=E.length;++I){if(I<E.length)z=E.charCodeAt(I);else{if(z===47)break;z=47}if(z===47){if(!(P===I-1||O===1))if(P!==I-1&&O===2){if(C.length<2||A!==2||C.charCodeAt(C.length-1)!==46||C.charCodeAt(C.length-2)!==46){if(C.length>2){const B=C.lastIndexOf("/");if(B!==C.length-1){B===-1?(C="",A=0):(C=C.slice(0,B),A=C.length-1-C.lastIndexOf("/")),P=I,O=0;continue}}else if(C.length===2||C.length===1){C="",A=0,P=I,O=0;continue}}}else C.length>0?C+=`/${E.slice(P+1,I)}`:C=E.slice(P+1,I),A=I-P-1;P=I,O=0}else z===46&&O!==-1?++O:O=-1}return C}const path={toPosix(E){return replaceAll(E,"\\","/")},isUrl(E){return/^https?:/.test(this.toPosix(E))},isDataUrl(E){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(E)},isBlobUrl(E){return E.startsWith("blob:")},hasProtocol(E){return/^[^/:]+:/.test(this.toPosix(E))},getProtocol(E){assertPath(E),E=this.toPosix(E);const _=/^file:\/\/\//.exec(E);if(_)return _[0];const C=/^[^/:]+:\/{0,2}/.exec(E);return C?C[0]:""},toAbsolute(E,_,C){if(assertPath(E),this.isDataUrl(E)||this.isBlobUrl(E))return E;const A=removeUrlParams(this.toPosix(_??DOMAdapter.get().getBaseUrl())),P=removeUrlParams(this.toPosix(C??this.rootname(A)));return E=this.toPosix(E),E.startsWith("/")?path.join(P,E.slice(1)):this.isAbsolute(E)?E:this.join(A,E)},normalize(E){if(assertPath(E),E.length===0)return".";if(this.isDataUrl(E)||this.isBlobUrl(E))return E;E=this.toPosix(E);let _="";const C=E.startsWith("/");this.hasProtocol(E)&&(_=this.rootname(E),E=E.slice(_.length));const A=E.endsWith("/");return E=normalizeStringPosix(E),E.length>0&&A&&(E+="/"),C?`/${E}`:_+E},isAbsolute(E){return assertPath(E),E=this.toPosix(E),this.hasProtocol(E)?!0:E.startsWith("/")},join(...E){if(E.length===0)return".";let _;for(let C=0;C<E.length;++C){const A=E[C];if(assertPath(A),A.length>0)if(_===void 0)_=A;else{const P=E[C-1]??"";this.joinExtensions.includes(this.extname(P).toLowerCase())?_+=`/../${A}`:_+=`/${A}`}}return _===void 0?".":this.normalize(_)},dirname(E){if(assertPath(E),E.length===0)return".";E=this.toPosix(E);let _=E.charCodeAt(0);const C=_===47;let A=-1,P=!0;const O=this.getProtocol(E),z=E;E=E.slice(O.length);for(let I=E.length-1;I>=1;--I)if(_=E.charCodeAt(I),_===47){if(!P){A=I;break}}else P=!1;return A===-1?C?"/":this.isUrl(z)?O+E:O:C&&A===1?"//":O+E.slice(0,A)},rootname(E){assertPath(E),E=this.toPosix(E);let _="";if(E.startsWith("/")?_="/":_=this.getProtocol(E),this.isUrl(E)){const C=E.indexOf("/",_.length);C!==-1?_=E.slice(0,C):_=E,_.endsWith("/")||(_+="/")}return _},basename(E,_){assertPath(E),_&&assertPath(_),E=removeUrlParams(this.toPosix(E));let C=0,A=-1,P=!0,O;if(_!==void 0&&_.length>0&&_.length<=E.length){if(_.length===E.length&&_===E)return"";let z=_.length-1,I=-1;for(O=E.length-1;O>=0;--O){const B=E.charCodeAt(O);if(B===47){if(!P){C=O+1;break}}else I===-1&&(P=!1,I=O+1),z>=0&&(B===_.charCodeAt(z)?--z===-1&&(A=O):(z=-1,A=I))}return C===A?A=I:A===-1&&(A=E.length),E.slice(C,A)}for(O=E.length-1;O>=0;--O)if(E.charCodeAt(O)===47){if(!P){C=O+1;break}}else A===-1&&(P=!1,A=O+1);return A===-1?"":E.slice(C,A)},extname(E){assertPath(E),E=removeUrlParams(this.toPosix(E));let _=-1,C=0,A=-1,P=!0,O=0;for(let z=E.length-1;z>=0;--z){const I=E.charCodeAt(z);if(I===47){if(!P){C=z+1;break}continue}A===-1&&(P=!1,A=z+1),I===46?_===-1?_=z:O!==1&&(O=1):_!==-1&&(O=-1)}return _===-1||A===-1||O===0||O===1&&_===A-1&&_===C+1?"":E.slice(_,A)},parse(E){assertPath(E);const _={root:"",dir:"",base:"",ext:"",name:""};if(E.length===0)return _;E=removeUrlParams(this.toPosix(E));let C=E.charCodeAt(0);const A=this.isAbsolute(E);let P;_.root=this.rootname(E),A||this.hasProtocol(E)?P=1:P=0;let O=-1,z=0,I=-1,B=!0,U=E.length-1,G=0;for(;U>=P;--U){if(C=E.charCodeAt(U),C===47){if(!B){z=U+1;break}continue}I===-1&&(B=!1,I=U+1),C===46?O===-1?O=U:G!==1&&(G=1):O!==-1&&(G=-1)}return O===-1||I===-1||G===0||G===1&&O===I-1&&O===z+1?I!==-1&&(z===0&&A?_.base=_.name=E.slice(1,I):_.base=_.name=E.slice(z,I)):(z===0&&A?(_.name=E.slice(1,O),_.base=E.slice(1,I)):(_.name=E.slice(z,O),_.base=E.slice(z,I)),_.ext=E.slice(O,I)),_.dir=this.dirname(E),_},sep:"/",delimiter:":",joinExtensions:[".html"]};function processX(E,_,C,A,P){const O=_[C];for(let z=0;z<O.length;z++){const I=O[z];C<_.length-1?processX(E.replace(A[C],I),_,C+1,A,P):P.push(E.replace(A[C],I))}}function createStringVariations(E){const _=/\{(.*?)\}/g,C=E.match(_),A=[];if(C){const P=[];C.forEach(O=>{const z=O.substring(1,O.length-1).split(",");P.push(z)}),processX(E,P,0,C,A)}else A.push(E);return A}const isSingleItem=E=>!Array.isArray(E);class Resolver{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(_,C)=>`${_}${this._bundleIdConnector}${C}`,extractAssetIdFromBundle:(_,C)=>C.replace(`${_}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(_){if(this._bundleIdConnector=_.connector??this._bundleIdConnector,this._createBundleAssetId=_.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=_.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(..._){_.forEach(C=>{this._preferredOrder.push(C),C.priority||(C.priority=Object.keys(C.params))}),this._resolverHash={}}set basePath(_){this._basePath=_}get basePath(){return this._basePath}set rootPath(_){this._rootPath=_}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(_){if(typeof _=="string")this._defaultSearchParams=_;else{const C=_;this._defaultSearchParams=Object.keys(C).map(A=>`${encodeURIComponent(A)}=${encodeURIComponent(C[A])}`).join("&")}}getAlias(_){const{alias:C,src:A}=_;return convertToList(C||A,O=>typeof O=="string"?O:Array.isArray(O)?O.map(z=>z?.src??z):O?.src?O.src:O,!0)}addManifest(_){this._manifest&&warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=_,_.bundles.forEach(C=>{this.addBundle(C.name,C.assets)})}addBundle(_,C){const A=[];let P=C;Array.isArray(C)||(P=Object.entries(C).map(([O,z])=>typeof z=="string"||Array.isArray(z)?{alias:O,src:z}:{alias:O,...z})),P.forEach(O=>{const z=O.src,I=O.alias;let B;if(typeof I=="string"){const U=this._createBundleAssetId(_,I);A.push(U),B=[I,U]}else{const U=I.map(G=>this._createBundleAssetId(_,G));A.push(...U),B=[...I,...U]}this.add({...O,alias:B,src:z})}),this._bundles[_]=A}add(_){const C=[];Array.isArray(_)?C.push(..._):C.push(_);let A;A=O=>{this.hasKey(O)&&warn(`[Resolver] already has key: ${O} overwriting`)},convertToList(C).forEach(O=>{const{src:z}=O;let{data:I,format:B,loadParser:U,parser:G}=O;const F=convertToList(z).map(Q=>typeof Q=="string"?createStringVariations(Q):Array.isArray(Q)?Q:[Q]),q=this.getAlias(O);Array.isArray(q)?q.forEach(A):A(q);const Y=[],W=Q=>({...this._parsers.find(ee=>ee.test(Q))?.parse(Q),src:Q});F.forEach(Q=>{Q.forEach(J=>{let ee={};if(typeof J!="object"?ee=W(J):(I=J.data??I,B=J.format??B,(J.loadParser||J.parser)&&(U=J.loadParser??U,G=J.parser??G),ee={...W(J.src),...J}),!q)throw new Error(`[Resolver] alias is undefined for this asset: ${ee.src}`);ee=this._buildResolvedAsset(ee,{aliases:q,data:I,format:B,loadParser:U,parser:G,progressSize:O.progressSize}),Y.push(ee)})}),q.forEach(Q=>{this._assetMap[Q]=Y})})}resolveBundle(_){const C=isSingleItem(_);_=convertToList(_);const A={};return _.forEach(P=>{const O=this._bundles[P];if(O){const z=this.resolve(O),I={};for(const B in z){const U=z[B];I[this._extractAssetIdFromBundle(P,B)]=U}A[P]=I}}),C?A[_[0]]:A}resolveUrl(_){const C=this.resolve(_);if(typeof _!="string"){const A={};for(const P in C)A[P]=C[P].src;return A}return C.src}resolve(_){const C=isSingleItem(_);_=convertToList(_);const A={};return _.forEach(P=>{if(!this._resolverHash[P])if(this._assetMap[P]){let O=this._assetMap[P];const z=this._getPreferredOrder(O);z?.priority.forEach(I=>{z.params[I].forEach(B=>{const U=O.filter(G=>G[I]?G[I]===B:!1);U.length&&(O=U)})}),this._resolverHash[P]=O[0]}else this._resolverHash[P]=this._buildResolvedAsset({alias:[P],src:P},{});A[P]=this._resolverHash[P]}),C?A[_[0]]:A}hasKey(_){return!!this._assetMap[_]}hasBundle(_){return!!this._bundles[_]}_getPreferredOrder(_){for(let C=0;C<_.length;C++){const A=_[C],P=this._preferredOrder.find(O=>O.params.format.includes(A.format));if(P)return P}return this._preferredOrder[0]}_appendDefaultSearchParams(_){if(!this._defaultSearchParams)return _;const C=/\?/.test(_)?"&":"?";return`${_}${C}${this._defaultSearchParams}`}_buildResolvedAsset(_,C){const{aliases:A,data:P,loadParser:O,parser:z,format:I,progressSize:B}=C;return(this._basePath||this._rootPath)&&(_.src=path.toAbsolute(_.src,this._basePath,this._rootPath)),_.alias=A??_.alias??[_.src],_.src=this._appendDefaultSearchParams(_.src),_.data={...P||{},..._.data},_.loadParser=O??_.loadParser,_.parser=z??_.parser,_.format=I??_.format??getUrlExtension(_.src),B!==void 0&&(_.progressSize=B),_}}Resolver.RETINA_PREFIX=/@([0-9\.]+)x/;function getUrlExtension(E){return E.split(".").pop().split("?").shift().split("#").shift()}const copySearchParams=(E,_)=>{const C=_.split("?")[1];return C&&(E+=`?${C}`),E},_Spritesheet=class yi{constructor(_,C){this.linkedSheets=[];let A=_;_?.source instanceof TextureSource&&(A={texture:_,data:C});const{texture:P,data:O,cachePrefix:z=""}=A;this.cachePrefix=z,this._texture=P instanceof Texture?P:null,this.textureSource=P.source,this.textures={},this.animations={},this.data=O;const I=parseFloat(O.meta.scale);I?(this.resolution=I,P.source.resolution=this.resolution):this.resolution=P.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(_=>{this._callback=_,this._batchIndex=0,this._frameKeys.length<=yi.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(_){let C=_;const A=yi.BATCH_SIZE;for(;C-_<A&&C<this._frameKeys.length;){const P=this._frameKeys[C],O=this._frames[P],z=O.frame;if(z){let I=null,B=null;const U=O.trimmed!==!1&&O.sourceSize?O.sourceSize:O.frame,G=new Rectangle(0,0,Math.floor(U.w)/this.resolution,Math.floor(U.h)/this.resolution);O.rotated?I=new Rectangle(Math.floor(z.x)/this.resolution,Math.floor(z.y)/this.resolution,Math.floor(z.h)/this.resolution,Math.floor(z.w)/this.resolution):I=new Rectangle(Math.floor(z.x)/this.resolution,Math.floor(z.y)/this.resolution,Math.floor(z.w)/this.resolution,Math.floor(z.h)/this.resolution),O.trimmed!==!1&&O.spriteSourceSize&&(B=new Rectangle(Math.floor(O.spriteSourceSize.x)/this.resolution,Math.floor(O.spriteSourceSize.y)/this.resolution,Math.floor(z.w)/this.resolution,Math.floor(z.h)/this.resolution)),this.textures[P]=new Texture({source:this.textureSource,frame:I,orig:G,trim:B,rotate:O.rotated?2:0,defaultAnchor:O.anchor,defaultBorders:O.borders,label:P.toString()})}C++}}_processAnimations(){const _=this.data.animations||{};for(const C in _){this.animations[C]=[];for(let A=0;A<_[C].length;A++){const P=_[C][A];this.animations[C].push(this.textures[P])}}}_parseComplete(){const _=this._callback;this._callback=null,this._batchIndex=0,_.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*yi.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*yi.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(_=!1){for(const C in this.textures)this.textures[C].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,_&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};_Spritesheet.BATCH_SIZE=1e3;let Spritesheet=_Spritesheet;const validImages=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function getCacheableAssets(E,_,C){const A={};if(E.forEach(P=>{A[P]=_}),Object.keys(_.textures).forEach(P=>{A[`${_.cachePrefix}${P}`]=_.textures[P]}),!C){const P=path.dirname(E[0]);_.linkedSheets.forEach((O,z)=>{const I=getCacheableAssets([`${P}/${_.data.meta.related_multi_packs[z]}`],O,!0);Object.assign(A,I)})}return A}const spritesheetAsset={extension:ExtensionType.Asset,cache:{test:E=>E instanceof Spritesheet,getCacheableAssets:(E,_)=>getCacheableAssets(E,_,!1)},resolver:{extension:{type:ExtensionType.ResolveParser,name:"resolveSpritesheet"},test:E=>{const C=E.split("?")[0].split("."),A=C.pop(),P=C.pop();return A==="json"&&validImages.includes(P)},parse:E=>{const _=E.split(".");return{resolution:parseFloat(Resolver.RETINA_PREFIX.exec(E)?.[1]??"1"),format:_[_.length-2],src:E}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Normal,name:"spritesheetLoader"},async testParse(E,_){return path.extname(_.src).toLowerCase()===".json"&&!!E.frames},async parse(E,_,C){const{texture:A,imageFilename:P,textureOptions:O,cachePrefix:z}=_?.data??{};let I=path.dirname(_.src);I&&I.lastIndexOf("/")!==I.length-1&&(I+="/");let B;if(A instanceof Texture)B=A;else{const F=copySearchParams(I+(P??E.meta.image),_.src);B=(await C.load([{src:F,data:O}]))[F]}const U=new Spritesheet({texture:B.source,data:E,cachePrefix:z});await U.parse();const G=E?.meta?.related_multi_packs;if(Array.isArray(G)){const F=[];for(const Y of G){if(typeof Y!="string")continue;let W=I+Y;_.data?.ignoreMultiPack||(W=copySearchParams(W,_.src),F.push(C.load({src:W,data:{textureOptions:O,ignoreMultiPack:!0}})))}const q=await Promise.all(F);U.linkedSheets=q,q.forEach(Y=>{Y.linkedSheets=[U].concat(U.linkedSheets.filter(W=>W!==Y))})}return U},async unload(E,_,C){await C.unload(E.textureSource._sourceOrigin),E.destroy(!1)}}};extensions.add(spritesheetAsset);const idCounts=Object.create(null),idHash=Object.create(null);function createIdFromString(E,_){let C=idHash[E];return C===void 0&&(idCounts[_]===void 0&&(idCounts[_]=1),idHash[E]=C=idCounts[_]++),C}let context;function getTestContext(){return(!context||context?.isContextLost())&&(context=DOMAdapter.get().createCanvas().getContext("webgl",{})),context}let maxFragmentPrecision;function getMaxFragmentPrecision(){if(!maxFragmentPrecision){maxFragmentPrecision="mediump";const E=getTestContext();E&&E.getShaderPrecisionFormat&&(maxFragmentPrecision=E.getShaderPrecisionFormat(E.FRAGMENT_SHADER,E.HIGH_FLOAT).precision?"highp":"mediump")}return maxFragmentPrecision}function addProgramDefines(E,_,C){return _?E:C?(E=E.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${E}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${E}
        `}function ensurePrecision(E,_,C){const A=C?_.maxSupportedFragmentPrecision:_.maxSupportedVertexPrecision;if(E.substring(0,9)!=="precision"){let P=C?_.requestedFragmentPrecision:_.requestedVertexPrecision;return P==="highp"&&A!=="highp"&&(P="mediump"),`precision ${P} float;
${E}`}else if(A!=="highp"&&E.substring(0,15)==="precision highp")return E.replace("precision highp","precision mediump");return E}function insertVersion(E,_){return _?`#version 300 es
${E}`:E}const fragmentNameCache={},VertexNameCache={};function setProgramName(E,{name:_="pixi-program"},C=!0){_=_.replace(/\s+/g,"-"),_+=C?"-fragment":"-vertex";const A=C?fragmentNameCache:VertexNameCache;return A[_]?(A[_]++,_+=`-${A[_]}`):A[_]=1,E.indexOf("#define SHADER_NAME")!==-1?E:`${`#define SHADER_NAME ${_}`}
${E}`}function stripVersion(E,_){return _?E.replace("#version 300 es",""):E}const processes={stripVersion,ensurePrecision,addProgramDefines,setProgramName,insertVersion},programCache$1=Object.create(null),_GlProgram=class Xl{constructor(_){_={...Xl.defaultOptions,..._};const C=_.fragment.indexOf("#version 300 es")!==-1,A={stripVersion:C,ensurePrecision:{requestedFragmentPrecision:_.preferredFragmentPrecision,requestedVertexPrecision:_.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:getMaxFragmentPrecision()},setProgramName:{name:_.name},addProgramDefines:C,insertVersion:C};let P=_.fragment,O=_.vertex;Object.keys(processes).forEach(z=>{const I=A[z];P=processes[z](P,I,!0),O=processes[z](O,I,!1)}),this.fragment=P,this.vertex=O,this.transformFeedbackVaryings=_.transformFeedbackVaryings,this._key=createIdFromString(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,programCache$1[this._cacheKey]=null}static from(_){const C=`${_.vertex}:${_.fragment}`;return programCache$1[C]||(programCache$1[C]=new Xl(_),programCache$1[C]._cacheKey=C),programCache$1[C]}};_GlProgram.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let GlProgram=_GlProgram;const attributeFormatData={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function getAttributeInfoFromFormat(E){return attributeFormatData[E]??attributeFormatData.float32}const WGSL_TO_VERTEX_TYPES={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function extractAttributesFromGpuProgram({source:E,entryPoint:_}){const C={},A=E.indexOf(`fn ${_}`);if(A!==-1){const P=E.indexOf("->",A);if(P!==-1){const O=E.substring(A,P),z=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let I;for(;(I=z.exec(O))!==null;){const B=WGSL_TO_VERTEX_TYPES[I[3]]??"float32";C[I[2]]={location:parseInt(I[1],10),format:B,stride:getAttributeInfoFromFormat(B).stride,offset:0,instance:!1,start:0}}}}return C}function extractStructAndGroups(E){const _=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,C=/@group\((\d+)\)/,A=/@binding\((\d+)\)/,P=/var(<[^>]+>)? (\w+)/,O=/:\s*(\w+)/,z=/struct\s+(\w+)\s*{([^}]+)}/g,I=/(\w+)\s*:\s*([\w\<\>]+)/g,B=/struct\s+(\w+)/,U=E.match(_)?.map(F=>({group:parseInt(F.match(C)[1],10),binding:parseInt(F.match(A)[1],10),name:F.match(P)[2],isUniform:F.match(P)[1]==="<uniform>",type:F.match(O)[1]}));if(!U)return{groups:[],structs:[]};const G=E.match(z)?.map(F=>{const q=F.match(B)[1],Y=F.match(I).reduce((W,Q)=>{const[J,ee]=Q.split(":");return W[J.trim()]=ee.trim(),W},{});return Y?{name:q,members:Y}:null}).filter(({name:F})=>U.some(q=>q.type===F))??[];return{groups:U,structs:G}}var ShaderStage=(E=>(E[E.VERTEX=1]="VERTEX",E[E.FRAGMENT=2]="FRAGMENT",E[E.COMPUTE=4]="COMPUTE",E))(ShaderStage||{});function generateGpuLayoutGroups({groups:E}){const _=[];for(let C=0;C<E.length;C++){const A=E[C];_[A.group]||(_[A.group]=[]),A.isUniform?_[A.group].push({binding:A.binding,visibility:ShaderStage.VERTEX|ShaderStage.FRAGMENT,buffer:{type:"uniform"}}):A.type==="sampler"?_[A.group].push({binding:A.binding,visibility:ShaderStage.FRAGMENT,sampler:{type:"filtering"}}):A.type==="texture_2d"&&_[A.group].push({binding:A.binding,visibility:ShaderStage.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return _}function generateLayoutHash({groups:E}){const _=[];for(let C=0;C<E.length;C++){const A=E[C];_[A.group]||(_[A.group]={}),_[A.group][A.name]=A.binding}return _}function removeStructAndGroupDuplicates(E,_){const C=new Set,A=new Set,P=[...E.structs,..._.structs].filter(z=>C.has(z.name)?!1:(C.add(z.name),!0)),O=[...E.groups,..._.groups].filter(z=>{const I=`${z.name}-${z.binding}`;return A.has(I)?!1:(A.add(I),!0)});return{structs:P,groups:O}}const programCache=Object.create(null);class GpuProgram{constructor(_){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:C,vertex:A,layout:P,gpuLayout:O,name:z}=_;if(this.name=z,this.fragment=C,this.vertex=A,C.source===A.source){const I=extractStructAndGroups(C.source);this.structsAndGroups=I}else{const I=extractStructAndGroups(A.source),B=extractStructAndGroups(C.source);this.structsAndGroups=removeStructAndGroupDuplicates(I,B)}this.layout=P??generateLayoutHash(this.structsAndGroups),this.gpuLayout=O??generateGpuLayoutGroups(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:_,fragment:C}=this,A=_.source+C.source+_.entryPoint+C.entryPoint;this._layoutKey=createIdFromString(A,"program")}get attributeData(){return this._attributeData??(this._attributeData=extractAttributesFromGpuProgram(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,programCache[this._cacheKey]=null}static from(_){const C=`${_.vertex.source}:${_.fragment.source}:${_.fragment.entryPoint}:${_.vertex.entryPoint}`;return programCache[C]||(programCache[C]=new GpuProgram(_),programCache[C]._cacheKey=C),programCache[C]}}const UNIFORM_TYPES_VALUES=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],UNIFORM_TYPES_MAP=UNIFORM_TYPES_VALUES.reduce((E,_)=>(E[_]=!0,E),{});function getDefaultUniformValue(E,_){switch(E){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*_);case"vec3<f32>":return new Float32Array(3*_);case"vec4<f32>":return new Float32Array(4*_);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const _UniformGroup=class Jf{constructor(_,C){this._touched=0,this.uid=uid("uniform"),this._resourceType="uniformGroup",this._resourceId=uid("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,C={...Jf.defaultOptions,...C},this.uniformStructures=_;const A={};for(const P in _){const O=_[P];if(O.name=P,O.size=O.size??1,!UNIFORM_TYPES_MAP[O.type]){const z=O.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(z){const[,I,B]=z;throw new Error(`Uniform type ${O.type} is not supported. Use type: '${I}', size: ${B} instead.`)}throw new Error(`Uniform type ${O.type} is not supported. Supported uniform types are: ${UNIFORM_TYPES_VALUES.join(", ")}`)}O.value??(O.value=getDefaultUniformValue(O.type,O.size)),A[P]=O.value}this.uniforms=A,this._dirtyId=1,this.ubo=C.ubo,this.isStatic=C.isStatic,this._signature=createIdFromString(Object.keys(A).map(P=>`${P}-${_[P].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};_UniformGroup.defaultOptions={ubo:!1,isStatic:!1};let UniformGroup=_UniformGroup;class BindGroup{constructor(_){this.resources=Object.create(null),this._dirty=!0;let C=0;for(const A in _){const P=_[A];this.setResource(P,C++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const _=[];let C=0;for(const A in this.resources)_[C++]=this.resources[A]._resourceId;this._key=_.join("|")}setResource(_,C){const A=this.resources[C];_!==A&&(A&&_.off?.("change",this.onResourceChange,this),_.on?.("change",this.onResourceChange,this),this.resources[C]=_,this._dirty=!0)}getResource(_){return this.resources[_]}_touch(_){const C=this.resources;for(const A in C)C[A]._touched=_}destroy(){const _=this.resources;for(const C in _)_[C]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(_){if(this._dirty=!0,_.destroyed){const C=this.resources;for(const A in C)C[A]===_&&(C[A]=null)}else this._updateKey()}}var RendererType=(E=>(E[E.WEBGL=1]="WEBGL",E[E.WEBGPU=2]="WEBGPU",E[E.BOTH=3]="BOTH",E))(RendererType||{});class Shader extends EventEmitter{constructor(_){super(),this.uid=uid("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:C,glProgram:A,groups:P,resources:O,compatibleRenderers:z,groupMap:I}=_;this.gpuProgram=C,this.glProgram=A,z===void 0&&(z=0,C&&(z|=RendererType.WEBGPU),A&&(z|=RendererType.WEBGL)),this.compatibleRenderers=z;const B={};if(!O&&!P&&(O={}),O&&P)throw new Error("[Shader] Cannot have both resources and groups");if(!C&&P&&!I)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!C&&P&&I)for(const U in I)for(const G in I[U]){const F=I[U][G];B[F]={group:U,binding:G,name:F}}else if(C&&P&&!I){const U=C.structsAndGroups.groups;I={},U.forEach(G=>{I[G.group]=I[G.group]||{},I[G.group][G.binding]=G.name,B[G.name]=G})}else if(O){P={},I={},C&&C.structsAndGroups.groups.forEach(F=>{I[F.group]=I[F.group]||{},I[F.group][F.binding]=F.name,B[F.name]=F});let U=0;for(const G in O)B[G]||(P[99]||(P[99]=new BindGroup,this._ownedBindGroups.push(P[99])),B[G]={group:99,binding:U,name:G},I[99]=I[99]||{},I[99][U]=G,U++);for(const G in O){const F=G;let q=O[G];!q.source&&!q._resourceType&&(q=new UniformGroup(q));const Y=B[F];Y&&(P[Y.group]||(P[Y.group]=new BindGroup,this._ownedBindGroups.push(P[Y.group])),P[Y.group].setResource(q,Y.binding))}}this.groups=P,this._uniformBindMap=I,this.resources=this._buildResourceAccessor(P,B)}addResource(_,C,A){var P,O;(P=this._uniformBindMap)[C]||(P[C]={}),(O=this._uniformBindMap[C])[A]||(O[A]=_),this.groups[C]||(this.groups[C]=new BindGroup,this._ownedBindGroups.push(this.groups[C]))}_buildResourceAccessor(_,C){const A={};for(const P in C){const O=C[P];Object.defineProperty(A,O.name,{get(){return _[O.group].getResource(O.binding)},set(z){_[O.group].setResource(z,O.binding)}})}return A}destroy(_=!1){this._destroyed||(this._destroyed=!0,this.emit("destroy",this),_&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(C=>{C.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(_){const{gpu:C,gl:A,...P}=_;let O,z;return C&&(O=GpuProgram.from(C)),A&&(z=GlProgram.from(A)),new Shader({gpuProgram:O,glProgram:z,...P})}}const environments=[];extensions.handleByNamedList(ExtensionType.Environment,environments);async function loadEnvironmentExtensions(E){if(!E)for(let _=0;_<environments.length;_++){const C=environments[_];if(C.value.test()){await C.value.load();return}}}let unsafeEval;function unsafeEvalSupported(){if(typeof unsafeEval=="boolean")return unsafeEval;try{unsafeEval=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{unsafeEval=!1}return unsafeEval}function earcut$1(E,_,C=2){const A=_&&_.length,P=A?_[0]*C:E.length;let O=linkedList(E,0,P,C,!0);const z=[];if(!O||O.next===O.prev)return z;let I,B,U;if(A&&(O=eliminateHoles(E,_,O,C)),E.length>80*C){I=E[0],B=E[1];let G=I,F=B;for(let q=C;q<P;q+=C){const Y=E[q],W=E[q+1];Y<I&&(I=Y),W<B&&(B=W),Y>G&&(G=Y),W>F&&(F=W)}U=Math.max(G-I,F-B),U=U!==0?32767/U:0}return earcutLinked(O,z,C,I,B,U,0),z}function linkedList(E,_,C,A,P){let O;if(P===signedArea(E,_,C,A)>0)for(let z=_;z<C;z+=A)O=insertNode(z/A|0,E[z],E[z+1],O);else for(let z=C-A;z>=_;z-=A)O=insertNode(z/A|0,E[z],E[z+1],O);return O&&equals(O,O.next)&&(removeNode(O),O=O.next),O}function filterPoints(E,_){if(!E)return E;_||(_=E);let C=E,A;do if(A=!1,!C.steiner&&(equals(C,C.next)||area(C.prev,C,C.next)===0)){if(removeNode(C),C=_=C.prev,C===C.next)break;A=!0}else C=C.next;while(A||C!==_);return _}function earcutLinked(E,_,C,A,P,O,z){if(!E)return;!z&&O&&indexCurve(E,A,P,O);let I=E;for(;E.prev!==E.next;){const B=E.prev,U=E.next;if(O?isEarHashed(E,A,P,O):isEar(E)){_.push(B.i,E.i,U.i),removeNode(E),E=U.next,I=U.next;continue}if(E=U,E===I){z?z===1?(E=cureLocalIntersections(filterPoints(E),_),earcutLinked(E,_,C,A,P,O,2)):z===2&&splitEarcut(E,_,C,A,P,O):earcutLinked(filterPoints(E),_,C,A,P,O,1);break}}}function isEar(E){const _=E.prev,C=E,A=E.next;if(area(_,C,A)>=0)return!1;const P=_.x,O=C.x,z=A.x,I=_.y,B=C.y,U=A.y,G=Math.min(P,O,z),F=Math.min(I,B,U),q=Math.max(P,O,z),Y=Math.max(I,B,U);let W=A.next;for(;W!==_;){if(W.x>=G&&W.x<=q&&W.y>=F&&W.y<=Y&&pointInTriangleExceptFirst(P,I,O,B,z,U,W.x,W.y)&&area(W.prev,W,W.next)>=0)return!1;W=W.next}return!0}function isEarHashed(E,_,C,A){const P=E.prev,O=E,z=E.next;if(area(P,O,z)>=0)return!1;const I=P.x,B=O.x,U=z.x,G=P.y,F=O.y,q=z.y,Y=Math.min(I,B,U),W=Math.min(G,F,q),Q=Math.max(I,B,U),J=Math.max(G,F,q),ee=zOrder(Y,W,_,C,A),ne=zOrder(Q,J,_,C,A);let se=E.prevZ,ie=E.nextZ;for(;se&&se.z>=ee&&ie&&ie.z<=ne;){if(se.x>=Y&&se.x<=Q&&se.y>=W&&se.y<=J&&se!==P&&se!==z&&pointInTriangleExceptFirst(I,G,B,F,U,q,se.x,se.y)&&area(se.prev,se,se.next)>=0||(se=se.prevZ,ie.x>=Y&&ie.x<=Q&&ie.y>=W&&ie.y<=J&&ie!==P&&ie!==z&&pointInTriangleExceptFirst(I,G,B,F,U,q,ie.x,ie.y)&&area(ie.prev,ie,ie.next)>=0))return!1;ie=ie.nextZ}for(;se&&se.z>=ee;){if(se.x>=Y&&se.x<=Q&&se.y>=W&&se.y<=J&&se!==P&&se!==z&&pointInTriangleExceptFirst(I,G,B,F,U,q,se.x,se.y)&&area(se.prev,se,se.next)>=0)return!1;se=se.prevZ}for(;ie&&ie.z<=ne;){if(ie.x>=Y&&ie.x<=Q&&ie.y>=W&&ie.y<=J&&ie!==P&&ie!==z&&pointInTriangleExceptFirst(I,G,B,F,U,q,ie.x,ie.y)&&area(ie.prev,ie,ie.next)>=0)return!1;ie=ie.nextZ}return!0}function cureLocalIntersections(E,_){let C=E;do{const A=C.prev,P=C.next.next;!equals(A,P)&&intersects(A,C,C.next,P)&&locallyInside(A,P)&&locallyInside(P,A)&&(_.push(A.i,C.i,P.i),removeNode(C),removeNode(C.next),C=E=P),C=C.next}while(C!==E);return filterPoints(C)}function splitEarcut(E,_,C,A,P,O){let z=E;do{let I=z.next.next;for(;I!==z.prev;){if(z.i!==I.i&&isValidDiagonal(z,I)){let B=splitPolygon(z,I);z=filterPoints(z,z.next),B=filterPoints(B,B.next),earcutLinked(z,_,C,A,P,O,0),earcutLinked(B,_,C,A,P,O,0);return}I=I.next}z=z.next}while(z!==E)}function eliminateHoles(E,_,C,A){const P=[];for(let O=0,z=_.length;O<z;O++){const I=_[O]*A,B=O<z-1?_[O+1]*A:E.length,U=linkedList(E,I,B,A,!1);U===U.next&&(U.steiner=!0),P.push(getLeftmost(U))}P.sort(compareXYSlope);for(let O=0;O<P.length;O++)C=eliminateHole(P[O],C);return C}function compareXYSlope(E,_){let C=E.x-_.x;if(C===0&&(C=E.y-_.y,C===0)){const A=(E.next.y-E.y)/(E.next.x-E.x),P=(_.next.y-_.y)/(_.next.x-_.x);C=A-P}return C}function eliminateHole(E,_){const C=findHoleBridge(E,_);if(!C)return _;const A=splitPolygon(C,E);return filterPoints(A,A.next),filterPoints(C,C.next)}function findHoleBridge(E,_){let C=_;const A=E.x,P=E.y;let O=-1/0,z;if(equals(E,C))return C;do{if(equals(E,C.next))return C.next;if(P<=C.y&&P>=C.next.y&&C.next.y!==C.y){const F=C.x+(P-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(F<=A&&F>O&&(O=F,z=C.x<C.next.x?C:C.next,F===A))return z}C=C.next}while(C!==_);if(!z)return null;const I=z,B=z.x,U=z.y;let G=1/0;C=z;do{if(A>=C.x&&C.x>=B&&A!==C.x&&pointInTriangle(P<U?A:O,P,B,U,P<U?O:A,P,C.x,C.y)){const F=Math.abs(P-C.y)/(A-C.x);locallyInside(C,E)&&(F<G||F===G&&(C.x>z.x||C.x===z.x&&sectorContainsSector(z,C)))&&(z=C,G=F)}C=C.next}while(C!==I);return z}function sectorContainsSector(E,_){return area(E.prev,E,_.prev)<0&&area(_.next,E,E.next)<0}function indexCurve(E,_,C,A){let P=E;do P.z===0&&(P.z=zOrder(P.x,P.y,_,C,A)),P.prevZ=P.prev,P.nextZ=P.next,P=P.next;while(P!==E);P.prevZ.nextZ=null,P.prevZ=null,sortLinked(P)}function sortLinked(E){let _,C=1;do{let A=E,P;E=null;let O=null;for(_=0;A;){_++;let z=A,I=0;for(let U=0;U<C&&(I++,z=z.nextZ,!!z);U++);let B=C;for(;I>0||B>0&&z;)I!==0&&(B===0||!z||A.z<=z.z)?(P=A,A=A.nextZ,I--):(P=z,z=z.nextZ,B--),O?O.nextZ=P:E=P,P.prevZ=O,O=P;A=z}O.nextZ=null,C*=2}while(_>1);return E}function zOrder(E,_,C,A,P){return E=(E-C)*P|0,_=(_-A)*P|0,E=(E|E<<8)&16711935,E=(E|E<<4)&252645135,E=(E|E<<2)&858993459,E=(E|E<<1)&1431655765,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,E|_<<1}function getLeftmost(E){let _=E,C=E;do(_.x<C.x||_.x===C.x&&_.y<C.y)&&(C=_),_=_.next;while(_!==E);return C}function pointInTriangle(E,_,C,A,P,O,z,I){return(P-z)*(_-I)>=(E-z)*(O-I)&&(E-z)*(A-I)>=(C-z)*(_-I)&&(C-z)*(O-I)>=(P-z)*(A-I)}function pointInTriangleExceptFirst(E,_,C,A,P,O,z,I){return!(E===z&&_===I)&&pointInTriangle(E,_,C,A,P,O,z,I)}function isValidDiagonal(E,_){return E.next.i!==_.i&&E.prev.i!==_.i&&!intersectsPolygon(E,_)&&(locallyInside(E,_)&&locallyInside(_,E)&&middleInside(E,_)&&(area(E.prev,E,_.prev)||area(E,_.prev,_))||equals(E,_)&&area(E.prev,E,E.next)>0&&area(_.prev,_,_.next)>0)}function area(E,_,C){return(_.y-E.y)*(C.x-_.x)-(_.x-E.x)*(C.y-_.y)}function equals(E,_){return E.x===_.x&&E.y===_.y}function intersects(E,_,C,A){const P=sign(area(E,_,C)),O=sign(area(E,_,A)),z=sign(area(C,A,E)),I=sign(area(C,A,_));return!!(P!==O&&z!==I||P===0&&onSegment(E,C,_)||O===0&&onSegment(E,A,_)||z===0&&onSegment(C,E,A)||I===0&&onSegment(C,_,A))}function onSegment(E,_,C){return _.x<=Math.max(E.x,C.x)&&_.x>=Math.min(E.x,C.x)&&_.y<=Math.max(E.y,C.y)&&_.y>=Math.min(E.y,C.y)}function sign(E){return E>0?1:E<0?-1:0}function intersectsPolygon(E,_){let C=E;do{if(C.i!==E.i&&C.next.i!==E.i&&C.i!==_.i&&C.next.i!==_.i&&intersects(C,C.next,E,_))return!0;C=C.next}while(C!==E);return!1}function locallyInside(E,_){return area(E.prev,E,E.next)<0?area(E,_,E.next)>=0&&area(E,E.prev,_)>=0:area(E,_,E.prev)<0||area(E,E.next,_)<0}function middleInside(E,_){let C=E,A=!1;const P=(E.x+_.x)/2,O=(E.y+_.y)/2;do C.y>O!=C.next.y>O&&C.next.y!==C.y&&P<(C.next.x-C.x)*(O-C.y)/(C.next.y-C.y)+C.x&&(A=!A),C=C.next;while(C!==E);return A}function splitPolygon(E,_){const C=createNode(E.i,E.x,E.y),A=createNode(_.i,_.x,_.y),P=E.next,O=_.prev;return E.next=_,_.prev=E,C.next=P,P.prev=C,A.next=C,C.prev=A,O.next=A,A.prev=O,A}function insertNode(E,_,C,A){const P=createNode(E,_,C);return A?(P.next=A.next,P.prev=A,A.next.prev=P,A.next=P):(P.prev=P,P.next=P),P}function removeNode(E){E.next.prev=E.prev,E.prev.next=E.next,E.prevZ&&(E.prevZ.nextZ=E.nextZ),E.nextZ&&(E.nextZ.prevZ=E.prevZ)}function createNode(E,_,C){return{i:E,x:_,y:C,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function signedArea(E,_,C,A){let P=0;for(let O=_,z=C-A;O<C;O+=A)P+=(E[z]-E[O])*(E[O+1]+E[z+1]),z=O;return P}const earcut=earcut$1.default||earcut$1;var CLEAR=(E=>(E[E.NONE=0]="NONE",E[E.COLOR=16384]="COLOR",E[E.STENCIL=1024]="STENCIL",E[E.DEPTH=256]="DEPTH",E[E.COLOR_DEPTH=16640]="COLOR_DEPTH",E[E.COLOR_STENCIL=17408]="COLOR_STENCIL",E[E.DEPTH_STENCIL=1280]="DEPTH_STENCIL",E[E.ALL=17664]="ALL",E))(CLEAR||{});class SystemRunner{constructor(_){this.items=[],this._name=_}emit(_,C,A,P,O,z,I,B){const{name:U,items:G}=this;for(let F=0,q=G.length;F<q;F++)G[F][U](_,C,A,P,O,z,I,B);return this}add(_){return _[this._name]&&(this.remove(_),this.items.push(_)),this}remove(_){const C=this.items.indexOf(_);return C!==-1&&this.items.splice(C,1),this}contains(_){return this.items.indexOf(_)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const defaultRunners=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],_AbstractRenderer=class ed extends EventEmitter{constructor(_){super(),this.uid=uid("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=_.type,this.name=_.name,this.config=_;const C=[...defaultRunners,...this.config.runners??[]];this._addRunners(...C),this._unsafeEvalCheck()}async init(_={}){const C=_.skipExtensionImports===!0?!0:_.manageImports===!1;await loadEnvironmentExtensions(C),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const A in this._systemsHash)_={...this._systemsHash[A].constructor.defaultOptions,..._};_={...ed.defaultOptions,..._},this._roundPixels=_.roundPixels?1:0;for(let A=0;A<this.runners.init.items.length;A++)await this.runners.init.items[A].init(_);this._initOptions=_}render(_,C){let A=_;if(A instanceof Container&&(A={container:A},C&&(deprecation(v8_0_0,"passing a second argument is deprecated, please use render options instead"),A.target=C.renderTexture)),A.target||(A.target=this.view.renderTarget),A.target===this.view.renderTarget&&(this._lastObjectRendered=A.container,A.clearColor??(A.clearColor=this.background.colorRgba),A.clear??(A.clear=this.background.clearBeforeRender)),A.clearColor){const P=Array.isArray(A.clearColor)&&A.clearColor.length===4;A.clearColor=P?A.clearColor:Color.shared.setValue(A.clearColor).toArray()}A.transform||(A.container.updateLocalTransform(),A.transform=A.container.localTransform),A.container.visible&&(A.container.enableRenderGroup(),this.runners.prerender.emit(A),this.runners.renderStart.emit(A),this.runners.render.emit(A),this.runners.renderEnd.emit(A),this.runners.postrender.emit(A))}resize(_,C,A){const P=this.view.resolution;this.view.resize(_,C,A),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),A!==void 0&&A!==P&&this.runners.resolutionChange.emit(A)}clear(_={}){const C=this;_.target||(_.target=C.renderTarget.renderTarget),_.clearColor||(_.clearColor=this.background.colorRgba),_.clear??(_.clear=CLEAR.ALL);const{clear:A,clearColor:P,target:O}=_;Color.shared.setValue(P??this.background.colorRgba),C.renderTarget.clear(O,A,Color.shared.toArray())}get resolution(){return this.view.resolution}set resolution(_){this.view.resolution=_,this.runners.resolutionChange.emit(_)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(..._){_.forEach(C=>{this.runners[C]=new SystemRunner(C)})}_addSystems(_){let C;for(C in _){const A=_[C];this._addSystem(A.value,A.name)}}_addSystem(_,C){const A=new _(this);if(this[C])throw new Error(`Whoops! The name "${C}" is already in use`);this[C]=A,this._systemsHash[C]=A;for(const P in this.runners)this.runners[P].add(A);return this}_addPipes(_,C){const A=C.reduce((P,O)=>(P[O.name]=O.value,P),{});_.forEach(P=>{const O=P.value,z=P.name,I=A[z];this.renderPipes[z]=new O(this,I?new I:null),this.runners.destroy.add(this.renderPipes[z])})}destroy(_=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(_),(_===!0||typeof _=="object"&&_.releaseGlobalResources)&&GlobalResourceRegistry.release(),Object.values(this.runners).forEach(C=>{C.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(_){return this.textureGenerator.generateTexture(_)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};_AbstractRenderer.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let AbstractRenderer=_AbstractRenderer,_isWebGLSupported;function isWebGLSupported(E){return _isWebGLSupported!==void 0||(_isWebGLSupported=(()=>{const _={stencil:!0,failIfMajorPerformanceCaveat:E??AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat};try{if(!DOMAdapter.get().getWebGLRenderingContext())return!1;let A=DOMAdapter.get().createCanvas().getContext("webgl",_);const P=!!A?.getContextAttributes()?.stencil;if(A){const O=A.getExtension("WEBGL_lose_context");O&&O.loseContext()}return A=null,P}catch{return!1}})()),_isWebGLSupported}let _isWebGPUSupported;async function isWebGPUSupported(E={}){return _isWebGPUSupported!==void 0||(_isWebGPUSupported=await(async()=>{const _=DOMAdapter.get().getNavigator().gpu;if(!_)return!1;try{return await(await _.requestAdapter(E)).requestDevice(),!0}catch{return!1}})()),_isWebGPUSupported}const renderPriority=["webgl","webgpu","canvas"];async function autoDetectRenderer(E){let _=[];E.preference?(_.push(E.preference),renderPriority.forEach(O=>{O!==E.preference&&_.push(O)})):_=renderPriority.slice();let C,A={};for(let O=0;O<_.length;O++){const z=_[O];if(z==="webgpu"&&await isWebGPUSupported()){const{WebGPURenderer:I}=await __vitePreload(async()=>{const{WebGPURenderer:B}=await import("./WebGPURenderer-BO6OfZyl.js");return{WebGPURenderer:B}},__vite__mapDeps([3,2,4]));C=I,A={...E,...E.webgpu};break}else if(z==="webgl"&&isWebGLSupported(E.failIfMajorPerformanceCaveat??AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:I}=await __vitePreload(async()=>{const{WebGLRenderer:B}=await import("./WebGLRenderer-b8HB2myL.js");return{WebGLRenderer:B}},__vite__mapDeps([5,2,4]));C=I,A={...E,...E.webgl};break}else if(z==="canvas")throw A={...E},new Error("CanvasRenderer is not yet implemented")}if(delete A.webgpu,delete A.webgl,!C)throw new Error("No available renderer for the current environment");const P=new C;return await P.init(A),P}const VERSION="8.14.3";class ApplicationInitHook{static init(){globalThis.__PIXI_APP_INIT__?.(this,VERSION)}static destroy(){}}ApplicationInitHook.extension=ExtensionType.Application;class RendererInitHook{constructor(_){this._renderer=_}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,VERSION)}destroy(){this._renderer=null}}RendererInitHook.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem],name:"initHook",priority:-10};const _Application=class Wl{constructor(..._){this.stage=new Container,_[0]!==void 0&&deprecation(v8_0_0,"Application constructor options are deprecated, please use Application.init() instead.")}async init(_){_={..._},this.stage||(this.stage=new Container),this.renderer=await autoDetectRenderer(_),Wl._plugins.forEach(C=>{C.init.call(this,_)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return deprecation(v8_0_0,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(_=!1,C=!1){const A=Wl._plugins.slice(0);A.reverse(),A.forEach(P=>{P.destroy.call(this)}),this.stage.destroy(C),this.stage=null,this.renderer.destroy(_),this.renderer=null}};_Application._plugins=[];let Application=_Application;extensions.handleByList(ExtensionType.Application,Application._plugins);extensions.add(ApplicationInitHook);class LRU{constructor(_=0,C=0,A=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=_,this.resetTtl=A,this.size=0,this.ttl=C}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(_){if(this.has(_)){const C=this.items[_];delete this.items[_],this.size--,C.prev!==null&&(C.prev.next=C.next),C.next!==null&&(C.next.prev=C.prev),this.first===C&&(this.first=C.next),this.last===C&&(this.last=C.prev)}return this}entries(_=this.keys()){return _.map(C=>[C,this.get(C)])}evict(_=!1){if(_||this.size>0){const C=this.first;delete this.items[C.key],--this.size===0?(this.first=null,this.last=null):(this.first=C.next,this.first.prev=null)}return this}expiresAt(_){let C;return this.has(_)&&(C=this.items[_].expiry),C}get(_){const C=this.items[_];if(C!==void 0){if(this.ttl>0&&C.expiry<=Date.now()){this.delete(_);return}return this.moveToEnd(C),C.value}}has(_){return _ in this.items}moveToEnd(_){this.last!==_&&(_.prev!==null&&(_.prev.next=_.next),_.next!==null&&(_.next.prev=_.prev),this.first===_&&(this.first=_.next),_.prev=this.last,_.next=null,this.last!==null&&(this.last.next=_),this.last=_,this.first===null&&(this.first=_))}keys(){const _=[];let C=this.first;for(;C!==null;)_.push(C.key),C=C.next;return _}setWithEvicted(_,C,A=this.resetTtl){let P=null;if(this.has(_))this.set(_,C,!0,A);else{this.max>0&&this.size===this.max&&(P={...this.first},this.evict(!0));let O=this.items[_]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:_,prev:this.last,next:null,value:C};++this.size===1?this.first=O:this.last.next=O,this.last=O}return P}set(_,C,A=!1,P=this.resetTtl){let O=this.items[_];return A||O!==void 0?(O.value=C,A===!1&&P&&(O.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.moveToEnd(O)):(this.max>0&&this.size===this.max&&this.evict(!0),O=this.items[_]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:_,prev:this.last,next:null,value:C},++this.size===1?this.first=O:this.last.next=O,this.last=O),this}values(_=this.keys()){return _.map(C=>this.get(C))}}function lru(E=1e3,_=0,C=!1){if(isNaN(E)||E<0)throw new TypeError("Invalid max value");if(isNaN(_)||_<0)throw new TypeError("Invalid ttl value");if(typeof C!="boolean")throw new TypeError("Invalid resetTtl value");return new LRU(E,_,C)}const genericFontFamilies=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function fontStringFromTextStyle(E){const _=typeof E.fontSize=="number"?`${E.fontSize}px`:E.fontSize;let C=E.fontFamily;Array.isArray(E.fontFamily)||(C=E.fontFamily.split(","));for(let A=C.length-1;A>=0;A--){let P=C[A].trim();!/([\"\'])[^\'\"]+\1/.test(P)&&!genericFontFamilies.includes(P)&&(P=`"${P}"`),C[A]=P}return`${E.fontStyle} ${E.fontVariant} ${E.fontWeight} ${_} ${C.join(",")}`}const contextSettings={willReadFrequently:!0},_CanvasTextMetrics=class Fe{static get experimentalLetterSpacingSupported(){let _=Fe._experimentalLetterSpacingSupported;if(_===void 0){const C=DOMAdapter.get().getCanvasRenderingContext2D().prototype;_=Fe._experimentalLetterSpacingSupported="letterSpacing"in C||"textLetterSpacing"in C}return _}constructor(_,C,A,P,O,z,I,B,U){this.text=_,this.style=C,this.width=A,this.height=P,this.lines=O,this.lineWidths=z,this.lineHeight=I,this.maxLineWidth=B,this.fontProperties=U}static measureText(_=" ",C,A=Fe._canvas,P=C.wordWrap){const O=`${_}-${C.styleKey}-wordWrap-${P}`;if(Fe._measurementCache.has(O))return Fe._measurementCache.get(O);const z=fontStringFromTextStyle(C),I=Fe.measureFont(z);I.fontSize===0&&(I.fontSize=C.fontSize,I.ascent=C.fontSize);const B=Fe.__context;B.font=z;const G=(P?Fe._wordWrap(_,C,A):_).split(/(?:\r\n|\r|\n)/),F=new Array(G.length);let q=0;for(let ne=0;ne<G.length;ne++){const se=Fe._measureText(G[ne],C.letterSpacing,B);F[ne]=se,q=Math.max(q,se)}const Y=C._stroke?.width||0;let W=q+Y;C.dropShadow&&(W+=C.dropShadow.distance);const Q=C.lineHeight||I.fontSize;let J=Math.max(Q,I.fontSize+Y)+(G.length-1)*(Q+C.leading);C.dropShadow&&(J+=C.dropShadow.distance);const ee=new Fe(_,C,W,J,G,F,Q+C.leading,q,I);return Fe._measurementCache.set(O,ee),ee}static _measureText(_,C,A){let P=!1;Fe.experimentalLetterSpacingSupported&&(Fe.experimentalLetterSpacing?(A.letterSpacing=`${C}px`,A.textLetterSpacing=`${C}px`,P=!0):(A.letterSpacing="0px",A.textLetterSpacing="0px"));const O=A.measureText(_);let z=O.width;const I=-O.actualBoundingBoxLeft;let U=O.actualBoundingBoxRight-I;if(z>0)if(P)z-=C,U-=C;else{const G=(Fe.graphemeSegmenter(_).length-1)*C;z+=G,U+=G}return Math.max(z,U)}static _wordWrap(_,C,A=Fe._canvas){const P=A.getContext("2d",contextSettings);let O=0,z="",I="";const B=Object.create(null),{letterSpacing:U,whiteSpace:G}=C,F=Fe._collapseSpaces(G),q=Fe._collapseNewlines(G);let Y=!F;const W=C.wordWrapWidth+U,Q=Fe._tokenize(_);for(let J=0;J<Q.length;J++){let ee=Q[J];if(Fe._isNewline(ee)){if(!q){I+=Fe._addLine(z),Y=!F,z="",O=0;continue}ee=" "}if(F){const se=Fe.isBreakingSpace(ee),ie=Fe.isBreakingSpace(z[z.length-1]);if(se&&ie)continue}const ne=Fe._getFromCache(ee,U,B,P);if(ne>W)if(z!==""&&(I+=Fe._addLine(z),z="",O=0),Fe.canBreakWords(ee,C.breakWords)){const se=Fe.wordWrapSplit(ee);for(let ie=0;ie<se.length;ie++){let fe=se[ie],me=fe,le=1;for(;se[ie+le];){const ae=se[ie+le];if(!Fe.canBreakChars(me,ae,ee,ie,C.breakWords))fe+=ae;else break;me=ae,le++}ie+=le-1;const te=Fe._getFromCache(fe,U,B,P);te+O>W&&(I+=Fe._addLine(z),Y=!1,z="",O=0),z+=fe,O+=te}}else{z.length>0&&(I+=Fe._addLine(z),z="",O=0);const se=J===Q.length-1;I+=Fe._addLine(ee,!se),Y=!1,z="",O=0}else ne+O>W&&(Y=!1,I+=Fe._addLine(z),z="",O=0),(z.length>0||!Fe.isBreakingSpace(ee)||Y)&&(z+=ee,O+=ne)}return I+=Fe._addLine(z,!1),I}static _addLine(_,C=!0){return _=Fe._trimRight(_),_=C?`${_}
`:_,_}static _getFromCache(_,C,A,P){let O=A[_];return typeof O!="number"&&(O=Fe._measureText(_,C,P)+C,A[_]=O),O}static _collapseSpaces(_){return _==="normal"||_==="pre-line"}static _collapseNewlines(_){return _==="normal"}static _trimRight(_){if(typeof _!="string")return"";for(let C=_.length-1;C>=0;C--){const A=_[C];if(!Fe.isBreakingSpace(A))break;_=_.slice(0,-1)}return _}static _isNewline(_){return typeof _!="string"?!1:Fe._newlines.includes(_.charCodeAt(0))}static isBreakingSpace(_,C){return typeof _!="string"?!1:Fe._breakingSpaces.includes(_.charCodeAt(0))}static _tokenize(_){const C=[];let A="";if(typeof _!="string")return C;for(let P=0;P<_.length;P++){const O=_[P],z=_[P+1];if(Fe.isBreakingSpace(O,z)||Fe._isNewline(O)){A!==""&&(C.push(A),A=""),O==="\r"&&z===`
`?(C.push(`\r
`),P++):C.push(O);continue}A+=O}return A!==""&&C.push(A),C}static canBreakWords(_,C){return C}static canBreakChars(_,C,A,P,O){return!0}static wordWrapSplit(_){return Fe.graphemeSegmenter(_)}static measureFont(_){if(Fe._fonts[_])return Fe._fonts[_];const C=Fe._context;C.font=_;const A=C.measureText(Fe.METRICS_STRING+Fe.BASELINE_SYMBOL),P={ascent:A.actualBoundingBoxAscent,descent:A.actualBoundingBoxDescent,fontSize:A.actualBoundingBoxAscent+A.actualBoundingBoxDescent};return Fe._fonts[_]=P,P}static clearMetrics(_=""){_?delete Fe._fonts[_]:Fe._fonts={}}static get _canvas(){if(!Fe.__canvas){let _;try{const C=new OffscreenCanvas(0,0);if(C.getContext("2d",contextSettings)?.measureText)return Fe.__canvas=C,C;_=DOMAdapter.get().createCanvas()}catch{_=DOMAdapter.get().createCanvas()}_.width=_.height=10,Fe.__canvas=_}return Fe.__canvas}static get _context(){return Fe.__context||(Fe.__context=Fe._canvas.getContext("2d",contextSettings)),Fe.__context}};_CanvasTextMetrics.METRICS_STRING="|q";_CanvasTextMetrics.BASELINE_SYMBOL="M";_CanvasTextMetrics.BASELINE_MULTIPLIER=1.4;_CanvasTextMetrics.HEIGHT_MULTIPLIER=2;_CanvasTextMetrics.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const E=new Intl.Segmenter;return _=>{const C=E.segment(_),A=[];let P=0;for(const O of C)A[P++]=O.segment;return A}}return E=>[...E]})();_CanvasTextMetrics.experimentalLetterSpacing=!1;_CanvasTextMetrics._fonts={};_CanvasTextMetrics._newlines=[10,13];_CanvasTextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];_CanvasTextMetrics._measurementCache=lru(1e3);let CanvasTextMetrics=_CanvasTextMetrics;const emptyColorStops=[{offset:0,color:"white"},{offset:1,color:"black"}],_FillGradient=class Kl{constructor(..._){this.uid=uid("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let C=ensureGradientOptions(_);C={...C.type==="radial"?Kl.defaultRadialOptions:Kl.defaultLinearOptions,...definedProps(C)},this._textureSize=C.textureSize,this._wrapMode=C.wrapMode,C.type==="radial"?(this.center=C.center,this.outerCenter=C.outerCenter??this.center,this.innerRadius=C.innerRadius,this.outerRadius=C.outerRadius,this.scale=C.scale,this.rotation=C.rotation):(this.start=C.start,this.end=C.end),this.textureSpace=C.textureSpace,this.type=C.type,C.colorStops.forEach(P=>{this.addColorStop(P.offset,P.color)})}addColorStop(_,C){return this.colorStops.push({offset:_,color:Color.shared.setValue(C).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:_,y:C}=this.start,{x:A,y:P}=this.end,O=A-_,z=P-C;const I=O<0||z<0;if(this._wrapMode==="clamp-to-edge"){if(O<0){const J=_;_=A,A=J,O*=-1}if(z<0){const J=C;C=P,P=J,z*=-1}}const B=this.colorStops.length?this.colorStops:emptyColorStops,U=this._textureSize,{canvas:G,context:F}=getCanvas(U,1),q=I?F.createLinearGradient(this._textureSize,0,0,0):F.createLinearGradient(0,0,this._textureSize,0);addColorStops(q,B),F.fillStyle=q,F.fillRect(0,0,U,1),this.texture=new Texture({source:new ImageSource({resource:G,addressMode:this._wrapMode})});const Y=Math.sqrt(O*O+z*z),W=Math.atan2(z,O),Q=new Matrix;Q.scale(Y/U,1),Q.rotate(W),Q.translate(_,C),this.textureSpace==="local"&&Q.scale(U,U),this.transform=Q}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const _=this.colorStops.length?this.colorStops:emptyColorStops,C=this._textureSize,{canvas:A,context:P}=getCanvas(C,C),{x:O,y:z}=this.center,{x:I,y:B}=this.outerCenter,U=this.innerRadius,G=this.outerRadius,F=I-G,q=B-G,Y=C/(G*2),W=(O-F)*Y,Q=(z-q)*Y,J=P.createRadialGradient(W,Q,U*Y,(I-F)*Y,(B-q)*Y,G*Y);addColorStops(J,_),P.fillStyle=_[_.length-1].color,P.fillRect(0,0,C,C),P.fillStyle=J,P.translate(W,Q),P.rotate(this.rotation),P.scale(1,this.scale),P.translate(-W,-Q),P.fillRect(0,0,C,C),this.texture=new Texture({source:new ImageSource({resource:A,addressMode:this._wrapMode})});const ee=new Matrix;ee.scale(1/Y,1/Y),ee.translate(F,q),this.textureSpace==="local"&&ee.scale(C,C),this.transform=ee}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};_FillGradient.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};_FillGradient.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let FillGradient=_FillGradient;function addColorStops(E,_){for(let C=0;C<_.length;C++){const A=_[C];E.addColorStop(A.offset,A.color)}}function getCanvas(E,_){const C=DOMAdapter.get().createCanvas(E,_),A=C.getContext("2d");return{canvas:C,context:A}}function ensureGradientOptions(E){let _=E[0]??{};return(typeof _=="number"||E[1])&&(deprecation("8.5.2","use options object instead"),_={type:"linear",start:{x:E[0],y:E[1]},end:{x:E[2],y:E[3]},textureSpace:E[4],textureSize:E[5]??FillGradient.defaultLinearOptions.textureSize}),_}const repetitionMap={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class FillPattern{constructor(_,C){this.uid=uid("fillPattern"),this._tick=0,this.transform=new Matrix,this.texture=_,this.transform.scale(1/_.frame.width,1/_.frame.height),C&&(_.source.style.addressModeU=repetitionMap[C].addressModeU,_.source.style.addressModeV=repetitionMap[C].addressModeV)}setTransform(_){const C=this.texture;this.transform.copyFrom(_),this.transform.invert(),this.transform.scale(1/C.frame.width,1/C.frame.height),this._tick++}get texture(){return this._texture}set texture(_){this._texture!==_&&(this._texture=_,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var parseSvgPath,hasRequiredParseSvgPath;function requireParseSvgPath(){if(hasRequiredParseSvgPath)return parseSvgPath;hasRequiredParseSvgPath=1,parseSvgPath=C;var E={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},_=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function C(O){var z=[];return O.replace(_,function(I,B,U){var G=B.toLowerCase();for(U=P(U),G=="m"&&U.length>2&&(z.push([B].concat(U.splice(0,2))),G="l",B=B=="m"?"l":"L");;){if(U.length==E[G])return U.unshift(B),z.push(U);if(U.length<E[G])throw new Error("malformed path data");z.push([B].concat(U.splice(0,E[G])))}}),z}var A=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function P(O){var z=O.match(A);return z?z.map(Number):[]}return parseSvgPath}var parseSvgPathExports=requireParseSvgPath();const parse$3=getDefaultExportFromCjs(parseSvgPathExports);function parseSVGPath(E,_){const C=parse$3(E),A=[];let P=null,O=0,z=0;for(let I=0;I<C.length;I++){const B=C[I],U=B[0],G=B;switch(U){case"M":O=G[1],z=G[2],_.moveTo(O,z);break;case"m":O+=G[1],z+=G[2],_.moveTo(O,z);break;case"H":O=G[1],_.lineTo(O,z);break;case"h":O+=G[1],_.lineTo(O,z);break;case"V":z=G[1],_.lineTo(O,z);break;case"v":z+=G[1],_.lineTo(O,z);break;case"L":O=G[1],z=G[2],_.lineTo(O,z);break;case"l":O+=G[1],z+=G[2],_.lineTo(O,z);break;case"C":O=G[5],z=G[6],_.bezierCurveTo(G[1],G[2],G[3],G[4],O,z);break;case"c":_.bezierCurveTo(O+G[1],z+G[2],O+G[3],z+G[4],O+G[5],z+G[6]),O+=G[5],z+=G[6];break;case"S":O=G[3],z=G[4],_.bezierCurveToShort(G[1],G[2],O,z);break;case"s":_.bezierCurveToShort(O+G[1],z+G[2],O+G[3],z+G[4]),O+=G[3],z+=G[4];break;case"Q":O=G[3],z=G[4],_.quadraticCurveTo(G[1],G[2],O,z);break;case"q":_.quadraticCurveTo(O+G[1],z+G[2],O+G[3],z+G[4]),O+=G[3],z+=G[4];break;case"T":O=G[1],z=G[2],_.quadraticCurveToShort(O,z);break;case"t":O+=G[1],z+=G[2],_.quadraticCurveToShort(O,z);break;case"A":O=G[6],z=G[7],_.arcToSvg(G[1],G[2],G[3],G[4],G[5],O,z);break;case"a":O+=G[6],z+=G[7],_.arcToSvg(G[1],G[2],G[3],G[4],G[5],O,z);break;case"Z":case"z":_.closePath(),A.length>0&&(P=A.pop(),P?(O=P.startX,z=P.startY):(O=0,z=0)),P=null;break;default:warn(`Unknown SVG path command: ${U}`)}U!=="Z"&&U!=="z"&&P===null&&(P={startX:O,startY:z},A.push(P))}return _}class Circle{constructor(_=0,C=0,A=0){this.type="circle",this.x=_,this.y=C,this.radius=A}clone(){return new Circle(this.x,this.y,this.radius)}contains(_,C){if(this.radius<=0)return!1;const A=this.radius*this.radius;let P=this.x-_,O=this.y-C;return P*=P,O*=O,P+O<=A}strokeContains(_,C,A,P=.5){if(this.radius===0)return!1;const O=this.x-_,z=this.y-C,I=this.radius,B=(1-P)*A,U=Math.sqrt(O*O+z*z);return U<=I+B&&U>I-(A-B)}getBounds(_){return _||(_=new Rectangle),_.x=this.x-this.radius,_.y=this.y-this.radius,_.width=this.radius*2,_.height=this.radius*2,_}copyFrom(_){return this.x=_.x,this.y=_.y,this.radius=_.radius,this}copyTo(_){return _.copyFrom(this),_}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Ellipse{constructor(_=0,C=0,A=0,P=0){this.type="ellipse",this.x=_,this.y=C,this.halfWidth=A,this.halfHeight=P}clone(){return new Ellipse(this.x,this.y,this.halfWidth,this.halfHeight)}contains(_,C){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let A=(_-this.x)/this.halfWidth,P=(C-this.y)/this.halfHeight;return A*=A,P*=P,A+P<=1}strokeContains(_,C,A,P=.5){const{halfWidth:O,halfHeight:z}=this;if(O<=0||z<=0)return!1;const I=A*(1-P),B=A-I,U=O-B,G=z-B,F=O+I,q=z+I,Y=_-this.x,W=C-this.y,Q=Y*Y/(U*U)+W*W/(G*G),J=Y*Y/(F*F)+W*W/(q*q);return Q>1&&J<=1}getBounds(_){return _||(_=new Rectangle),_.x=this.x-this.halfWidth,_.y=this.y-this.halfHeight,_.width=this.halfWidth*2,_.height=this.halfHeight*2,_}copyFrom(_){return this.x=_.x,this.y=_.y,this.halfWidth=_.halfWidth,this.halfHeight=_.halfHeight,this}copyTo(_){return _.copyFrom(this),_}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function squaredDistanceToLineSegment(E,_,C,A,P,O){const z=E-C,I=_-A,B=P-C,U=O-A,G=z*B+I*U,F=B*B+U*U;let q=-1;F!==0&&(q=G/F);let Y,W;q<0?(Y=C,W=A):q>1?(Y=P,W=O):(Y=C+q*B,W=A+q*U);const Q=E-Y,J=_-W;return Q*Q+J*J}let tempRect$3,tempRect2;class Polygon{constructor(..._){this.type="polygon";let C=Array.isArray(_[0])?_[0]:_;if(typeof C[0]!="number"){const A=[];for(let P=0,O=C.length;P<O;P++)A.push(C[P].x,C[P].y);C=A}this.points=C,this.closePath=!0}isClockwise(){let _=0;const C=this.points,A=C.length;for(let P=0;P<A;P+=2){const O=C[P],z=C[P+1],I=C[(P+2)%A],B=C[(P+3)%A];_+=(I-O)*(B+z)}return _<0}containsPolygon(_){const C=this.getBounds(tempRect$3),A=_.getBounds(tempRect2);if(!C.containsRect(A))return!1;const P=_.points;for(let O=0;O<P.length;O+=2){const z=P[O],I=P[O+1];if(!this.contains(z,I))return!1}return!0}clone(){const _=this.points.slice(),C=new Polygon(_);return C.closePath=this.closePath,C}contains(_,C){let A=!1;const P=this.points.length/2;for(let O=0,z=P-1;O<P;z=O++){const I=this.points[O*2],B=this.points[O*2+1],U=this.points[z*2],G=this.points[z*2+1];B>C!=G>C&&_<(U-I)*((C-B)/(G-B))+I&&(A=!A)}return A}strokeContains(_,C,A,P=.5){const O=A*A,z=O*(1-P),I=O-z,{points:B}=this,U=B.length-(this.closePath?0:2);for(let G=0;G<U;G+=2){const F=B[G],q=B[G+1],Y=B[(G+2)%B.length],W=B[(G+3)%B.length],Q=squaredDistanceToLineSegment(_,C,F,q,Y,W),J=Math.sign((Y-F)*(C-q)-(W-q)*(_-F));if(Q<=(J<0?I:z))return!0}return!1}getBounds(_){_||(_=new Rectangle);const C=this.points;let A=1/0,P=-1/0,O=1/0,z=-1/0;for(let I=0,B=C.length;I<B;I+=2){const U=C[I],G=C[I+1];A=U<A?U:A,P=U>P?U:P,O=G<O?G:O,z=G>z?G:z}return _.x=A,_.width=P-A,_.y=O,_.height=z-O,_}copyFrom(_){return this.points=_.points.slice(),this.closePath=_.closePath,this}copyTo(_){return _.copyFrom(this),_}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((_,C)=>`${_}, ${C}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return deprecation("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return deprecation("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const isCornerWithinStroke=(E,_,C,A,P,O,z)=>{const I=E-C,B=_-A,U=Math.sqrt(I*I+B*B);return U>=P-O&&U<=P+z};class RoundedRectangle{constructor(_=0,C=0,A=0,P=0,O=20){this.type="roundedRectangle",this.x=_,this.y=C,this.width=A,this.height=P,this.radius=O}getBounds(_){return _||(_=new Rectangle),_.x=this.x,_.y=this.y,_.width=this.width,_.height=this.height,_}clone(){return new RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)}copyFrom(_){return this.x=_.x,this.y=_.y,this.width=_.width,this.height=_.height,this}copyTo(_){return _.copyFrom(this),_}contains(_,C){if(this.width<=0||this.height<=0)return!1;if(_>=this.x&&_<=this.x+this.width&&C>=this.y&&C<=this.y+this.height){const A=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(C>=this.y+A&&C<=this.y+this.height-A||_>=this.x+A&&_<=this.x+this.width-A)return!0;let P=_-(this.x+A),O=C-(this.y+A);const z=A*A;if(P*P+O*O<=z||(P=_-(this.x+this.width-A),P*P+O*O<=z)||(O=C-(this.y+this.height-A),P*P+O*O<=z)||(P=_-(this.x+A),P*P+O*O<=z))return!0}return!1}strokeContains(_,C,A,P=.5){const{x:O,y:z,width:I,height:B,radius:U}=this,G=A*(1-P),F=A-G,q=O+U,Y=z+U,W=I-U*2,Q=B-U*2,J=O+I,ee=z+B;return(_>=O-G&&_<=O+F||_>=J-F&&_<=J+G)&&C>=Y&&C<=Y+Q||(C>=z-G&&C<=z+F||C>=ee-F&&C<=ee+G)&&_>=q&&_<=q+W?!0:_<q&&C<Y&&isCornerWithinStroke(_,C,q,Y,U,F,G)||_>J-U&&C<Y&&isCornerWithinStroke(_,C,J-U,Y,U,F,G)||_>J-U&&C>ee-U&&isCornerWithinStroke(_,C,J-U,ee-U,U,F,G)||_<q&&C>ee-U&&isCornerWithinStroke(_,C,q,ee-U,U,F,G)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const cachedGroups={};function getTextureBatchBindGroup(E,_,C){let A=2166136261;for(let P=0;P<_;P++)A^=E[P].uid,A=Math.imul(A,16777619),A>>>=0;return cachedGroups[A]||generateTextureBatchBindGroup(E,_,A,C)}function generateTextureBatchBindGroup(E,_,C,A){const P={};let O=0;for(let I=0;I<A;I++){const B=I<_?E[I]:Texture.EMPTY.source;P[O++]=B.source,P[O++]=B.style}const z=new BindGroup(P);return cachedGroups[C]=z,z}class ViewableBuffer{constructor(_){typeof _=="number"?this.rawBinaryData=new ArrayBuffer(_):_ instanceof Uint8Array?this.rawBinaryData=_.buffer:this.rawBinaryData=_,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(_){return this[`${_}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(_){switch(_){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${_} isn't a valid view type`)}}}function fastCopy(E,_){const C=E.byteLength/8|0,A=new Float64Array(E,0,C);new Float64Array(_,0,C).set(A);const O=E.byteLength-C*8;if(O>0){const z=new Uint8Array(E,C*8,O);new Uint8Array(_,C*8,O).set(z)}}const BLEND_TO_NPM={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var STENCIL_MODES=(E=>(E[E.DISABLED=0]="DISABLED",E[E.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",E[E.MASK_ACTIVE=2]="MASK_ACTIVE",E[E.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",E[E.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",E[E.NONE=5]="NONE",E))(STENCIL_MODES||{});function getAdjustedBlendModeBlend(E,_){return _.alphaMode==="no-premultiply-alpha"&&BLEND_TO_NPM[E]||E}const fragTemplate=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function generateIfTestSrc(E){let _="";for(let C=0;C<E;++C)C>0&&(_+=`
else `),C<E-1&&(_+=`if(test == ${C}.0){}`);return _}function checkMaxIfStatementsInShader(E,_){if(E===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const C=_.createShader(_.FRAGMENT_SHADER);try{for(;;){const A=fragTemplate.replace(/%forloop%/gi,generateIfTestSrc(E));if(_.shaderSource(C,A),_.compileShader(C),!_.getShaderParameter(C,_.COMPILE_STATUS))E=E/2|0;else break}}finally{_.deleteShader(C)}return E}let maxTexturesPerBatchCache=null;function getMaxTexturesPerBatch(){if(maxTexturesPerBatchCache)return maxTexturesPerBatchCache;const E=getTestContext();return maxTexturesPerBatchCache=E.getParameter(E.MAX_TEXTURE_IMAGE_UNITS),maxTexturesPerBatchCache=checkMaxIfStatementsInShader(maxTexturesPerBatchCache,E),E.getExtension("WEBGL_lose_context")?.loseContext(),maxTexturesPerBatchCache}class BatchTextureArray{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let _=0;_<this.count;_++){const C=this.textures[_];this.textures[_]=null,this.ids[C.uid]=null}this.count=0}}class Batch{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new BatchTextureArray,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const batchPool=[];let batchPoolIndex=0;GlobalResourceRegistry.register({clear:()=>{if(batchPool.length>0)for(const E of batchPool)E&&E.destroy();batchPool.length=0,batchPoolIndex=0}});function getBatchFromPool(){return batchPoolIndex>0?batchPool[--batchPoolIndex]:new Batch}function returnBatchToPool(E){batchPool[batchPoolIndex++]=E}let BATCH_TICK=0;const _Batcher=class td{constructor(_){this.uid=uid("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],_={...td.defaultOptions,..._},_.maxTextures||(deprecation("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),_.maxTextures=getMaxTexturesPerBatch());const{maxTextures:C,attributesInitialSize:A,indicesInitialSize:P}=_;this.attributeBuffer=new ViewableBuffer(A*4),this.indexBuffer=new Uint16Array(P),this.maxTextures=C}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let _=0;_<this.batchIndex;_++)returnBatchToPool(this.batches[_]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(_){this._elements[this.elementSize++]=_,_._indexStart=this.indexSize,_._attributeStart=this.attributeSize,_._batcher=this,this.indexSize+=_.indexSize,this.attributeSize+=_.attributeSize*this.vertexSize}checkAndUpdateTexture(_,C){const A=_._batch.textures.ids[C._source.uid];return!A&&A!==0?!1:(_._textureId=A,_.texture=C,!0)}updateElement(_){this.dirty=!0;const C=this.attributeBuffer;_.packAsQuad?this.packQuadAttributes(_,C.float32View,C.uint32View,_._attributeStart,_._textureId):this.packAttributes(_,C.float32View,C.uint32View,_._attributeStart,_._textureId)}break(_){const C=this._elements;if(!C[this.elementStart])return;let A=getBatchFromPool(),P=A.textures;P.clear();const O=C[this.elementStart];let z=getAdjustedBlendModeBlend(O.blendMode,O.texture._source),I=O.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const B=this.attributeBuffer.float32View,U=this.attributeBuffer.uint32View,G=this.indexBuffer;let F=this._batchIndexSize,q=this._batchIndexStart,Y="startBatch";const W=this.maxTextures;for(let Q=this.elementStart;Q<this.elementSize;++Q){const J=C[Q];C[Q]=null;const ne=J.texture._source,se=getAdjustedBlendModeBlend(J.blendMode,ne),ie=z!==se||I!==J.topology;if(ne._batchTick===BATCH_TICK&&!ie){J._textureId=ne._textureBindLocation,F+=J.indexSize,J.packAsQuad?(this.packQuadAttributes(J,B,U,J._attributeStart,J._textureId),this.packQuadIndex(G,J._indexStart,J._attributeStart/this.vertexSize)):(this.packAttributes(J,B,U,J._attributeStart,J._textureId),this.packIndex(J,G,J._indexStart,J._attributeStart/this.vertexSize)),J._batch=A;continue}ne._batchTick=BATCH_TICK,(P.count>=W||ie)&&(this._finishBatch(A,q,F-q,P,z,I,_,Y),Y="renderBatch",q=F,z=se,I=J.topology,A=getBatchFromPool(),P=A.textures,P.clear(),++BATCH_TICK),J._textureId=ne._textureBindLocation=P.count,P.ids[ne.uid]=P.count,P.textures[P.count++]=ne,J._batch=A,F+=J.indexSize,J.packAsQuad?(this.packQuadAttributes(J,B,U,J._attributeStart,J._textureId),this.packQuadIndex(G,J._indexStart,J._attributeStart/this.vertexSize)):(this.packAttributes(J,B,U,J._attributeStart,J._textureId),this.packIndex(J,G,J._indexStart,J._attributeStart/this.vertexSize))}P.count>0&&(this._finishBatch(A,q,F-q,P,z,I,_,Y),q=F,++BATCH_TICK),this.elementStart=this.elementSize,this._batchIndexStart=q,this._batchIndexSize=F}_finishBatch(_,C,A,P,O,z,I,B){_.gpuBindGroup=null,_.bindGroup=null,_.action=B,_.batcher=this,_.textures=P,_.blendMode=O,_.topology=z,_.start=C,_.size=A,++BATCH_TICK,this.batches[this.batchIndex++]=_,I.add(_)}finish(_){this.break(_)}ensureAttributeBuffer(_){_*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(_*4)}ensureIndexBuffer(_){_<=this.indexBuffer.length||this._resizeIndexBuffer(_)}_resizeAttributeBuffer(_){const C=Math.max(_,this.attributeBuffer.size*2),A=new ViewableBuffer(C);fastCopy(this.attributeBuffer.rawBinaryData,A.rawBinaryData),this.attributeBuffer=A}_resizeIndexBuffer(_){const C=this.indexBuffer;let A=Math.max(_,C.length*1.5);A+=A%2;const P=A>65535?new Uint32Array(A):new Uint16Array(A);if(P.BYTES_PER_ELEMENT!==C.BYTES_PER_ELEMENT)for(let O=0;O<C.length;O++)P[O]=C[O];else fastCopy(C.buffer,P.buffer);this.indexBuffer=P}packQuadIndex(_,C,A){_[C]=A+0,_[C+1]=A+1,_[C+2]=A+2,_[C+3]=A+0,_[C+4]=A+2,_[C+5]=A+3}packIndex(_,C,A,P){const O=_.indices,z=_.indexSize,I=_.indexOffset,B=_.attributeOffset;for(let U=0;U<z;U++)C[A++]=P+O[U+I]-B}destroy(_={}){if(this.batches!==null){for(let C=0;C<this.batches.length;C++)returnBatchToPool(this.batches[C]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,_.shader&&(this.shader?.destroy(),this.shader=null);for(let C=0;C<this._elements.length;C++)this._elements[C]&&(this._elements[C]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};_Batcher.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let Batcher=_Batcher;var BufferUsage=(E=>(E[E.MAP_READ=1]="MAP_READ",E[E.MAP_WRITE=2]="MAP_WRITE",E[E.COPY_SRC=4]="COPY_SRC",E[E.COPY_DST=8]="COPY_DST",E[E.INDEX=16]="INDEX",E[E.VERTEX=32]="VERTEX",E[E.UNIFORM=64]="UNIFORM",E[E.STORAGE=128]="STORAGE",E[E.INDIRECT=256]="INDIRECT",E[E.QUERY_RESOLVE=512]="QUERY_RESOLVE",E[E.STATIC=1024]="STATIC",E))(BufferUsage||{});let Buffer$2=class extends EventEmitter{constructor(_){let{data:C,size:A}=_;const{usage:P,label:O,shrinkToFit:z}=_;super(),this.uid=uid("buffer"),this._resourceType="buffer",this._resourceId=uid("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,C instanceof Array&&(C=new Float32Array(C)),this._data=C,A??(A=C?.byteLength);const I=!!C;this.descriptor={size:A,usage:P,mappedAtCreation:I,label:O},this.shrinkToFit=z??!0}get data(){return this._data}set data(_){this.setDataWithSize(_,_.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&BufferUsage.STATIC)}set static(_){_?this.descriptor.usage|=BufferUsage.STATIC:this.descriptor.usage&=~BufferUsage.STATIC}setDataWithSize(_,C,A){if(this._updateID++,this._updateSize=C*_.BYTES_PER_ELEMENT,this._data===_){A&&this.emit("update",this);return}const P=this._data;if(this._data=_,this._dataInt32=null,!P||P.length!==_.length){!this.shrinkToFit&&P&&_.byteLength<P.byteLength?A&&this.emit("update",this):(this.descriptor.size=_.byteLength,this._resourceId=uid("resource"),this.emit("change",this));return}A&&this.emit("update",this)}update(_){this._updateSize=_??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}};function ensureIsBuffer(E,_){if(!(E instanceof Buffer$2)){let C=_?BufferUsage.INDEX:BufferUsage.VERTEX;E instanceof Array&&(_?(E=new Uint32Array(E),C=BufferUsage.INDEX|BufferUsage.COPY_DST):(E=new Float32Array(E),C=BufferUsage.VERTEX|BufferUsage.COPY_DST)),E=new Buffer$2({data:E,label:_?"index-mesh-buffer":"vertex-mesh-buffer",usage:C})}return E}function getGeometryBounds(E,_,C){const A=E.getAttribute(_);if(!A)return C.minX=0,C.minY=0,C.maxX=0,C.maxY=0,C;const P=A.buffer.data;let O=1/0,z=1/0,I=-1/0,B=-1/0;const U=P.BYTES_PER_ELEMENT,G=(A.offset||0)/U,F=(A.stride||8)/U;for(let q=G;q<P.length;q+=F){const Y=P[q],W=P[q+1];Y>I&&(I=Y),W>B&&(B=W),Y<O&&(O=Y),W<z&&(z=W)}return C.minX=O,C.minY=z,C.maxX=I,C.maxY=B,C}function ensureIsAttribute(E){return(E instanceof Buffer$2||Array.isArray(E)||E.BYTES_PER_ELEMENT)&&(E={buffer:E}),E.buffer=ensureIsBuffer(E.buffer,!1),E}class Geometry extends EventEmitter{constructor(_={}){super(),this.uid=uid("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Bounds,this._boundsDirty=!0;const{attributes:C,indexBuffer:A,topology:P}=_;if(this.buffers=[],this.attributes={},C)for(const O in C)this.addAttribute(O,C[O]);this.instanceCount=_.instanceCount??1,A&&this.addIndex(A),this.topology=P||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(_){return this.attributes[_]}getIndex(){return this.indexBuffer}getBuffer(_){return this.getAttribute(_).buffer}getSize(){for(const _ in this.attributes){const C=this.attributes[_];return C.buffer.data.length/(C.stride/4||C.size)}return 0}addAttribute(_,C){const A=ensureIsAttribute(C);this.buffers.indexOf(A.buffer)===-1&&(this.buffers.push(A.buffer),A.buffer.on("update",this.onBufferUpdate,this),A.buffer.on("change",this.onBufferUpdate,this)),this.attributes[_]=A}addIndex(_){this.indexBuffer=ensureIsBuffer(_,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,getGeometryBounds(this,"aPosition",this._bounds)):this._bounds}destroy(_=!1){this.emit("destroy",this),this.removeAllListeners(),_&&this.buffers.forEach(C=>C.destroy()),this.indexBuffer?.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const placeHolderBufferData=new Float32Array(1),placeHolderIndexData=new Uint32Array(1);class BatchGeometry extends Geometry{constructor(){const C=new Buffer$2({data:placeHolderBufferData,label:"attribute-batch-buffer",usage:BufferUsage.VERTEX|BufferUsage.COPY_DST,shrinkToFit:!1}),A=new Buffer$2({data:placeHolderIndexData,label:"index-batch-buffer",usage:BufferUsage.INDEX|BufferUsage.COPY_DST,shrinkToFit:!1}),P=24;super({attributes:{aPosition:{buffer:C,format:"float32x2",stride:P,offset:0},aUV:{buffer:C,format:"float32x2",stride:P,offset:8},aColor:{buffer:C,format:"unorm8x4",stride:P,offset:16},aTextureIdAndRound:{buffer:C,format:"uint16x2",stride:P,offset:20}},indexBuffer:A})}}function addBits(E,_,C){if(E)for(const A in E){const P=A.toLocaleLowerCase(),O=_[P];if(O){let z=E[A];A==="header"&&(z=z.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),C&&O.push(`//----${C}----//`),O.push(z)}else warn(`${A} placement hook does not exist in shader`)}}const findHooksRx=/\{\{(.*?)\}\}/g;function compileHooks(E){const _={};return(E.match(findHooksRx)?.map(A=>A.replace(/[{()}]/g,""))??[]).forEach(A=>{_[A]=[]}),_}function extractInputs(E,_){let C;const A=/@in\s+([^;]+);/g;for(;(C=A.exec(E))!==null;)_.push(C[1])}function compileInputs(E,_,C=!1){const A=[];extractInputs(_,A),E.forEach(I=>{I.header&&extractInputs(I.header,A)});const P=A;C&&P.sort();const O=P.map((I,B)=>`       @location(${B}) ${I},`).join(`
`);let z=_.replace(/@in\s+[^;]+;\s*/g,"");return z=z.replace("{{in}}",`
${O}
`),z}function extractOutputs(E,_){let C;const A=/@out\s+([^;]+);/g;for(;(C=A.exec(E))!==null;)_.push(C[1])}function extractVariableName(E){const C=/\b(\w+)\s*:/g.exec(E);return C?C[1]:""}function stripVariable(E){const _=/@.*?\s+/g;return E.replace(_,"")}function compileOutputs(E,_){const C=[];extractOutputs(_,C),E.forEach(B=>{B.header&&extractOutputs(B.header,C)});let A=0;const P=C.sort().map(B=>B.indexOf("builtin")>-1?B:`@location(${A++}) ${B}`).join(`,
`),O=C.sort().map(B=>`       var ${stripVariable(B)};`).join(`
`),z=`return VSOutput(
            ${C.sort().map(B=>` ${extractVariableName(B)}`).join(`,
`)});`;let I=_.replace(/@out\s+[^;]+;\s*/g,"");return I=I.replace("{{struct}}",`
${P}
`),I=I.replace("{{start}}",`
${O}
`),I=I.replace("{{return}}",`
${z}
`),I}function injectBits(E,_){let C=E;for(const A in _){const P=_[A];P.join(`
`).length?C=C.replace(`{{${A}}}`,`//-----${A} START-----//
${P.join(`
`)}
//----${A} FINISH----//`):C=C.replace(`{{${A}}}`,"")}return C}const cacheMap=Object.create(null),bitCacheMap=new Map;let CACHE_UID=0;function compileHighShader({template:E,bits:_}){const C=generateCacheId(E,_);if(cacheMap[C])return cacheMap[C];const{vertex:A,fragment:P}=compileInputsAndOutputs(E,_);return cacheMap[C]=compileBits(A,P,_),cacheMap[C]}function compileHighShaderGl({template:E,bits:_}){const C=generateCacheId(E,_);return cacheMap[C]||(cacheMap[C]=compileBits(E.vertex,E.fragment,_)),cacheMap[C]}function compileInputsAndOutputs(E,_){const C=_.map(z=>z.vertex).filter(z=>!!z),A=_.map(z=>z.fragment).filter(z=>!!z);let P=compileInputs(C,E.vertex,!0);P=compileOutputs(C,P);const O=compileInputs(A,E.fragment,!0);return{vertex:P,fragment:O}}function generateCacheId(E,_){return _.map(C=>(bitCacheMap.has(C)||bitCacheMap.set(C,CACHE_UID++),bitCacheMap.get(C))).sort((C,A)=>C-A).join("-")+E.vertex+E.fragment}function compileBits(E,_,C){const A=compileHooks(E),P=compileHooks(_);return C.forEach(O=>{addBits(O.vertex,A,O.name),addBits(O.fragment,P,O.name)}),{vertex:injectBits(E,A),fragment:injectBits(_,P)}}const vertexGPUTemplate=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,fragmentGPUTemplate=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,vertexGlTemplate=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,fragmentGlTemplate=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,globalUniformsBit={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},globalUniformsBitGl={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function compileHighShaderGpuProgram({bits:E,name:_}){const C=compileHighShader({template:{fragment:fragmentGPUTemplate,vertex:vertexGPUTemplate},bits:[globalUniformsBit,...E]});return GpuProgram.from({name:_,vertex:{source:C.vertex,entryPoint:"main"},fragment:{source:C.fragment,entryPoint:"main"}})}function compileHighShaderGlProgram({bits:E,name:_}){return new GlProgram({name:_,...compileHighShaderGl({template:{vertex:vertexGlTemplate,fragment:fragmentGlTemplate},bits:[globalUniformsBitGl,...E]})})}const colorBit={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},colorBitGl={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},textureBatchBitGpuCache={};function generateBindingSrc(E){const _=[];if(E===1)_.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),_.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let C=0;for(let A=0;A<E;A++)_.push(`@group(1) @binding(${C++}) var textureSource${A+1}: texture_2d<f32>;`),_.push(`@group(1) @binding(${C++}) var textureSampler${A+1}: sampler;`)}return _.join(`
`)}function generateSampleSrc(E){const _=[];if(E===1)_.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{_.push("switch vTextureId {");for(let C=0;C<E;C++)C===E-1?_.push("  default:{"):_.push(`  case ${C}:{`),_.push(`      outColor = textureSampleGrad(textureSource${C+1}, textureSampler${C+1}, vUV, uvDx, uvDy);`),_.push("      break;}");_.push("}")}return _.join(`
`)}function generateTextureBatchBit(E){return textureBatchBitGpuCache[E]||(textureBatchBitGpuCache[E]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${generateBindingSrc(E)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${generateSampleSrc(E)}
            `}}),textureBatchBitGpuCache[E]}const textureBatchBitGlCache={};function generateSampleGlSrc(E){const _=[];for(let C=0;C<E;C++)C>0&&_.push("else"),C<E-1&&_.push(`if(vTextureId < ${C}.5)`),_.push("{"),_.push(`	outColor = texture(uTextures[${C}], vUV);`),_.push("}");return _.join(`
`)}function generateTextureBatchBitGl(E){return textureBatchBitGlCache[E]||(textureBatchBitGlCache[E]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${E}];

            `,main:`

                ${generateSampleGlSrc(E)}
            `}}),textureBatchBitGlCache[E]}const roundPixelsBit={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},roundPixelsBitGl={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},batchSamplersUniformGroupHash={};function getBatchSamplersUniformGroup(E){let _=batchSamplersUniformGroupHash[E];if(_)return _;const C=new Int32Array(E);for(let A=0;A<E;A++)C[A]=A;return _=batchSamplersUniformGroupHash[E]=new UniformGroup({uTextures:{value:C,type:"i32",size:E}},{isStatic:!0}),_}class DefaultShader extends Shader{constructor(_){const C=compileHighShaderGlProgram({name:"batch",bits:[colorBitGl,generateTextureBatchBitGl(_),roundPixelsBitGl]}),A=compileHighShaderGpuProgram({name:"batch",bits:[colorBit,generateTextureBatchBit(_),roundPixelsBit]});super({glProgram:C,gpuProgram:A,resources:{batchSamplers:getBatchSamplersUniformGroup(_)}}),this.maxTextures=_}}let defaultShader=null;const _DefaultBatcher=class rd extends Batcher{constructor(_){super(_),this.geometry=new BatchGeometry,this.name=rd.extension.name,this.vertexSize=6,defaultShader??(defaultShader=new DefaultShader(_.maxTextures)),this.shader=defaultShader}packAttributes(_,C,A,P,O){const z=O<<16|_.roundPixels&65535,I=_.transform,B=I.a,U=I.b,G=I.c,F=I.d,q=I.tx,Y=I.ty,{positions:W,uvs:Q}=_,J=_.color,ee=_.attributeOffset,ne=ee+_.attributeSize;for(let se=ee;se<ne;se++){const ie=se*2,fe=W[ie],me=W[ie+1];C[P++]=B*fe+G*me+q,C[P++]=F*me+U*fe+Y,C[P++]=Q[ie],C[P++]=Q[ie+1],A[P++]=J,A[P++]=z}}packQuadAttributes(_,C,A,P,O){const z=_.texture,I=_.transform,B=I.a,U=I.b,G=I.c,F=I.d,q=I.tx,Y=I.ty,W=_.bounds,Q=W.maxX,J=W.minX,ee=W.maxY,ne=W.minY,se=z.uvs,ie=_.color,fe=O<<16|_.roundPixels&65535;C[P+0]=B*J+G*ne+q,C[P+1]=F*ne+U*J+Y,C[P+2]=se.x0,C[P+3]=se.y0,A[P+4]=ie,A[P+5]=fe,C[P+6]=B*Q+G*ne+q,C[P+7]=F*ne+U*Q+Y,C[P+8]=se.x1,C[P+9]=se.y1,A[P+10]=ie,A[P+11]=fe,C[P+12]=B*Q+G*ee+q,C[P+13]=F*ee+U*Q+Y,C[P+14]=se.x2,C[P+15]=se.y2,A[P+16]=ie,A[P+17]=fe,C[P+18]=B*J+G*ee+q,C[P+19]=F*ee+U*J+Y,C[P+20]=se.x3,C[P+21]=se.y3,A[P+22]=ie,A[P+23]=fe}_updateMaxTextures(_){this.shader.maxTextures!==_&&(defaultShader=new DefaultShader(_),this.shader=defaultShader)}destroy(){this.shader=null,super.destroy()}};_DefaultBatcher.extension={type:[ExtensionType.Batcher],name:"default"};let DefaultBatcher=_DefaultBatcher;function buildUvs(E,_,C,A,P,O,z,I=null){let B=0;C*=_,P*=O;const U=I.a,G=I.b,F=I.c,q=I.d,Y=I.tx,W=I.ty;for(;B<z;){const Q=E[C],J=E[C+1];A[P]=U*Q+F*J+Y,A[P+1]=G*Q+q*J+W,P+=O,C+=_,B++}}function buildSimpleUvs(E,_,C,A){let P=0;for(_*=C;P<A;)E[_]=0,E[_+1]=0,_+=C,P++}function transformVertices(E,_,C,A,P){const O=_.a,z=_.b,I=_.c,B=_.d,U=_.tx,G=_.ty;C||(C=0),A||(A=2),P||(P=E.length/A-C);let F=C*A;for(let q=0;q<P;q++){const Y=E[F],W=E[F+1];E[F]=O*Y+I*W+U,E[F+1]=z*Y+B*W+G,F+=A}}const identityMatrix=new Matrix;class BatchableGraphics{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const _=this.baseColor,C=_>>16|_&65280|(_&255)<<16,A=this.renderable;return A?multiplyHexColors(C,A.groupColor)+(this.alpha*A.groupAlpha*255<<24):C+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||identityMatrix}copyTo(_){_.indexOffset=this.indexOffset,_.indexSize=this.indexSize,_.attributeOffset=this.attributeOffset,_.attributeSize=this.attributeSize,_.baseColor=this.baseColor,_.alpha=this.alpha,_.texture=this.texture,_.geometryData=this.geometryData,_.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const buildCircle={extension:{type:ExtensionType.ShapeBuilder,name:"circle"},build(E,_){let C,A,P,O,z,I;if(E.type==="circle"){const ie=E;if(z=I=ie.radius,z<=0)return!1;C=ie.x,A=ie.y,P=O=0}else if(E.type==="ellipse"){const ie=E;if(z=ie.halfWidth,I=ie.halfHeight,z<=0||I<=0)return!1;C=ie.x,A=ie.y,P=O=0}else{const ie=E,fe=ie.width/2,me=ie.height/2;C=ie.x+fe,A=ie.y+me,z=I=Math.max(0,Math.min(ie.radius,Math.min(fe,me))),P=fe-z,O=me-I}if(P<0||O<0)return!1;const B=Math.ceil(2.3*Math.sqrt(z+I)),U=B*8+(P?4:0)+(O?4:0);if(U===0)return!1;if(B===0)return _[0]=_[6]=C+P,_[1]=_[3]=A+O,_[2]=_[4]=C-P,_[5]=_[7]=A-O,!0;let G=0,F=B*4+(P?2:0)+2,q=F,Y=U,W=P+z,Q=O,J=C+W,ee=C-W,ne=A+Q;if(_[G++]=J,_[G++]=ne,_[--F]=ne,_[--F]=ee,O){const ie=A-Q;_[q++]=ee,_[q++]=ie,_[--Y]=ie,_[--Y]=J}for(let ie=1;ie<B;ie++){const fe=Math.PI/2*(ie/B),me=P+Math.cos(fe)*z,le=O+Math.sin(fe)*I,te=C+me,ae=C-me,ue=A+le,xe=A-le;_[G++]=te,_[G++]=ue,_[--F]=ue,_[--F]=ae,_[q++]=ae,_[q++]=xe,_[--Y]=xe,_[--Y]=te}W=P,Q=O+I,J=C+W,ee=C-W,ne=A+Q;const se=A-Q;return _[G++]=J,_[G++]=ne,_[--Y]=se,_[--Y]=J,P&&(_[G++]=ee,_[G++]=ne,_[--Y]=se,_[--Y]=ee),!0},triangulate(E,_,C,A,P,O){if(E.length===0)return;let z=0,I=0;for(let G=0;G<E.length;G+=2)z+=E[G],I+=E[G+1];z/=E.length/2,I/=E.length/2;let B=A;_[B*C]=z,_[B*C+1]=I;const U=B++;for(let G=0;G<E.length;G+=2)_[B*C]=E[G],_[B*C+1]=E[G+1],G>0&&(P[O++]=B,P[O++]=U,P[O++]=B-1),B++;P[O++]=U+1,P[O++]=U,P[O++]=B-1}},buildEllipse={...buildCircle,extension:{...buildCircle.extension,name:"ellipse"}},buildRoundedRectangle={...buildCircle,extension:{...buildCircle.extension,name:"roundedRectangle"}},closePointEps=1e-4,curveEps=1e-4;function getOrientationOfPoints(E){const _=E.length;if(_<6)return 1;let C=0;for(let A=0,P=E[_-2],O=E[_-1];A<_;A+=2){const z=E[A],I=E[A+1];C+=(z-P)*(I+O),P=z,O=I}return C<0?-1:1}function square(E,_,C,A,P,O,z,I){const B=E-C*P,U=_-A*P,G=E+C*O,F=_+A*O;let q,Y;z?(q=A,Y=-C):(q=-A,Y=C);const W=B+q,Q=U+Y,J=G+q,ee=F+Y;return I.push(W,Q),I.push(J,ee),2}function round$1(E,_,C,A,P,O,z,I){const B=C-E,U=A-_;let G=Math.atan2(B,U),F=Math.atan2(P-E,O-_);I&&G<F?G+=Math.PI*2:!I&&G>F&&(F+=Math.PI*2);let q=G;const Y=F-G,W=Math.abs(Y),Q=Math.sqrt(B*B+U*U),J=(15*W*Math.sqrt(Q)/Math.PI>>0)+1,ee=Y/J;if(q+=ee,I){z.push(E,_),z.push(C,A);for(let ne=1,se=q;ne<J;ne++,se+=ee)z.push(E,_),z.push(E+Math.sin(se)*Q,_+Math.cos(se)*Q);z.push(E,_),z.push(P,O)}else{z.push(C,A),z.push(E,_);for(let ne=1,se=q;ne<J;ne++,se+=ee)z.push(E+Math.sin(se)*Q,_+Math.cos(se)*Q),z.push(E,_);z.push(P,O),z.push(E,_)}return J*2}function buildLine(E,_,C,A,P,O){const z=closePointEps;if(E.length===0)return;const I=_;let B=I.alignment;if(_.alignment!==.5){let we=getOrientationOfPoints(E);B=(B-.5)*we+.5}const U=new Point(E[0],E[1]),G=new Point(E[E.length-2],E[E.length-1]),F=A,q=Math.abs(U.x-G.x)<z&&Math.abs(U.y-G.y)<z;if(F){E=E.slice(),q&&(E.pop(),E.pop(),G.set(E[E.length-2],E[E.length-1]));const we=(U.x+G.x)*.5,ze=(G.y+U.y)*.5;E.unshift(we,ze),E.push(we,ze)}const Y=P,W=E.length/2;let Q=E.length;const J=Y.length/2,ee=I.width/2,ne=ee*ee,se=I.miterLimit*I.miterLimit;let ie=E[0],fe=E[1],me=E[2],le=E[3],te=0,ae=0,ue=-(fe-le),xe=ie-me,Ae=0,he=0,Se=Math.sqrt(ue*ue+xe*xe);ue/=Se,xe/=Se,ue*=ee,xe*=ee;const Pe=B,oe=(1-Pe)*2,de=Pe*2;F||(I.cap==="round"?Q+=round$1(ie-ue*(oe-de)*.5,fe-xe*(oe-de)*.5,ie-ue*oe,fe-xe*oe,ie+ue*de,fe+xe*de,Y,!0)+2:I.cap==="square"&&(Q+=square(ie,fe,ue,xe,oe,de,!0,Y))),Y.push(ie-ue*oe,fe-xe*oe),Y.push(ie+ue*de,fe+xe*de);for(let we=1;we<W-1;++we){ie=E[(we-1)*2],fe=E[(we-1)*2+1],me=E[we*2],le=E[we*2+1],te=E[(we+1)*2],ae=E[(we+1)*2+1],ue=-(fe-le),xe=ie-me,Se=Math.sqrt(ue*ue+xe*xe),ue/=Se,xe/=Se,ue*=ee,xe*=ee,Ae=-(le-ae),he=me-te,Se=Math.sqrt(Ae*Ae+he*he),Ae/=Se,he/=Se,Ae*=ee,he*=ee;const ze=me-ie,ce=fe-le,be=me-te,ve=ae-le,je=ze*be+ce*ve,$e=ce*be-ve*ze,Be=$e<0;if(Math.abs($e)<.001*Math.abs(je)){Y.push(me-ue*oe,le-xe*oe),Y.push(me+ue*de,le+xe*de),je>=0&&(I.join==="round"?Q+=round$1(me,le,me-ue*oe,le-xe*oe,me-Ae*oe,le-he*oe,Y,!1)+4:Q+=2,Y.push(me-Ae*de,le-he*de),Y.push(me+Ae*oe,le+he*oe));continue}const ke=(-ue+ie)*(-xe+le)-(-ue+me)*(-xe+fe),Ie=(-Ae+te)*(-he+le)-(-Ae+me)*(-he+ae),Le=(ze*Ie-be*ke)/$e,He=(ve*ke-ce*Ie)/$e,De=(Le-me)*(Le-me)+(He-le)*(He-le),Ve=me+(Le-me)*oe,Ke=le+(He-le)*oe,qe=me-(Le-me)*de,Qe=le-(He-le)*de,Xe=Math.min(ze*ze+ce*ce,be*be+ve*ve),At=Be?oe:de,We=Xe+At*At*ne;De<=We?I.join==="bevel"||De/ne>se?(Be?(Y.push(Ve,Ke),Y.push(me+ue*de,le+xe*de),Y.push(Ve,Ke),Y.push(me+Ae*de,le+he*de)):(Y.push(me-ue*oe,le-xe*oe),Y.push(qe,Qe),Y.push(me-Ae*oe,le-he*oe),Y.push(qe,Qe)),Q+=2):I.join==="round"?Be?(Y.push(Ve,Ke),Y.push(me+ue*de,le+xe*de),Q+=round$1(me,le,me+ue*de,le+xe*de,me+Ae*de,le+he*de,Y,!0)+4,Y.push(Ve,Ke),Y.push(me+Ae*de,le+he*de)):(Y.push(me-ue*oe,le-xe*oe),Y.push(qe,Qe),Q+=round$1(me,le,me-ue*oe,le-xe*oe,me-Ae*oe,le-he*oe,Y,!1)+4,Y.push(me-Ae*oe,le-he*oe),Y.push(qe,Qe)):(Y.push(Ve,Ke),Y.push(qe,Qe)):(Y.push(me-ue*oe,le-xe*oe),Y.push(me+ue*de,le+xe*de),I.join==="round"?Be?Q+=round$1(me,le,me+ue*de,le+xe*de,me+Ae*de,le+he*de,Y,!0)+2:Q+=round$1(me,le,me-ue*oe,le-xe*oe,me-Ae*oe,le-he*oe,Y,!1)+2:I.join==="miter"&&De/ne<=se&&(Be?(Y.push(qe,Qe),Y.push(qe,Qe)):(Y.push(Ve,Ke),Y.push(Ve,Ke)),Q+=2),Y.push(me-Ae*oe,le-he*oe),Y.push(me+Ae*de,le+he*de),Q+=2)}ie=E[(W-2)*2],fe=E[(W-2)*2+1],me=E[(W-1)*2],le=E[(W-1)*2+1],ue=-(fe-le),xe=ie-me,Se=Math.sqrt(ue*ue+xe*xe),ue/=Se,xe/=Se,ue*=ee,xe*=ee,Y.push(me-ue*oe,le-xe*oe),Y.push(me+ue*de,le+xe*de),F||(I.cap==="round"?Q+=round$1(me-ue*(oe-de)*.5,le-xe*(oe-de)*.5,me-ue*oe,le-xe*oe,me+ue*de,le+xe*de,Y,!1)+2:I.cap==="square"&&(Q+=square(me,le,ue,xe,oe,de,!1,Y)));const ye=curveEps*curveEps;for(let we=J;we<Q+J-2;++we)ie=Y[we*2],fe=Y[we*2+1],me=Y[(we+1)*2],le=Y[(we+1)*2+1],te=Y[(we+2)*2],ae=Y[(we+2)*2+1],!(Math.abs(ie*(le-ae)+me*(ae-fe)+te*(fe-le))<ye)&&O.push(we,we+1,we+2)}function buildPixelLine(E,_,C,A){const P=closePointEps;if(E.length===0)return;const O=E[0],z=E[1],I=E[E.length-2],B=E[E.length-1],U=_||Math.abs(O-I)<P&&Math.abs(z-B)<P,G=C,F=E.length/2,q=G.length/2;for(let Y=0;Y<F;Y++)G.push(E[Y*2]),G.push(E[Y*2+1]);for(let Y=0;Y<F-1;Y++)A.push(q+Y,q+Y+1);U&&A.push(q+F-1,q)}function triangulateWithHoles(E,_,C,A,P,O,z){const I=earcut(E,_,2);if(!I)return;for(let U=0;U<I.length;U+=3)O[z++]=I[U]+P,O[z++]=I[U+1]+P,O[z++]=I[U+2]+P;let B=P*A;for(let U=0;U<E.length;U+=2)C[B]=E[U],C[B+1]=E[U+1],B+=A}const emptyArray=[],buildPolygon={extension:{type:ExtensionType.ShapeBuilder,name:"polygon"},build(E,_){for(let C=0;C<E.points.length;C++)_[C]=E.points[C];return!0},triangulate(E,_,C,A,P,O){triangulateWithHoles(E,emptyArray,_,C,A,P,O)}},buildRectangle={extension:{type:ExtensionType.ShapeBuilder,name:"rectangle"},build(E,_){const C=E,A=C.x,P=C.y,O=C.width,z=C.height;return O>0&&z>0?(_[0]=A,_[1]=P,_[2]=A+O,_[3]=P,_[4]=A+O,_[5]=P+z,_[6]=A,_[7]=P+z,!0):!1},triangulate(E,_,C,A,P,O){let z=0;A*=C,_[A+z]=E[0],_[A+z+1]=E[1],z+=C,_[A+z]=E[2],_[A+z+1]=E[3],z+=C,_[A+z]=E[6],_[A+z+1]=E[7],z+=C,_[A+z]=E[4],_[A+z+1]=E[5],z+=C;const I=A/C;P[O++]=I,P[O++]=I+1,P[O++]=I+2,P[O++]=I+1,P[O++]=I+3,P[O++]=I+2}},buildTriangle={extension:{type:ExtensionType.ShapeBuilder,name:"triangle"},build(E,_){return _[0]=E.x,_[1]=E.y,_[2]=E.x2,_[3]=E.y2,_[4]=E.x3,_[5]=E.y3,!0},triangulate(E,_,C,A,P,O){let z=0;A*=C,_[A+z]=E[0],_[A+z+1]=E[1],z+=C,_[A+z]=E[2],_[A+z+1]=E[3],z+=C,_[A+z]=E[4],_[A+z+1]=E[5];const I=A/C;P[O++]=I,P[O++]=I+1,P[O++]=I+2}},tempTextureMatrix$1=new Matrix,tempRect$2=new Rectangle;function generateTextureMatrix(E,_,C,A){const P=_.matrix?E.copyFrom(_.matrix).invert():E.identity();if(_.textureSpace==="local"){const z=C.getBounds(tempRect$2);_.width&&z.pad(_.width);const{x:I,y:B}=z,U=1/z.width,G=1/z.height,F=-I*U,q=-B*G,Y=P.a,W=P.b,Q=P.c,J=P.d;P.a*=U,P.b*=U,P.c*=G,P.d*=G,P.tx=F*Y+q*Q+P.tx,P.ty=F*W+q*J+P.ty}else P.translate(_.texture.frame.x,_.texture.frame.y),P.scale(1/_.texture.source.width,1/_.texture.source.height);const O=_.texture.source.style;return!(_.fill instanceof FillGradient)&&O.addressMode==="clamp-to-edge"&&(O.addressMode="repeat",O.update()),A&&P.append(tempTextureMatrix$1.copyFrom(A).invert()),P}const shapeBuilders={};extensions.handleByMap(ExtensionType.ShapeBuilder,shapeBuilders);extensions.add(buildRectangle,buildPolygon,buildTriangle,buildCircle,buildEllipse,buildRoundedRectangle);const tempRect$1=new Rectangle,tempTextureMatrix=new Matrix;function buildContextBatches(E,_){const{geometryData:C,batches:A}=_;A.length=0,C.indices.length=0,C.vertices.length=0,C.uvs.length=0;for(let P=0;P<E.instructions.length;P++){const O=E.instructions[P];if(O.action==="texture")addTextureToGeometryData(O.data,A,C);else if(O.action==="fill"||O.action==="stroke"){const z=O.action==="stroke",I=O.data.path.shapePath,B=O.data.style,U=O.data.hole;z&&U&&addShapePathToGeometryData(U.shapePath,B,!0,A,C),U&&(I.shapePrimitives[I.shapePrimitives.length-1].holes=U.shapePath.shapePrimitives),addShapePathToGeometryData(I,B,z,A,C)}}}function addTextureToGeometryData(E,_,C){const A=[],P=shapeBuilders.rectangle,O=tempRect$1;O.x=E.dx,O.y=E.dy,O.width=E.dw,O.height=E.dh;const z=E.transform;if(!P.build(O,A))return;const{vertices:I,uvs:B,indices:U}=C,G=U.length,F=I.length/2;z&&transformVertices(A,z),P.triangulate(A,I,2,F,U,G);const q=E.image,Y=q.uvs;B.push(Y.x0,Y.y0,Y.x1,Y.y1,Y.x3,Y.y3,Y.x2,Y.y2);const W=BigPool.get(BatchableGraphics);W.indexOffset=G,W.indexSize=U.length-G,W.attributeOffset=F,W.attributeSize=I.length/2-F,W.baseColor=E.style,W.alpha=E.alpha,W.texture=q,W.geometryData=C,_.push(W)}function addShapePathToGeometryData(E,_,C,A,P){const{vertices:O,uvs:z,indices:I}=P;E.shapePrimitives.forEach(({shape:B,transform:U,holes:G})=>{const F=[],q=shapeBuilders[B.type];if(!q.build(B,F))return;const Y=I.length,W=O.length/2;let Q="triangle-list";if(U&&transformVertices(F,U),C){const se=B.closePath??!0,ie=_;ie.pixelLine?(buildPixelLine(F,se,O,I),Q="line-list"):buildLine(F,ie,!1,se,O,I)}else if(G){const se=[],ie=F.slice();getHoleArrays(G).forEach(me=>{se.push(ie.length/2),ie.push(...me)}),triangulateWithHoles(ie,se,O,2,W,I,Y)}else q.triangulate(F,O,2,W,I,Y);const J=z.length/2,ee=_.texture;if(ee!==Texture.WHITE){const se=generateTextureMatrix(tempTextureMatrix,_,B,U);buildUvs(O,2,W,z,J,2,O.length/2-W,se)}else buildSimpleUvs(z,J,2,O.length/2-W);const ne=BigPool.get(BatchableGraphics);ne.indexOffset=Y,ne.indexSize=I.length-Y,ne.attributeOffset=W,ne.attributeSize=O.length/2-W,ne.baseColor=_.color,ne.alpha=_.alpha,ne.texture=ee,ne.geometryData=P,ne.topology=Q,A.push(ne)})}function getHoleArrays(E){const _=[];for(let C=0;C<E.length;C++){const A=E[C].shape,P=[];shapeBuilders[A.type].build(A,P)&&_.push(P)}return _}class GpuGraphicsContext{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class GraphicsContextRenderData{constructor(){this.instructions=new InstructionSet}init(_){const C=_.maxTextures;this.batcher?this.batcher._updateMaxTextures(C):this.batcher=new DefaultBatcher({maxTextures:C}),this.instructions.reset()}get geometry(){return deprecation(v8_3_4,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const _GraphicsContextSystem=class Ql{constructor(_){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=_,_.renderableGC.addManagedHash(this,"_gpuContextHash"),_.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(_){Ql.defaultOptions.bezierSmoothness=_?.bezierSmoothness??Ql.defaultOptions.bezierSmoothness}getContextRenderData(_){return this._graphicsDataContextHash[_.uid]||this._initContextRenderData(_)}updateGpuContext(_){let C=this._gpuContextHash[_.uid]||this._initContext(_);if(_.dirty){C?this._cleanGraphicsContextData(_):C=this._initContext(_),buildContextBatches(_,C);const A=_.batchMode;_.customShader||A==="no-batch"?C.isBatchable=!1:A==="auto"?C.isBatchable=C.geometryData.vertices.length<400:C.isBatchable=!0,_.dirty=!1}return C}getGpuContext(_){return this._gpuContextHash[_.uid]||this._initContext(_)}_initContextRenderData(_){const C=BigPool.get(GraphicsContextRenderData,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:A,geometryData:P}=this._gpuContextHash[_.uid],O=P.vertices.length,z=P.indices.length;for(let G=0;G<A.length;G++)A[G].applyTransform=!1;const I=C.batcher;I.ensureAttributeBuffer(O),I.ensureIndexBuffer(z),I.begin();for(let G=0;G<A.length;G++){const F=A[G];I.add(F)}I.finish(C.instructions);const B=I.geometry;B.indexBuffer.setDataWithSize(I.indexBuffer,I.indexSize,!0),B.buffers[0].setDataWithSize(I.attributeBuffer.float32View,I.attributeSize,!0);const U=I.batches;for(let G=0;G<U.length;G++){const F=U[G];F.bindGroup=getTextureBatchBindGroup(F.textures.textures,F.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[_.uid]=C,C}_initContext(_){const C=new GpuGraphicsContext;return C.context=_,this._gpuContextHash[_.uid]=C,_.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[_.uid]}onGraphicsContextDestroy(_){this._cleanGraphicsContextData(_),_.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[_.uid]=null}_cleanGraphicsContextData(_){const C=this._gpuContextHash[_.uid];C.isBatchable||this._graphicsDataContextHash[_.uid]&&(BigPool.return(this.getContextRenderData(_)),this._graphicsDataContextHash[_.uid]=null),C.batches&&C.batches.forEach(A=>{BigPool.return(A)})}destroy(){for(const _ in this._gpuContextHash)this._gpuContextHash[_]&&this.onGraphicsContextDestroy(this._gpuContextHash[_].context);this._gpuContextHash={},this._graphicsDataContextHash={},this._renderer=null}};_GraphicsContextSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem,ExtensionType.CanvasSystem],name:"graphicsContext"};_GraphicsContextSystem.defaultOptions={bezierSmoothness:.5};let GraphicsContextSystem=_GraphicsContextSystem;const RECURSION_LIMIT$1=8,FLT_EPSILON$1=11920929e-14,PATH_DISTANCE_EPSILON$1=1;function buildAdaptiveBezier(E,_,C,A,P,O,z,I,B,U){const F=Math.min(.99,Math.max(0,U??GraphicsContextSystem.defaultOptions.bezierSmoothness));let q=(PATH_DISTANCE_EPSILON$1-F)/1;return q*=q,begin$1(_,C,A,P,O,z,I,B,E,q),E}function begin$1(E,_,C,A,P,O,z,I,B,U){recursive$1(E,_,C,A,P,O,z,I,B,U,0),B.push(z,I)}function recursive$1(E,_,C,A,P,O,z,I,B,U,G){if(G>RECURSION_LIMIT$1)return;const F=(E+C)/2,q=(_+A)/2,Y=(C+P)/2,W=(A+O)/2,Q=(P+z)/2,J=(O+I)/2,ee=(F+Y)/2,ne=(q+W)/2,se=(Y+Q)/2,ie=(W+J)/2,fe=(ee+se)/2,me=(ne+ie)/2;if(G>0){let le=z-E,te=I-_;const ae=Math.abs((C-z)*te-(A-I)*le),ue=Math.abs((P-z)*te-(O-I)*le);if(ae>FLT_EPSILON$1&&ue>FLT_EPSILON$1){if((ae+ue)*(ae+ue)<=U*(le*le+te*te)){B.push(fe,me);return}}else if(ae>FLT_EPSILON$1){if(ae*ae<=U*(le*le+te*te)){B.push(fe,me);return}}else if(ue>FLT_EPSILON$1){if(ue*ue<=U*(le*le+te*te)){B.push(fe,me);return}}else if(le=fe-(E+z)/2,te=me-(_+I)/2,le*le+te*te<=U){B.push(fe,me);return}}recursive$1(E,_,F,q,ee,ne,fe,me,B,U,G+1),recursive$1(fe,me,se,ie,Q,J,z,I,B,U,G+1)}const RECURSION_LIMIT=8,FLT_EPSILON=11920929e-14,PATH_DISTANCE_EPSILON=1;function buildAdaptiveQuadratic(E,_,C,A,P,O,z,I){const U=Math.min(.99,Math.max(0,I??GraphicsContextSystem.defaultOptions.bezierSmoothness));let G=(PATH_DISTANCE_EPSILON-U)/1;return G*=G,begin(_,C,A,P,O,z,E,G),E}function begin(E,_,C,A,P,O,z,I){recursive(z,E,_,C,A,P,O,I,0),z.push(P,O)}function recursive(E,_,C,A,P,O,z,I,B){if(B>RECURSION_LIMIT)return;const U=(_+A)/2,G=(C+P)/2,F=(A+O)/2,q=(P+z)/2,Y=(U+F)/2,W=(G+q)/2;let Q=O-_,J=z-C;const ee=Math.abs((A-O)*J-(P-z)*Q);if(ee>FLT_EPSILON){if(ee*ee<=I*(Q*Q+J*J)){E.push(Y,W);return}}else if(Q=Y-(_+O)/2,J=W-(C+z)/2,Q*Q+J*J<=I){E.push(Y,W);return}recursive(E,_,C,U,G,Y,W,I,B+1),recursive(E,Y,W,F,q,O,z,I,B+1)}function buildArc(E,_,C,A,P,O,z,I){let B=Math.abs(P-O);(!z&&P>O||z&&O>P)&&(B=2*Math.PI-B),I||(I=Math.max(6,Math.floor(6*Math.pow(A,1/3)*(B/Math.PI)))),I=Math.max(I,3);let U=B/I,G=P;U*=z?-1:1;for(let F=0;F<I+1;F++){const q=Math.cos(G),Y=Math.sin(G),W=_+q*A,Q=C+Y*A;E.push(W,Q),G+=U}}function buildArcTo(E,_,C,A,P,O){const z=E[E.length-2],B=E[E.length-1]-C,U=z-_,G=P-C,F=A-_,q=Math.abs(B*F-U*G);if(q<1e-8||O===0){(E[E.length-2]!==_||E[E.length-1]!==C)&&E.push(_,C);return}const Y=B*B+U*U,W=G*G+F*F,Q=B*G+U*F,J=O*Math.sqrt(Y)/q,ee=O*Math.sqrt(W)/q,ne=J*Q/Y,se=ee*Q/W,ie=J*F+ee*U,fe=J*G+ee*B,me=U*(ee+ne),le=B*(ee+ne),te=F*(J+se),ae=G*(J+se),ue=Math.atan2(le-fe,me-ie),xe=Math.atan2(ae-fe,te-ie);buildArc(E,ie+_,fe+C,O,ue,xe,U*G>F*B)}const TAU=Math.PI*2,out={centerX:0,centerY:0,ang1:0,ang2:0},mapToEllipse=({x:E,y:_},C,A,P,O,z,I,B)=>{E*=C,_*=A;const U=P*E-O*_,G=O*E+P*_;return B.x=U+z,B.y=G+I,B};function approxUnitArc(E,_){const C=_===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(_/4),A=_===1.5707963267948966?.551915024494:C,P=Math.cos(E),O=Math.sin(E),z=Math.cos(E+_),I=Math.sin(E+_);return[{x:P-O*A,y:O+P*A},{x:z+I*A,y:I-z*A},{x:z,y:I}]}const vectorAngle=(E,_,C,A)=>{const P=E*A-_*C<0?-1:1;let O=E*C+_*A;return O>1&&(O=1),O<-1&&(O=-1),P*Math.acos(O)},getArcCenter=(E,_,C,A,P,O,z,I,B,U,G,F,q)=>{const Y=Math.pow(P,2),W=Math.pow(O,2),Q=Math.pow(G,2),J=Math.pow(F,2);let ee=Y*W-Y*J-W*Q;ee<0&&(ee=0),ee/=Y*J+W*Q,ee=Math.sqrt(ee)*(z===I?-1:1);const ne=ee*P/O*F,se=ee*-O/P*G,ie=U*ne-B*se+(E+C)/2,fe=B*ne+U*se+(_+A)/2,me=(G-ne)/P,le=(F-se)/O,te=(-G-ne)/P,ae=(-F-se)/O,ue=vectorAngle(1,0,me,le);let xe=vectorAngle(me,le,te,ae);I===0&&xe>0&&(xe-=TAU),I===1&&xe<0&&(xe+=TAU),q.centerX=ie,q.centerY=fe,q.ang1=ue,q.ang2=xe};function buildArcToSvg(E,_,C,A,P,O,z,I=0,B=0,U=0){if(O===0||z===0)return;const G=Math.sin(I*TAU/360),F=Math.cos(I*TAU/360),q=F*(_-A)/2+G*(C-P)/2,Y=-G*(_-A)/2+F*(C-P)/2;if(q===0&&Y===0)return;O=Math.abs(O),z=Math.abs(z);const W=Math.pow(q,2)/Math.pow(O,2)+Math.pow(Y,2)/Math.pow(z,2);W>1&&(O*=Math.sqrt(W),z*=Math.sqrt(W)),getArcCenter(_,C,A,P,O,z,B,U,G,F,q,Y,out);let{ang1:Q,ang2:J}=out;const{centerX:ee,centerY:ne}=out;let se=Math.abs(J)/(TAU/4);Math.abs(1-se)<1e-7&&(se=1);const ie=Math.max(Math.ceil(se),1);J/=ie;let fe=E[E.length-2],me=E[E.length-1];const le={x:0,y:0};for(let te=0;te<ie;te++){const ae=approxUnitArc(Q,J),{x:ue,y:xe}=mapToEllipse(ae[0],O,z,F,G,ee,ne,le),{x:Ae,y:he}=mapToEllipse(ae[1],O,z,F,G,ee,ne,le),{x:Se,y:Pe}=mapToEllipse(ae[2],O,z,F,G,ee,ne,le);buildAdaptiveBezier(E,fe,me,ue,xe,Ae,he,Se,Pe),fe=Se,me=Pe,Q+=J}}function roundedShapeArc(E,_,C){const A=(z,I)=>{const B=I.x-z.x,U=I.y-z.y,G=Math.sqrt(B*B+U*U),F=B/G,q=U/G;return{len:G,nx:F,ny:q}},P=(z,I)=>{z===0?E.moveTo(I.x,I.y):E.lineTo(I.x,I.y)};let O=_[_.length-1];for(let z=0;z<_.length;z++){const I=_[z%_.length],B=I.radius??C;if(B<=0){P(z,I),O=I;continue}const U=_[(z+1)%_.length],G=A(I,O),F=A(I,U);if(G.len<1e-4||F.len<1e-4){P(z,I),O=I;continue}let q=Math.asin(G.nx*F.ny-G.ny*F.nx),Y=1,W=!1;G.nx*F.nx-G.ny*-F.ny<0?q<0?q=Math.PI+q:(q=Math.PI-q,Y=-1,W=!0):q>0&&(Y=-1,W=!0);const Q=q/2;let J,ee=Math.abs(Math.cos(Q)*B/Math.sin(Q));ee>Math.min(G.len/2,F.len/2)?(ee=Math.min(G.len/2,F.len/2),J=Math.abs(ee*Math.sin(Q)/Math.cos(Q))):J=B;const ne=I.x+F.nx*ee+-F.ny*J*Y,se=I.y+F.ny*ee+F.nx*J*Y,ie=Math.atan2(G.ny,G.nx)+Math.PI/2*Y,fe=Math.atan2(F.ny,F.nx)-Math.PI/2*Y;z===0&&E.moveTo(ne+Math.cos(ie)*J,se+Math.sin(ie)*J),E.arc(ne,se,J,ie,fe,W),O=I}}function roundedShapeQuadraticCurve(E,_,C,A){const P=(I,B)=>Math.sqrt((I.x-B.x)**2+(I.y-B.y)**2),O=(I,B,U)=>({x:I.x+(B.x-I.x)*U,y:I.y+(B.y-I.y)*U}),z=_.length;for(let I=0;I<z;I++){const B=_[(I+1)%z],U=B.radius??C;if(U<=0){I===0?E.moveTo(B.x,B.y):E.lineTo(B.x,B.y);continue}const G=_[I],F=_[(I+2)%z],q=P(G,B);let Y;if(q<1e-4)Y=B;else{const J=Math.min(q/2,U);Y=O(B,G,J/q)}const W=P(F,B);let Q;if(W<1e-4)Q=B;else{const J=Math.min(W/2,U);Q=O(B,F,J/W)}I===0?E.moveTo(Y.x,Y.y):E.lineTo(Y.x,Y.y),E.quadraticCurveTo(B.x,B.y,Q.x,Q.y,A)}}const tempRectangle=new Rectangle;class ShapePath{constructor(_){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Bounds,this._graphicsPath2D=_,this.signed=_.checkForHoles}moveTo(_,C){return this.startPoly(_,C),this}lineTo(_,C){this._ensurePoly();const A=this._currentPoly.points,P=A[A.length-2],O=A[A.length-1];return(P!==_||O!==C)&&A.push(_,C),this}arc(_,C,A,P,O,z){this._ensurePoly(!1);const I=this._currentPoly.points;return buildArc(I,_,C,A,P,O,z),this}arcTo(_,C,A,P,O){this._ensurePoly();const z=this._currentPoly.points;return buildArcTo(z,_,C,A,P,O),this}arcToSvg(_,C,A,P,O,z,I){const B=this._currentPoly.points;return buildArcToSvg(B,this._currentPoly.lastX,this._currentPoly.lastY,z,I,_,C,A,P,O),this}bezierCurveTo(_,C,A,P,O,z,I){this._ensurePoly();const B=this._currentPoly;return buildAdaptiveBezier(this._currentPoly.points,B.lastX,B.lastY,_,C,A,P,O,z,I),this}quadraticCurveTo(_,C,A,P,O){this._ensurePoly();const z=this._currentPoly;return buildAdaptiveQuadratic(this._currentPoly.points,z.lastX,z.lastY,_,C,A,P,O),this}closePath(){return this.endPoly(!0),this}addPath(_,C){this.endPoly(),C&&!C.isIdentity()&&(_=_.clone(!0),_.transform(C));const A=this.shapePrimitives,P=A.length;for(let O=0;O<_.instructions.length;O++){const z=_.instructions[O];this[z.action](...z.data)}if(_.checkForHoles&&A.length-P>1){let O=null;for(let z=P;z<A.length;z++){const I=A[z];if(I.shape.type==="polygon"){const B=I.shape,U=O?.shape;U&&U.containsPolygon(B)?(O.holes||(O.holes=[]),O.holes.push(I),A.copyWithin(z,z+1),A.length--,z--):O=I}}}return this}finish(_=!1){this.endPoly(_)}rect(_,C,A,P,O){return this.drawShape(new Rectangle(_,C,A,P),O),this}circle(_,C,A,P){return this.drawShape(new Circle(_,C,A),P),this}poly(_,C,A){const P=new Polygon(_);return P.closePath=C,this.drawShape(P,A),this}regularPoly(_,C,A,P,O=0,z){P=Math.max(P|0,3);const I=-1*Math.PI/2+O,B=Math.PI*2/P,U=[];for(let G=0;G<P;G++){const F=I-G*B;U.push(_+A*Math.cos(F),C+A*Math.sin(F))}return this.poly(U,!0,z),this}roundPoly(_,C,A,P,O,z=0,I){if(P=Math.max(P|0,3),O<=0)return this.regularPoly(_,C,A,P,z);const B=A*Math.sin(Math.PI/P)-.001;O=Math.min(O,B);const U=-1*Math.PI/2+z,G=Math.PI*2/P,F=(P-2)*Math.PI/P/2;for(let q=0;q<P;q++){const Y=q*G+U,W=_+A*Math.cos(Y),Q=C+A*Math.sin(Y),J=Y+Math.PI+F,ee=Y-Math.PI-F,ne=W+O*Math.cos(J),se=Q+O*Math.sin(J),ie=W+O*Math.cos(ee),fe=Q+O*Math.sin(ee);q===0?this.moveTo(ne,se):this.lineTo(ne,se),this.quadraticCurveTo(W,Q,ie,fe,I)}return this.closePath()}roundShape(_,C,A=!1,P){return _.length<3?this:(A?roundedShapeQuadraticCurve(this,_,C,P):roundedShapeArc(this,_,C),this.closePath())}filletRect(_,C,A,P,O){if(O===0)return this.rect(_,C,A,P);const z=Math.min(A,P)/2,I=Math.min(z,Math.max(-z,O)),B=_+A,U=C+P,G=I<0?-I:0,F=Math.abs(I);return this.moveTo(_,C+F).arcTo(_+G,C+G,_+F,C,F).lineTo(B-F,C).arcTo(B-G,C+G,B,C+F,F).lineTo(B,U-F).arcTo(B-G,U-G,_+A-F,U,F).lineTo(_+F,U).arcTo(_+G,U-G,_,U-F,F).closePath()}chamferRect(_,C,A,P,O,z){if(O<=0)return this.rect(_,C,A,P);const I=Math.min(O,Math.min(A,P)/2),B=_+A,U=C+P,G=[_+I,C,B-I,C,B,C+I,B,U-I,B-I,U,_+I,U,_,U-I,_,C+I];for(let F=G.length-1;F>=2;F-=2)G[F]===G[F-2]&&G[F-1]===G[F-3]&&G.splice(F-1,2);return this.poly(G,!0,z)}ellipse(_,C,A,P,O){return this.drawShape(new Ellipse(_,C,A,P),O),this}roundRect(_,C,A,P,O,z){return this.drawShape(new RoundedRectangle(_,C,A,P,O),z),this}drawShape(_,C){return this.endPoly(),this.shapePrimitives.push({shape:_,transform:C}),this}startPoly(_,C){let A=this._currentPoly;return A&&this.endPoly(),A=new Polygon,A.points.push(_,C),this._currentPoly=A,this}endPoly(_=!1){const C=this._currentPoly;return C&&C.points.length>2&&(C.closePath=_,this.shapePrimitives.push({shape:C})),this._currentPoly=null,this}_ensurePoly(_=!0){if(!this._currentPoly&&(this._currentPoly=new Polygon,_)){const C=this.shapePrimitives[this.shapePrimitives.length-1];if(C){let A=C.shape.x,P=C.shape.y;if(C.transform&&!C.transform.isIdentity()){const O=C.transform,z=A;A=O.a*A+O.c*P+O.tx,P=O.b*z+O.d*P+O.ty}this._currentPoly.points.push(A,P)}else this._currentPoly.points.push(0,0)}}buildPath(){const _=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let C=0;C<_.instructions.length;C++){const A=_.instructions[C];this[A.action](...A.data)}this.finish()}get bounds(){const _=this._bounds;_.clear();const C=this.shapePrimitives;for(let A=0;A<C.length;A++){const P=C[A],O=P.shape.getBounds(tempRectangle);P.transform?_.addRect(O,P.transform):_.addRect(O)}return _}}class GraphicsPath{constructor(_,C=!1){this.instructions=[],this.uid=uid("graphicsPath"),this._dirty=!0,this.checkForHoles=C,typeof _=="string"?parseSVGPath(_,this):this.instructions=_?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new ShapePath(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(_,C){return _=_.clone(),this.instructions.push({action:"addPath",data:[_,C]}),this._dirty=!0,this}arc(..._){return this.instructions.push({action:"arc",data:_}),this._dirty=!0,this}arcTo(..._){return this.instructions.push({action:"arcTo",data:_}),this._dirty=!0,this}arcToSvg(..._){return this.instructions.push({action:"arcToSvg",data:_}),this._dirty=!0,this}bezierCurveTo(..._){return this.instructions.push({action:"bezierCurveTo",data:_}),this._dirty=!0,this}bezierCurveToShort(_,C,A,P,O){const z=this.instructions[this.instructions.length-1],I=this.getLastPoint(Point.shared);let B=0,U=0;if(!z||z.action!=="bezierCurveTo")B=I.x,U=I.y;else{B=z.data[2],U=z.data[3];const G=I.x,F=I.y;B=G+(G-B),U=F+(F-U)}return this.instructions.push({action:"bezierCurveTo",data:[B,U,_,C,A,P,O]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(..._){return this.instructions.push({action:"ellipse",data:_}),this._dirty=!0,this}lineTo(..._){return this.instructions.push({action:"lineTo",data:_}),this._dirty=!0,this}moveTo(..._){return this.instructions.push({action:"moveTo",data:_}),this}quadraticCurveTo(..._){return this.instructions.push({action:"quadraticCurveTo",data:_}),this._dirty=!0,this}quadraticCurveToShort(_,C,A){const P=this.instructions[this.instructions.length-1],O=this.getLastPoint(Point.shared);let z=0,I=0;if(!P||P.action!=="quadraticCurveTo")z=O.x,I=O.y;else{z=P.data[0],I=P.data[1];const B=O.x,U=O.y;z=B+(B-z),I=U+(U-I)}return this.instructions.push({action:"quadraticCurveTo",data:[z,I,_,C,A]}),this._dirty=!0,this}rect(_,C,A,P,O){return this.instructions.push({action:"rect",data:[_,C,A,P,O]}),this._dirty=!0,this}circle(_,C,A,P){return this.instructions.push({action:"circle",data:[_,C,A,P]}),this._dirty=!0,this}roundRect(..._){return this.instructions.push({action:"roundRect",data:_}),this._dirty=!0,this}poly(..._){return this.instructions.push({action:"poly",data:_}),this._dirty=!0,this}regularPoly(..._){return this.instructions.push({action:"regularPoly",data:_}),this._dirty=!0,this}roundPoly(..._){return this.instructions.push({action:"roundPoly",data:_}),this._dirty=!0,this}roundShape(..._){return this.instructions.push({action:"roundShape",data:_}),this._dirty=!0,this}filletRect(..._){return this.instructions.push({action:"filletRect",data:_}),this._dirty=!0,this}chamferRect(..._){return this.instructions.push({action:"chamferRect",data:_}),this._dirty=!0,this}star(_,C,A,P,O,z,I){O||(O=P/2);const B=-1*Math.PI/2+z,U=A*2,G=Math.PI*2/U,F=[];for(let q=0;q<U;q++){const Y=q%2?O:P,W=q*G+B;F.push(_+Y*Math.cos(W),C+Y*Math.sin(W))}return this.poly(F,!0,I),this}clone(_=!1){const C=new GraphicsPath;if(C.checkForHoles=this.checkForHoles,!_)C.instructions=this.instructions.slice();else for(let A=0;A<this.instructions.length;A++){const P=this.instructions[A];C.instructions.push({action:P.action,data:P.data.slice()})}return C}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(_){if(_.isIdentity())return this;const C=_.a,A=_.b,P=_.c,O=_.d,z=_.tx,I=_.ty;let B=0,U=0,G=0,F=0,q=0,Y=0,W=0,Q=0;for(let J=0;J<this.instructions.length;J++){const ee=this.instructions[J],ne=ee.data;switch(ee.action){case"moveTo":case"lineTo":B=ne[0],U=ne[1],ne[0]=C*B+P*U+z,ne[1]=A*B+O*U+I;break;case"bezierCurveTo":G=ne[0],F=ne[1],q=ne[2],Y=ne[3],B=ne[4],U=ne[5],ne[0]=C*G+P*F+z,ne[1]=A*G+O*F+I,ne[2]=C*q+P*Y+z,ne[3]=A*q+O*Y+I,ne[4]=C*B+P*U+z,ne[5]=A*B+O*U+I;break;case"quadraticCurveTo":G=ne[0],F=ne[1],B=ne[2],U=ne[3],ne[0]=C*G+P*F+z,ne[1]=A*G+O*F+I,ne[2]=C*B+P*U+z,ne[3]=A*B+O*U+I;break;case"arcToSvg":B=ne[5],U=ne[6],W=ne[0],Q=ne[1],ne[0]=C*W+P*Q,ne[1]=A*W+O*Q,ne[5]=C*B+P*U+z,ne[6]=A*B+O*U+I;break;case"circle":ne[4]=adjustTransform(ne[3],_);break;case"rect":ne[4]=adjustTransform(ne[4],_);break;case"ellipse":ne[8]=adjustTransform(ne[8],_);break;case"roundRect":ne[5]=adjustTransform(ne[5],_);break;case"addPath":ne[0].transform(_);break;case"poly":ne[2]=adjustTransform(ne[2],_);break;default:warn("unknown transform action",ee.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(_){let C=this.instructions.length-1,A=this.instructions[C];if(!A)return _.x=0,_.y=0,_;for(;A.action==="closePath";){if(C--,C<0)return _.x=0,_.y=0,_;A=this.instructions[C]}switch(A.action){case"moveTo":case"lineTo":_.x=A.data[0],_.y=A.data[1];break;case"quadraticCurveTo":_.x=A.data[2],_.y=A.data[3];break;case"bezierCurveTo":_.x=A.data[4],_.y=A.data[5];break;case"arc":case"arcToSvg":_.x=A.data[5],_.y=A.data[6];break;case"addPath":A.data[0].getLastPoint(_);break}return _}}function adjustTransform(E,_){return E?E.prepend(_):_.clone()}function parseSVGFloatAttribute(E,_,C){const A=E.getAttribute(_);return A?Number(A):C}function parseSVGDefinitions(E,_){const C=E.querySelectorAll("defs");for(let A=0;A<C.length;A++){const P=C[A];for(let O=0;O<P.children.length;O++){const z=P.children[O];switch(z.nodeName.toLowerCase()){case"lineargradient":_.defs[z.id]=parseLinearGradient(z);break;case"radialgradient":_.defs[z.id]=parseRadialGradient();break}}}}function parseLinearGradient(E){const _=parseSVGFloatAttribute(E,"x1",0),C=parseSVGFloatAttribute(E,"y1",0),A=parseSVGFloatAttribute(E,"x2",1),P=parseSVGFloatAttribute(E,"y2",0),O=E.getAttribute("gradientUnits")||"objectBoundingBox",z=new FillGradient(_,C,A,P,O==="objectBoundingBox"?"local":"global");for(let I=0;I<E.children.length;I++){const B=E.children[I],U=parseSVGFloatAttribute(B,"offset",0),G=Color.shared.setValue(B.getAttribute("stop-color")).toNumber();z.addColorStop(U,G)}return z}function parseRadialGradient(E){return warn("[SVG Parser] Radial gradients are not yet supported"),new FillGradient(0,0,1,0)}function extractSvgUrlId(E){const _=E.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return _?_[1]:""}const styleAttributes={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function parseSVGStyle(E,_){const C=E.getAttribute("style"),A={},P={},O={strokeStyle:A,fillStyle:P,useFill:!1,useStroke:!1};for(const z in styleAttributes){const I=E.getAttribute(z);I&&parseAttribute(_,O,z,I.trim())}if(C){const z=C.split(";");for(let I=0;I<z.length;I++){const B=z[I].trim(),[U,G]=B.split(":");styleAttributes[U]&&parseAttribute(_,O,U,G.trim())}}return{strokeStyle:O.useStroke?A:null,fillStyle:O.useFill?P:null,useFill:O.useFill,useStroke:O.useStroke}}function parseAttribute(E,_,C,A){switch(C){case"stroke":if(A!=="none"){if(A.startsWith("url(")){const P=extractSvgUrlId(A);_.strokeStyle.fill=E.defs[P]}else _.strokeStyle.color=Color.shared.setValue(A).toNumber();_.useStroke=!0}break;case"stroke-width":_.strokeStyle.width=Number(A);break;case"fill":if(A!=="none"){if(A.startsWith("url(")){const P=extractSvgUrlId(A);_.fillStyle.fill=E.defs[P]}else _.fillStyle.color=Color.shared.setValue(A).toNumber();_.useFill=!0}break;case"fill-opacity":_.fillStyle.alpha=Number(A);break;case"stroke-opacity":_.strokeStyle.alpha=Number(A);break;case"opacity":_.fillStyle.alpha=Number(A),_.strokeStyle.alpha=Number(A);break}}function checkForNestedPattern(E){if(E.length<=2)return!0;const _=E.map(I=>I.area).sort((I,B)=>B-I),[C,A]=_,P=_[_.length-1],O=C/A,z=A/P;return!(O>3&&z<2)}function extractSubpaths(E){return E.split(/(?=[Mm])/).filter(A=>A.trim().length>0)}function calculatePathArea(E){const _=E.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!_||_.length<4)return 0;const C=_.map(Number),A=[],P=[];for(let G=0;G<C.length;G+=2)G+1<C.length&&(A.push(C[G]),P.push(C[G+1]));if(A.length===0||P.length===0)return 0;const O=Math.min(...A),z=Math.max(...A),I=Math.min(...P),B=Math.max(...P);return(z-O)*(B-I)}function appendSVGPath(E,_){const C=new GraphicsPath(E,!1);for(const A of C.instructions)_.instructions.push(A)}function SVGParser(E,_){if(typeof E=="string"){const z=document.createElement("div");z.innerHTML=E.trim(),E=z.querySelector("svg")}const C={context:_,defs:{},path:new GraphicsPath};parseSVGDefinitions(E,C);const A=E.children,{fillStyle:P,strokeStyle:O}=parseSVGStyle(E,C);for(let z=0;z<A.length;z++){const I=A[z];I.nodeName.toLowerCase()!=="defs"&&renderChildren(I,C,P,O)}return _}function renderChildren(E,_,C,A){const P=E.children,{fillStyle:O,strokeStyle:z}=parseSVGStyle(E,_);O&&C?C={...C,...O}:O&&(C=O),z&&A?A={...A,...z}:z&&(A=z);const I=!C&&!A;I&&(C={color:0});let B,U,G,F,q,Y,W,Q,J,ee,ne,se,ie,fe,me,le,te;switch(E.nodeName.toLowerCase()){case"path":{fe=E.getAttribute("d");const ae=E.getAttribute("fill-rule"),ue=extractSubpaths(fe),xe=ae==="evenodd",Ae=ue.length>1;if(xe&&Ae){const Se=ue.map(oe=>({path:oe,area:calculatePathArea(oe)}));if(Se.sort((oe,de)=>de.area-oe.area),ue.length>3||!checkForNestedPattern(Se))for(let oe=0;oe<Se.length;oe++){const de=Se[oe],ye=oe===0;_.context.beginPath();const we=new GraphicsPath(void 0,!0);appendSVGPath(de.path,we),_.context.path(we),ye?(C&&_.context.fill(C),A&&_.context.stroke(A)):_.context.cut()}else for(let oe=0;oe<Se.length;oe++){const de=Se[oe],ye=oe%2===1;_.context.beginPath();const we=new GraphicsPath(void 0,!0);appendSVGPath(de.path,we),_.context.path(we),ye?_.context.cut():(C&&_.context.fill(C),A&&_.context.stroke(A))}}else{const Se=ae?ae==="evenodd":!0;me=new GraphicsPath(fe,Se),_.context.path(me),C&&_.context.fill(C),A&&_.context.stroke(A)}break}case"circle":W=parseSVGFloatAttribute(E,"cx",0),Q=parseSVGFloatAttribute(E,"cy",0),J=parseSVGFloatAttribute(E,"r",0),_.context.ellipse(W,Q,J,J),C&&_.context.fill(C),A&&_.context.stroke(A);break;case"rect":B=parseSVGFloatAttribute(E,"x",0),U=parseSVGFloatAttribute(E,"y",0),le=parseSVGFloatAttribute(E,"width",0),te=parseSVGFloatAttribute(E,"height",0),ee=parseSVGFloatAttribute(E,"rx",0),ne=parseSVGFloatAttribute(E,"ry",0),ee||ne?_.context.roundRect(B,U,le,te,ee||ne):_.context.rect(B,U,le,te),C&&_.context.fill(C),A&&_.context.stroke(A);break;case"ellipse":W=parseSVGFloatAttribute(E,"cx",0),Q=parseSVGFloatAttribute(E,"cy",0),ee=parseSVGFloatAttribute(E,"rx",0),ne=parseSVGFloatAttribute(E,"ry",0),_.context.beginPath(),_.context.ellipse(W,Q,ee,ne),C&&_.context.fill(C),A&&_.context.stroke(A);break;case"line":G=parseSVGFloatAttribute(E,"x1",0),F=parseSVGFloatAttribute(E,"y1",0),q=parseSVGFloatAttribute(E,"x2",0),Y=parseSVGFloatAttribute(E,"y2",0),_.context.beginPath(),_.context.moveTo(G,F),_.context.lineTo(q,Y),A&&_.context.stroke(A);break;case"polygon":ie=E.getAttribute("points"),se=ie.match(/\d+/g).map(ae=>parseInt(ae,10)),_.context.poly(se,!0),C&&_.context.fill(C),A&&_.context.stroke(A);break;case"polyline":ie=E.getAttribute("points"),se=ie.match(/\d+/g).map(ae=>parseInt(ae,10)),_.context.poly(se,!1),A&&_.context.stroke(A);break;case"g":case"svg":break;default:{warn(`[SVG parser] <${E.nodeName}> elements unsupported`);break}}I&&(C=null);for(let ae=0;ae<P.length;ae++)renderChildren(P[ae],_,C,A)}function isColorLike(E){return Color.isColorLike(E)}function isFillPattern(E){return E instanceof FillPattern}function isFillGradient(E){return E instanceof FillGradient}function isTexture(E){return E instanceof Texture}function handleColorLike(E,_,C){const A=Color.shared.setValue(_??0);return E.color=A.toNumber(),E.alpha=A.alpha===1?C.alpha:A.alpha,E.texture=Texture.WHITE,{...C,...E}}function handleTexture(E,_,C){return E.texture=_,{...C,...E}}function handleFillPattern(E,_,C){return E.fill=_,E.color=16777215,E.texture=_.texture,E.matrix=_.transform,{...C,...E}}function handleFillGradient(E,_,C){return _.buildGradient(),E.fill=_,E.color=16777215,E.texture=_.texture,E.matrix=_.transform,E.textureSpace=_.textureSpace,{...C,...E}}function handleFillObject(E,_){const C={..._,...E},A=Color.shared.setValue(C.color);return C.alpha*=A.alpha,C.color=A.toNumber(),C}function toFillStyle(E,_){if(E==null)return null;const C={},A=E;return isColorLike(E)?handleColorLike(C,E,_):isTexture(E)?handleTexture(C,E,_):isFillPattern(E)?handleFillPattern(C,E,_):isFillGradient(E)?handleFillGradient(C,E,_):A.fill&&isFillPattern(A.fill)?handleFillPattern(A,A.fill,_):A.fill&&isFillGradient(A.fill)?handleFillGradient(A,A.fill,_):handleFillObject(A,_)}function toStrokeStyle(E,_){const{width:C,alignment:A,miterLimit:P,cap:O,join:z,pixelLine:I,...B}=_,U=toFillStyle(E,B);return U?{width:C,alignment:A,miterLimit:P,cap:O,join:z,pixelLine:I,...U}:null}const tmpPoint=new Point,tempMatrix=new Matrix,_GraphicsContext=class wr extends EventEmitter{constructor(){super(...arguments),this.uid=uid("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new GraphicsPath,this._transform=new Matrix,this._fillStyle={...wr.defaultFillStyle},this._strokeStyle={...wr.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Bounds,this._boundsDirty=!0}clone(){const _=new wr;return _.batchMode=this.batchMode,_.instructions=this.instructions.slice(),_._activePath=this._activePath.clone(),_._transform=this._transform.clone(),_._fillStyle={...this._fillStyle},_._strokeStyle={...this._strokeStyle},_._stateStack=this._stateStack.slice(),_._bounds=this._bounds.clone(),_._boundsDirty=!0,_}get fillStyle(){return this._fillStyle}set fillStyle(_){this._fillStyle=toFillStyle(_,wr.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(_){this._strokeStyle=toStrokeStyle(_,wr.defaultStrokeStyle)}setFillStyle(_){return this._fillStyle=toFillStyle(_,wr.defaultFillStyle),this}setStrokeStyle(_){return this._strokeStyle=toFillStyle(_,wr.defaultStrokeStyle),this}texture(_,C,A,P,O,z){return this.instructions.push({action:"texture",data:{image:_,dx:A||0,dy:P||0,dw:O||_.frame.width,dh:z||_.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:C?Color.shared.setValue(C).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new GraphicsPath,this}fill(_,C){let A;const P=this.instructions[this.instructions.length-1];return this._tick===0&&P?.action==="stroke"?A=P.data.path:A=this._activePath.clone(),A?(_!=null&&(C!==void 0&&typeof _=="number"&&(deprecation(v8_0_0,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),_={color:_,alpha:C}),this._fillStyle=toFillStyle(_,wr.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:A}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:_,y:C}=this._activePath.getLastPoint(Point.shared);this._activePath.clear(),this._activePath.moveTo(_,C)}stroke(_){let C;const A=this.instructions[this.instructions.length-1];return this._tick===0&&A?.action==="fill"?C=A.data.path:C=this._activePath.clone(),C?(_!=null&&(this._strokeStyle=toStrokeStyle(_,wr.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:C}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let _=0;_<2;_++){const C=this.instructions[this.instructions.length-1-_],A=this._activePath.clone();if(C&&(C.action==="stroke"||C.action==="fill"))if(C.data.hole)C.data.hole.addPath(A);else{C.data.hole=A;break}}return this._initNextPathLocation(),this}arc(_,C,A,P,O,z){this._tick++;const I=this._transform;return this._activePath.arc(I.a*_+I.c*C+I.tx,I.b*_+I.d*C+I.ty,A,P,O,z),this}arcTo(_,C,A,P,O){this._tick++;const z=this._transform;return this._activePath.arcTo(z.a*_+z.c*C+z.tx,z.b*_+z.d*C+z.ty,z.a*A+z.c*P+z.tx,z.b*A+z.d*P+z.ty,O),this}arcToSvg(_,C,A,P,O,z,I){this._tick++;const B=this._transform;return this._activePath.arcToSvg(_,C,A,P,O,B.a*z+B.c*I+B.tx,B.b*z+B.d*I+B.ty),this}bezierCurveTo(_,C,A,P,O,z,I){this._tick++;const B=this._transform;return this._activePath.bezierCurveTo(B.a*_+B.c*C+B.tx,B.b*_+B.d*C+B.ty,B.a*A+B.c*P+B.tx,B.b*A+B.d*P+B.ty,B.a*O+B.c*z+B.tx,B.b*O+B.d*z+B.ty,I),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(_,C,A,P){return this._tick++,this._activePath.ellipse(_,C,A,P,this._transform.clone()),this}circle(_,C,A){return this._tick++,this._activePath.circle(_,C,A,this._transform.clone()),this}path(_){return this._tick++,this._activePath.addPath(_,this._transform.clone()),this}lineTo(_,C){this._tick++;const A=this._transform;return this._activePath.lineTo(A.a*_+A.c*C+A.tx,A.b*_+A.d*C+A.ty),this}moveTo(_,C){this._tick++;const A=this._transform,P=this._activePath.instructions,O=A.a*_+A.c*C+A.tx,z=A.b*_+A.d*C+A.ty;return P.length===1&&P[0].action==="moveTo"?(P[0].data[0]=O,P[0].data[1]=z,this):(this._activePath.moveTo(O,z),this)}quadraticCurveTo(_,C,A,P,O){this._tick++;const z=this._transform;return this._activePath.quadraticCurveTo(z.a*_+z.c*C+z.tx,z.b*_+z.d*C+z.ty,z.a*A+z.c*P+z.tx,z.b*A+z.d*P+z.ty,O),this}rect(_,C,A,P){return this._tick++,this._activePath.rect(_,C,A,P,this._transform.clone()),this}roundRect(_,C,A,P,O){return this._tick++,this._activePath.roundRect(_,C,A,P,O,this._transform.clone()),this}poly(_,C){return this._tick++,this._activePath.poly(_,C,this._transform.clone()),this}regularPoly(_,C,A,P,O=0,z){return this._tick++,this._activePath.regularPoly(_,C,A,P,O,z),this}roundPoly(_,C,A,P,O,z){return this._tick++,this._activePath.roundPoly(_,C,A,P,O,z),this}roundShape(_,C,A,P){return this._tick++,this._activePath.roundShape(_,C,A,P),this}filletRect(_,C,A,P,O){return this._tick++,this._activePath.filletRect(_,C,A,P,O),this}chamferRect(_,C,A,P,O,z){return this._tick++,this._activePath.chamferRect(_,C,A,P,O,z),this}star(_,C,A,P,O=0,z=0){return this._tick++,this._activePath.star(_,C,A,P,O,z,this._transform.clone()),this}svg(_){return this._tick++,SVGParser(_,this),this}restore(){const _=this._stateStack.pop();return _&&(this._transform=_.transform,this._fillStyle=_.fillStyle,this._strokeStyle=_.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(_){return this._transform.rotate(_),this}scale(_,C=_){return this._transform.scale(_,C),this}setTransform(_,C,A,P,O,z){return _ instanceof Matrix?(this._transform.set(_.a,_.b,_.c,_.d,_.tx,_.ty),this):(this._transform.set(_,C,A,P,O,z),this)}transform(_,C,A,P,O,z){return _ instanceof Matrix?(this._transform.append(_),this):(tempMatrix.set(_,C,A,P,O,z),this._transform.append(tempMatrix),this)}translate(_,C=_){return this._transform.translate(_,C),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const _=this._bounds;_.clear();for(let C=0;C<this.instructions.length;C++){const A=this.instructions[C],P=A.action;if(P==="fill"){const O=A.data;_.addBounds(O.path.bounds)}else if(P==="texture"){const O=A.data;_.addFrame(O.dx,O.dy,O.dx+O.dw,O.dy+O.dh,O.transform)}if(P==="stroke"){const O=A.data,z=O.style.alignment,I=O.style.width*(1-z),B=O.path.bounds;_.addFrame(B.minX-I,B.minY-I,B.maxX+I,B.maxY+I)}}return _}containsPoint(_){if(!this.bounds.containsPoint(_.x,_.y))return!1;const C=this.instructions;let A=!1;for(let P=0;P<C.length;P++){const O=C[P],z=O.data,I=z.path;if(!O.action||!I)continue;const B=z.style,U=I.shapePath.shapePrimitives;for(let G=0;G<U.length;G++){const F=U[G].shape;if(!B||!F)continue;const q=U[G].transform,Y=q?q.applyInverse(_,tmpPoint):_;if(O.action==="fill")A=F.contains(Y.x,Y.y);else{const Q=B;A=F.strokeContains(Y.x,Y.y,Q.width,Q.alignment)}const W=z.hole;if(W){const Q=W.shapePath?.shapePrimitives;if(Q)for(let J=0;J<Q.length;J++)Q[J].shape.contains(Y.x,Y.y)&&(A=!1)}if(A)return!0}}return A}destroy(_=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof _=="boolean"?_:_?.texture){const A=typeof _=="boolean"?_:_?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(A)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(A))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};_GraphicsContext.defaultFillStyle={color:16777215,alpha:1,texture:Texture.WHITE,matrix:null,fill:null,textureSpace:"local"};_GraphicsContext.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Texture.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let GraphicsContext=_GraphicsContext;const _TextStyle=class Es extends EventEmitter{constructor(_={}){super(),this.uid=uid("textStyle"),this._tick=0,convertV7Tov8Style(_);const C={...Es.defaultTextStyle,..._};for(const A in C){const P=A;this[P]=C[A]}this.update(),this._tick=0}get align(){return this._align}set align(_){this._align!==_&&(this._align=_,this.update())}get breakWords(){return this._breakWords}set breakWords(_){this._breakWords!==_&&(this._breakWords=_,this.update())}get dropShadow(){return this._dropShadow}set dropShadow(_){this._dropShadow!==_&&(_!==null&&typeof _=="object"?this._dropShadow=this._createProxy({...Es.defaultDropShadow,..._}):this._dropShadow=_?this._createProxy({...Es.defaultDropShadow}):null,this.update())}get fontFamily(){return this._fontFamily}set fontFamily(_){this._fontFamily!==_&&(this._fontFamily=_,this.update())}get fontSize(){return this._fontSize}set fontSize(_){this._fontSize!==_&&(typeof _=="string"?this._fontSize=parseInt(_,10):this._fontSize=_,this.update())}get fontStyle(){return this._fontStyle}set fontStyle(_){this._fontStyle!==_&&(this._fontStyle=_.toLowerCase(),this.update())}get fontVariant(){return this._fontVariant}set fontVariant(_){this._fontVariant!==_&&(this._fontVariant=_,this.update())}get fontWeight(){return this._fontWeight}set fontWeight(_){this._fontWeight!==_&&(this._fontWeight=_,this.update())}get leading(){return this._leading}set leading(_){this._leading!==_&&(this._leading=_,this.update())}get letterSpacing(){return this._letterSpacing}set letterSpacing(_){this._letterSpacing!==_&&(this._letterSpacing=_,this.update())}get lineHeight(){return this._lineHeight}set lineHeight(_){this._lineHeight!==_&&(this._lineHeight=_,this.update())}get padding(){return this._padding}set padding(_){this._padding!==_&&(this._padding=_,this.update())}get filters(){return this._filters}set filters(_){this._filters!==_&&(this._filters=Object.freeze(_),this.update())}get trim(){return this._trim}set trim(_){this._trim!==_&&(this._trim=_,this.update())}get textBaseline(){return this._textBaseline}set textBaseline(_){this._textBaseline!==_&&(this._textBaseline=_,this.update())}get whiteSpace(){return this._whiteSpace}set whiteSpace(_){this._whiteSpace!==_&&(this._whiteSpace=_,this.update())}get wordWrap(){return this._wordWrap}set wordWrap(_){this._wordWrap!==_&&(this._wordWrap=_,this.update())}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(_){this._wordWrapWidth!==_&&(this._wordWrapWidth=_,this.update())}get fill(){return this._originalFill}set fill(_){_!==this._originalFill&&(this._originalFill=_,this._isFillStyle(_)&&(this._originalFill=this._createProxy({...GraphicsContext.defaultFillStyle,..._},()=>{this._fill=toFillStyle({...this._originalFill},GraphicsContext.defaultFillStyle)})),this._fill=toFillStyle(_===0?"black":_,GraphicsContext.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(_){_!==this._originalStroke&&(this._originalStroke=_,this._isFillStyle(_)&&(this._originalStroke=this._createProxy({...GraphicsContext.defaultStrokeStyle,..._},()=>{this._stroke=toStrokeStyle({...this._originalStroke},GraphicsContext.defaultStrokeStyle)})),this._stroke=toStrokeStyle(_,GraphicsContext.defaultStrokeStyle),this.update())}update(){this._tick++,this.emit("update",this)}reset(){const _=Es.defaultTextStyle;for(const C in _)this[C]=_[C]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new Es({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let _=0;if(this._filters)for(let C=0;C<this._filters.length;C++)_+=this._filters[C].padding;return Math.max(this._padding,_)}destroy(_=!1){if(this.removeAllListeners(),typeof _=="boolean"?_:_?.texture){const A=typeof _=="boolean"?_:_?.textureSource;this._fill?.texture&&this._fill.texture.destroy(A),this._originalFill?.texture&&this._originalFill.texture.destroy(A),this._stroke?.texture&&this._stroke.texture.destroy(A),this._originalStroke?.texture&&this._originalStroke.texture.destroy(A)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(_,C){return new Proxy(_,{set:(A,P,O)=>(A[P]===O||(A[P]=O,C?.(P,O),this.update()),!0)})}_isFillStyle(_){return(_??null)!==null&&!(Color.isColorLike(_)||_ instanceof FillGradient||_ instanceof FillPattern)}};_TextStyle.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};_TextStyle.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let TextStyle=_TextStyle;function convertV7Tov8Style(E){const _=E;if(typeof _.dropShadow=="boolean"&&_.dropShadow){const C=TextStyle.defaultDropShadow;E.dropShadow={alpha:_.dropShadowAlpha??C.alpha,angle:_.dropShadowAngle??C.angle,blur:_.dropShadowBlur??C.blur,color:_.dropShadowColor??C.color,distance:_.dropShadowDistance??C.distance}}if(_.strokeThickness!==void 0){deprecation(v8_0_0,"strokeThickness is now a part of stroke");const C=_.stroke;let A={};if(Color.isColorLike(C))A.color=C;else if(C instanceof FillGradient||C instanceof FillPattern)A.fill=C;else if(Object.hasOwnProperty.call(C,"color")||Object.hasOwnProperty.call(C,"fill"))A=C;else throw new Error("Invalid stroke value.");E.stroke={...A,width:_.strokeThickness}}if(Array.isArray(_.fillGradientStops)){if(deprecation(v8_0_0,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(_.fill)||_.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");_.fill.length!==_.fillGradientStops.length&&warn("The number of fill colors must match the number of fill gradient stops.");const C=new FillGradient({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),A=_.fillGradientStops.slice(),P=_.fill.map(O=>Color.shared.setValue(O).toNumber());A.forEach((O,z)=>{C.addColorStop(O,P[z])}),E.fill={fill:C}}}class CanvasPoolClass{constructor(_){this._canvasPool=Object.create(null),this.canvasOptions=_||{},this.enableFullScreen=!1}_createCanvasAndContext(_,C){const A=DOMAdapter.get().createCanvas();A.width=_,A.height=C;const P=A.getContext("2d");return{canvas:A,context:P}}getOptimalCanvasAndContext(_,C,A=1){_=Math.ceil(_*A-1e-6),C=Math.ceil(C*A-1e-6),_=nextPow2(_),C=nextPow2(C);const P=(_<<17)+(C<<1);this._canvasPool[P]||(this._canvasPool[P]=[]);let O=this._canvasPool[P].pop();return O||(O=this._createCanvasAndContext(_,C)),O}returnCanvasAndContext(_){const C=_.canvas,{width:A,height:P}=C,O=(A<<17)+(P<<1);_.context.resetTransform(),_.context.clearRect(0,0,A,P),this._canvasPool[O].push(_)}clear(){this._canvasPool={}}}const CanvasPool=new CanvasPoolClass;GlobalResourceRegistry.register(CanvasPool);const PRECISION=1e5;function getCanvasFillStyle(E,_,C,A=0){if(E.texture===Texture.WHITE&&!E.fill)return Color.shared.setValue(E.color).setAlpha(E.alpha??1).toHexa();if(E.fill){if(E.fill instanceof FillPattern){const P=E.fill,O=_.createPattern(P.texture.source.resource,"repeat"),z=P.transform.copyTo(Matrix.shared);return z.scale(P.texture.frame.width,P.texture.frame.height),O.setTransform(z),O}else if(E.fill instanceof FillGradient){const P=E.fill,O=P.type==="linear",z=P.textureSpace==="local";let I=1,B=1;z&&C&&(I=C.width+A,B=C.height+A);let U,G=!1;if(O){const{start:F,end:q}=P;U=_.createLinearGradient(F.x*I,F.y*B,q.x*I,q.y*B),G=Math.abs(q.x-F.x)<Math.abs((q.y-F.y)*.1)}else{const{center:F,innerRadius:q,outerCenter:Y,outerRadius:W}=P;U=_.createRadialGradient(F.x*I,F.y*B,q*I,Y.x*I,Y.y*B,W*I)}if(G&&z&&C){const F=C.lineHeight/B;for(let q=0;q<C.lines.length;q++){const Y=(q*C.lineHeight+A/2)/B;P.colorStops.forEach(W=>{const Q=Y+W.offset*F;U.addColorStop(Math.floor(Q*PRECISION)/PRECISION,Color.shared.setValue(W.color).toHex())})}}else P.colorStops.forEach(F=>{U.addColorStop(F.offset,Color.shared.setValue(F.color).toHex())});return U}}else{const P=_.createPattern(E.texture.source.resource,"repeat"),O=E.matrix.copyTo(Matrix.shared);return O.scale(E.texture.frame.width,E.texture.frame.height),P.setTransform(O),P}return warn("FillStyle not recognised",E),"red"}class Graphics extends ViewContainer{constructor(_){_ instanceof GraphicsContext&&(_={context:_});const{context:C,roundPixels:A,...P}=_||{};super({label:"Graphics",...P}),this.renderPipeId="graphics",C?this._context=C:this._context=this._ownedContext=new GraphicsContext,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=A??!1}set context(_){_!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=_,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(_){return this._context.containsPoint(_)}destroy(_){this._ownedContext&&!_?this._ownedContext.destroy(_):(_===!0||_?.context===!0)&&this._context.destroy(_),this._ownedContext=null,this._context=null,super.destroy(_)}_callContextMethod(_,C){return this.context[_](...C),this}setFillStyle(..._){return this._callContextMethod("setFillStyle",_)}setStrokeStyle(..._){return this._callContextMethod("setStrokeStyle",_)}fill(..._){return this._callContextMethod("fill",_)}stroke(..._){return this._callContextMethod("stroke",_)}texture(..._){return this._callContextMethod("texture",_)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(..._){return this._callContextMethod("arc",_)}arcTo(..._){return this._callContextMethod("arcTo",_)}arcToSvg(..._){return this._callContextMethod("arcToSvg",_)}bezierCurveTo(..._){return this._callContextMethod("bezierCurveTo",_)}closePath(){return this._callContextMethod("closePath",[])}ellipse(..._){return this._callContextMethod("ellipse",_)}circle(..._){return this._callContextMethod("circle",_)}path(..._){return this._callContextMethod("path",_)}lineTo(..._){return this._callContextMethod("lineTo",_)}moveTo(..._){return this._callContextMethod("moveTo",_)}quadraticCurveTo(..._){return this._callContextMethod("quadraticCurveTo",_)}rect(..._){return this._callContextMethod("rect",_)}roundRect(..._){return this._callContextMethod("roundRect",_)}poly(..._){return this._callContextMethod("poly",_)}regularPoly(..._){return this._callContextMethod("regularPoly",_)}roundPoly(..._){return this._callContextMethod("roundPoly",_)}roundShape(..._){return this._callContextMethod("roundShape",_)}filletRect(..._){return this._callContextMethod("filletRect",_)}chamferRect(..._){return this._callContextMethod("chamferRect",_)}star(..._){return this._callContextMethod("star",_)}svg(..._){return this._callContextMethod("svg",_)}restore(..._){return this._callContextMethod("restore",_)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(..._){return this._callContextMethod("rotate",_)}scaleTransform(..._){return this._callContextMethod("scale",_)}setTransform(..._){return this._callContextMethod("setTransform",_)}transform(..._){return this._callContextMethod("transform",_)}translateTransform(..._){return this._callContextMethod("translate",_)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(_){this._context.fillStyle=_}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(_){this._context.strokeStyle=_}clone(_=!1){return _?new Graphics(this._context.clone()):(this._ownedContext=null,new Graphics(this._context))}lineStyle(_,C,A){deprecation(v8_0_0,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const P={};return _&&(P.width=_),C&&(P.color=C),A&&(P.alpha=A),this.context.strokeStyle=P,this}beginFill(_,C){deprecation(v8_0_0,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const A={};return _!==void 0&&(A.color=_),C!==void 0&&(A.alpha=C),this.context.fillStyle=A,this}endFill(){deprecation(v8_0_0,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const _=this.context.strokeStyle;return(_.width!==GraphicsContext.defaultStrokeStyle.width||_.color!==GraphicsContext.defaultStrokeStyle.color||_.alpha!==GraphicsContext.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(..._){return deprecation(v8_0_0,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",_)}drawEllipse(..._){return deprecation(v8_0_0,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",_)}drawPolygon(..._){return deprecation(v8_0_0,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",_)}drawRect(..._){return deprecation(v8_0_0,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",_)}drawRoundedRect(..._){return deprecation(v8_0_0,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",_)}drawStar(..._){return deprecation(v8_0_0,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",_)}}class AbstractText extends ViewContainer{constructor(_,C){const{text:A,resolution:P,style:O,anchor:z,width:I,height:B,roundPixels:U,...G}=_;super({...G}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=C,this.text=A??"",this.style=O,this.resolution=P??null,this.allowChildren=!1,this._anchor=new ObservablePoint({_onUpdate:()=>{this.onViewUpdate()}}),z&&(this.anchor=z),this.roundPixels=U??!1,I!==void 0&&(this.width=I),B!==void 0&&(this.height=B)}get anchor(){return this._anchor}set anchor(_){typeof _=="number"?this._anchor.set(_):this._anchor.copyFrom(_)}set text(_){_=_.toString(),this._text!==_&&(this._text=_,this.onViewUpdate())}get text(){return this._text}set resolution(_){this._autoResolution=_===null,this._resolution=_,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(_){_||(_={}),this._style?.off("update",this.onViewUpdate,this),_ instanceof this._styleClass?this._style=_:this._style=new this._styleClass(_),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(_){this._setWidth(_,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(_){this._setHeight(_,this.bounds.height)}getSize(_){return _||(_={}),_.width=Math.abs(this.scale.x)*this.bounds.width,_.height=Math.abs(this.scale.y)*this.bounds.height,_}setSize(_,C){typeof _=="object"?(C=_.height??_.width,_=_.width):C??(C=_),_!==void 0&&this._setWidth(_,this.bounds.width),C!==void 0&&this._setHeight(C,this.bounds.height)}containsPoint(_){const C=this.bounds.width,A=this.bounds.height,P=-C*this.anchor.x;let O=0;return _.x>=P&&_.x<=P+C&&(O=-A*this.anchor.y,_.y>=O&&_.y<=O+A)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(_=!1){super.destroy(_),this.owner=null,this._bounds=null,this._anchor=null,(typeof _=="boolean"?_:_?.style)&&this._style.destroy(_),this._style=null,this._text=null}get styleKey(){return`${this._text}:${this._style.styleKey}:${this._resolution}`}}function ensureTextOptions(E,_){let C=E[0]??{};return(typeof C=="string"||E[1])&&(deprecation(v8_0_0,`use new ${_}({ text: "hi!", style }) instead`),C={text:C,style:E[1]}),C}let _internalCanvas=null,_internalContext=null;function ensureInternalCanvas(E,_){_internalCanvas||(_internalCanvas=DOMAdapter.get().createCanvas(256,128),_internalContext=_internalCanvas.getContext("2d",{willReadFrequently:!0}),_internalContext.globalCompositeOperation="copy",_internalContext.globalAlpha=1),(_internalCanvas.width<E||_internalCanvas.height<_)&&(_internalCanvas.width=nextPow2(E),_internalCanvas.height=nextPow2(_))}function checkRow(E,_,C){for(let A=0,P=4*C*_;A<_;++A,P+=4)if(E[P+3]!==0)return!1;return!0}function checkColumn(E,_,C,A,P){const O=4*_;for(let z=A,I=A*O+4*C;z<=P;++z,I+=O)if(E[I+3]!==0)return!1;return!0}function getCanvasBoundingBox(...E){let _=E[0];_.canvas||(_={canvas:E[0],resolution:E[1]});const{canvas:C}=_,A=Math.min(_.resolution??1,1),P=_.width??C.width,O=_.height??C.height;let z=_.output;if(ensureInternalCanvas(P,O),!_internalContext)throw new TypeError("Failed to get canvas 2D context");_internalContext.drawImage(C,0,0,P,O,0,0,P*A,O*A);const B=_internalContext.getImageData(0,0,P,O).data;let U=0,G=0,F=P-1,q=O-1;for(;G<O&&checkRow(B,P,G);)++G;if(G===O)return Rectangle.EMPTY;for(;checkRow(B,P,q);)--q;for(;checkColumn(B,P,U,G,q);)++U;for(;checkColumn(B,P,F,G,q);)--F;return++F,++q,_internalContext.globalCompositeOperation="source-over",_internalContext.strokeRect(U,G,F-U,q-G),_internalContext.globalCompositeOperation="copy",z??(z=new Rectangle),z.set(U/A,G/A,(F-U)/A,(q-G)/A),z}const tempRect=new Rectangle;class CanvasTextGeneratorClass{getCanvasAndContext(_){const{text:C,style:A,resolution:P=1}=_,O=A._getFinalPadding(),z=CanvasTextMetrics.measureText(C||" ",A),I=Math.ceil(Math.ceil(Math.max(1,z.width)+O*2)*P),B=Math.ceil(Math.ceil(Math.max(1,z.height)+O*2)*P),U=CanvasPool.getOptimalCanvasAndContext(I,B);this._renderTextToCanvas(C,A,O,P,U);const G=A.trim?getCanvasBoundingBox({canvas:U.canvas,width:I,height:B,resolution:1,output:tempRect}):tempRect.set(0,0,I,B);return{canvasAndContext:U,frame:G}}returnCanvasAndContext(_){CanvasPool.returnCanvasAndContext(_)}_renderTextToCanvas(_,C,A,P,O){const{canvas:z,context:I}=O,B=fontStringFromTextStyle(C),U=CanvasTextMetrics.measureText(_||" ",C),G=U.lines,F=U.lineHeight,q=U.lineWidths,Y=U.maxLineWidth,W=U.fontProperties,Q=z.height;if(I.resetTransform(),I.scale(P,P),I.textBaseline=C.textBaseline,C._stroke?.width){const se=C._stroke;I.lineWidth=se.width,I.miterLimit=se.miterLimit,I.lineJoin=se.join,I.lineCap=se.cap}I.font=B;let J,ee;const ne=C.dropShadow?2:1;for(let se=0;se<ne;++se){const ie=C.dropShadow&&se===0,fe=ie?Math.ceil(Math.max(1,Q)+A*2):0,me=fe*P;if(ie){I.fillStyle="black",I.strokeStyle="black";const ae=C.dropShadow,ue=ae.color,xe=ae.alpha;I.shadowColor=Color.shared.setValue(ue).setAlpha(xe).toRgbaString();const Ae=ae.blur*P,he=ae.distance*P;I.shadowBlur=Ae,I.shadowOffsetX=Math.cos(ae.angle)*he,I.shadowOffsetY=Math.sin(ae.angle)*he+me}else{if(I.fillStyle=C._fill?getCanvasFillStyle(C._fill,I,U,A*2):null,C._stroke?.width){const ae=C._stroke.width*.5+A*2;I.strokeStyle=getCanvasFillStyle(C._stroke,I,U,ae)}I.shadowColor="black"}let le=(F-W.fontSize)/2;F-W.fontSize<0&&(le=0);const te=C._stroke?.width??0;for(let ae=0;ae<G.length;ae++)J=te/2,ee=te/2+ae*F+W.ascent+le,C.align==="right"?J+=Y-q[ae]:C.align==="center"&&(J+=(Y-q[ae])/2),C._stroke?.width&&this._drawLetterSpacing(G[ae],C,O,J+A,ee+A-fe,!0),C._fill!==void 0&&this._drawLetterSpacing(G[ae],C,O,J+A,ee+A-fe)}}_drawLetterSpacing(_,C,A,P,O,z=!1){const{context:I}=A,B=C.letterSpacing;let U=!1;if(CanvasTextMetrics.experimentalLetterSpacingSupported&&(CanvasTextMetrics.experimentalLetterSpacing?(I.letterSpacing=`${B}px`,I.textLetterSpacing=`${B}px`,U=!0):(I.letterSpacing="0px",I.textLetterSpacing="0px")),B===0||U){z?I.strokeText(_,P,O):I.fillText(_,P,O);return}let G=P;const F=CanvasTextMetrics.graphemeSegmenter(_);let q=I.measureText(_).width,Y=0;for(let W=0;W<F.length;++W){const Q=F[W];z?I.strokeText(Q,G,O):I.fillText(Q,G,O);let J="";for(let ee=W+1;ee<F.length;++ee)J+=F[ee];Y=I.measureText(J).width,G+=q-Y+B,q=Y}}}const CanvasTextGenerator=new CanvasTextGeneratorClass;class Text extends AbstractText{constructor(..._){const C=ensureTextOptions(_,"Text");super(C,TextStyle),this.renderPipeId="text",C.textureStyle&&(this.textureStyle=C.textureStyle instanceof TextureStyle?C.textureStyle:new TextureStyle(C.textureStyle))}updateBounds(){const _=this._bounds,C=this._anchor;let A=0,P=0;if(this._style.trim){const{frame:O,canvasAndContext:z}=CanvasTextGenerator.getCanvasAndContext({text:this.text,style:this._style,resolution:1});CanvasTextGenerator.returnCanvasAndContext(z),A=O.width,P=O.height}else{const O=CanvasTextMetrics.measureText(this._text,this._style);A=O.width,P=O.height}_.minX=-C._x*A,_.maxX=_.minX+A,_.minY=-C._y*P,_.maxY=_.minY+P}}extensions.add(browserExt,webworkerExt);function rgbToHex(E,_,C){return E<<16|_<<8|C}function rgbaToHex(E,_,C,A){return rgbToHex(E,_,C)}const defaultTheme={background:16777215,cellSoft:rgbaToHex,cellHard:rgbToHex,apicalPoint:9835540,basalPoint:0,apicalLink:6553600,basalLink:0,scaleBar:6579300,text:5263520};class SimulationRenderer{app;mainContainer;cellsContainer;linksContainer;overlayContainer;theme;showScaleBar;params=null;scaleX=1;scaleY=1;translateX=0;translateY=0;constructor(_){this.theme=_.theme??defaultTheme,this.showScaleBar=_.showScaleBar??!0,this.app=new Application,this.linksContainer=new Container,this.cellsContainer=new Container,this.overlayContainer=new Container,this.mainContainer=new Container,this.mainContainer.addChild(this.linksContainer),this.mainContainer.addChild(this.cellsContainer),this.mainContainer.addChild(this.overlayContainer)}async init(_){await this.app.init({canvas:_,width:_.width,height:_.height,backgroundColor:this.theme.background,antialias:!0,resolution:window.devicePixelRatio||1,autoDensity:!0}),this.app.stage.addChild(this.mainContainer)}setParams(_){this.params=_,this.updateViewport()}resize(_,C){this.app.renderer.resize(_,C),this.updateViewport()}updateViewport(){if(!this.params)return;const _=this.params.general,C=this.app.renderer.width,A=this.app.renderer.height,P=_.w_screen/_.h_screen;C/A>P?(this.scaleY=-A/_.h_screen,this.scaleX=-this.scaleY):(this.scaleX=C/_.w_screen,this.scaleY=-this.scaleX),this.translateX=C/2,this.translateY=A-(_.h_screen-_.h_init)*.25*Math.abs(this.scaleY),this.mainContainer.scale.set(this.scaleX,this.scaleY),this.mainContainer.position.set(this.translateX,this.translateY)}render(_){this.params&&(this.cellsContainer.removeChildren(),this.linksContainer.removeChildren(),this.overlayContainer.removeChildren(),this.drawBasalLinks(_),this.drawApicalLinks(_),this.drawCells(_),this.showScaleBar&&this.drawScaleBar())}drawCells(_){const C=new Graphics;for(const A of _.cells){const O=(this.params.cell_types[A.typeIndex]??this.params.cell_types.control).color;C.circle(A.pos.x,A.pos.y,A.R_soft),C.fill({color:rgbToHex(O.r,O.g,O.b),alpha:.4}),C.circle(A.pos.x,A.pos.y,A.R_hard),C.fill({color:rgbToHex(O.r,O.g,O.b),alpha:1}),C.circle(A.A.x,A.A.y,.1),C.fill({color:this.theme.apicalPoint,alpha:1}),C.circle(A.B.x,A.B.y,.1),C.fill({color:this.theme.basalPoint,alpha:1}),C.moveTo(A.A.x,A.A.y),C.lineTo(A.pos.x,A.pos.y),C.lineTo(A.B.x,A.B.y),C.stroke({color:6566400,alpha:.5,width:.05})}this.cellsContainer.addChild(C)}drawApicalLinks(_){const C=new Graphics;for(const A of _.ap_links){const P=_.cells[A.l],O=_.cells[A.r];P&&O&&(C.moveTo(P.A.x,P.A.y),C.lineTo(O.A.x,O.A.y))}C.stroke({color:this.theme.apicalLink,alpha:1,width:.05}),this.linksContainer.addChild(C)}drawBasalLinks(_){const C=new Graphics;for(const A of _.ba_links){const P=_.cells[A.l],O=_.cells[A.r];P&&O&&(C.moveTo(P.B.x,P.B.y),C.lineTo(O.B.x,O.B.y))}C.stroke({color:this.theme.basalLink,alpha:1,width:.05}),this.linksContainer.addChild(C)}drawScaleBar(){if(!this.params)return;const _=this.params.general,C=2,A=_.w_screen/2-6,P=-.05*_.h_screen,O=new Graphics;O.moveTo(A,P),O.lineTo(A+C,P),O.stroke({color:this.theme.scaleBar,alpha:1,width:.1}),this.overlayContainer.addChild(O);const z=new TextStyle({fontFamily:"monospace",fontSize:14,fill:this.theme.text}),I=new Text({text:"10 m",style:z}),B=A*this.scaleX+this.translateX,U=P*this.scaleY+this.translateY;I.position.set(B,U+15),I.scale.set(1/Math.abs(this.scaleX),1/Math.abs(this.scaleY))}getApp(){return this.app}destroy(){this.app.destroy(!0)}}function SimulationCanvas({state:E,params:_,width:C=800,height:A=400,className:P,style:O}){const z=reactExports.useRef(null),I=reactExports.useRef(null),[B,U]=reactExports.useState(!1);return reactExports.useEffect(()=>{const G=z.current;if(!G)return;let F=!0;return(async()=>{const Y=new SimulationRenderer({width:C,height:A});await Y.init(G),F&&(I.current=Y,Y.setParams(_),U(!0))})(),()=>{F=!1,I.current&&(I.current.destroy(),I.current=null),U(!1)}},[]),reactExports.useEffect(()=>{I.current&&B&&I.current.setParams(_)},[_,B]),reactExports.useEffect(()=>{I.current&&B&&I.current.resize(C,A)},[C,A,B]),reactExports.useEffect(()=>{I.current&&E&&B&&I.current.render(E)},[E,B]),jsxRuntimeExports.jsx("canvas",{ref:z,width:C,height:A,className:P,style:{display:"block",...O}})}function createContextScope(E,_=[]){let C=[];function A(O,z){const I=reactExports.createContext(z);I.displayName=O+"Context";const B=C.length;C=[...C,z];const U=F=>{const{scope:q,children:Y,...W}=F,Q=q?.[E]?.[B]||I,J=reactExports.useMemo(()=>W,Object.values(W));return jsxRuntimeExports.jsx(Q.Provider,{value:J,children:Y})};U.displayName=O+"Provider";function G(F,q){const Y=q?.[E]?.[B]||I,W=reactExports.useContext(Y);if(W)return W;if(z!==void 0)return z;throw new Error(`\`${F}\` must be used within \`${O}\``)}return[U,G]}const P=()=>{const O=C.map(z=>reactExports.createContext(z));return function(I){const B=I?.[E]||O;return reactExports.useMemo(()=>({[`__scope${E}`]:{...I,[E]:B}}),[I,B])}};return P.scopeName=E,[A,composeContextScopes(P,..._)]}function composeContextScopes(...E){const _=E[0];if(E.length===1)return _;const C=()=>{const A=E.map(P=>({useScope:P(),scopeName:P.scopeName}));return function(O){const z=A.reduce((I,{useScope:B,scopeName:U})=>{const F=B(O)[`__scope${U}`];return{...I,...F}},{});return reactExports.useMemo(()=>({[`__scope${_.scopeName}`]:z}),[z])}};return C.scopeName=_.scopeName,C}var NODES$2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$2=NODES$2.reduce((E,_)=>{const C=createSlot$3(`Primitive.${_}`),A=reactExports.forwardRef((P,O)=>{const{asChild:z,...I}=P,B=z?C:_;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(B,{...I,ref:O})});return A.displayName=`Primitive.${_}`,{...E,[_]:A}},{}),PROGRESS_NAME="Progress",DEFAULT_MAX=100,[createProgressContext]=createContextScope(PROGRESS_NAME),[ProgressProvider,useProgressContext]=createProgressContext(PROGRESS_NAME),Progress$1=reactExports.forwardRef((E,_)=>{const{__scopeProgress:C,value:A=null,max:P,getValueLabel:O=defaultGetValueLabel,...z}=E;(P||P===0)&&!isValidMaxNumber(P)&&console.error(getInvalidMaxError(`${P}`,"Progress"));const I=isValidMaxNumber(P)?P:DEFAULT_MAX;A!==null&&!isValidValueNumber(A,I)&&console.error(getInvalidValueError(`${A}`,"Progress"));const B=isValidValueNumber(A,I)?A:null,U=isNumber(B)?O(B,I):void 0;return jsxRuntimeExports.jsx(ProgressProvider,{scope:C,value:B,max:I,children:jsxRuntimeExports.jsx(Primitive$2.div,{"aria-valuemax":I,"aria-valuemin":0,"aria-valuenow":isNumber(B)?B:void 0,"aria-valuetext":U,role:"progressbar","data-state":getProgressState(B,I),"data-value":B??void 0,"data-max":I,...z,ref:_})})});Progress$1.displayName=PROGRESS_NAME;var INDICATOR_NAME$1="ProgressIndicator",ProgressIndicator=reactExports.forwardRef((E,_)=>{const{__scopeProgress:C,...A}=E,P=useProgressContext(INDICATOR_NAME$1,C);return jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":getProgressState(P.value,P.max),"data-value":P.value??void 0,"data-max":P.max,...A,ref:_})});ProgressIndicator.displayName=INDICATOR_NAME$1;function defaultGetValueLabel(E,_){return`${Math.round(E/_*100)}%`}function getProgressState(E,_){return E==null?"indeterminate":E===_?"complete":"loading"}function isNumber(E){return typeof E=="number"}function isValidMaxNumber(E){return isNumber(E)&&!isNaN(E)&&E>0}function isValidValueNumber(E,_){return isNumber(E)&&!isNaN(E)&&E<=_&&E>=0}function getInvalidMaxError(E,_){return`Invalid prop \`max\` of value \`${E}\` supplied to \`${_}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DEFAULT_MAX}\`.`}function getInvalidValueError(E,_){return`Invalid prop \`value\` of value \`${E}\` supplied to \`${_}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DEFAULT_MAX} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Root$5=Progress$1,Indicator=ProgressIndicator;const Progress=reactExports.forwardRef(({className:E,value:_,...C},A)=>jsxRuntimeExports.jsx(Root$5,{ref:A,className:cn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",E),...C,children:jsxRuntimeExports.jsx(Indicator,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(_||0)}%)`}})}));Progress.displayName=Root$5.displayName;function SimulationControls({isRunning:E,isComplete:_,time:C,endTime:A,onStart:P,onPause:O,onReset:z,onStep:I}){const B=A>0?C/A*100:0;return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 flex-wrap",children:[E?jsxRuntimeExports.jsxs(Button,{onClick:O,variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Pause,{className:"h-4 w-4 mr-1"}),"Pause"]}):jsxRuntimeExports.jsxs(Button,{onClick:P,disabled:_,size:"sm",children:[jsxRuntimeExports.jsx(Play,{className:"h-4 w-4 mr-1"}),"Start"]}),jsxRuntimeExports.jsxs(Button,{onClick:I,disabled:E||_,variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(SkipForward,{className:"h-4 w-4 mr-1"}),"Step"]}),jsxRuntimeExports.jsxs(Button,{onClick:z,variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"h-4 w-4 mr-1"}),"Reset"]}),jsxRuntimeExports.jsxs("span",{className:"ml-auto text-sm text-muted-foreground self-center",children:[C.toFixed(2),"h / ",A,"h"]})]}),jsxRuntimeExports.jsx(Progress,{value:B,className:"h-2"})]})}const Card=reactExports.forwardRef(({className:E,..._},C)=>jsxRuntimeExports.jsx("div",{ref:C,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",E),..._}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:E,..._},C)=>jsxRuntimeExports.jsx("div",{ref:C,className:cn("flex flex-col space-y-1.5 p-6",E),..._}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:E,..._},C)=>jsxRuntimeExports.jsx("h3",{ref:C,className:cn("text-2xl font-semibold leading-none tracking-tight",E),..._}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:E,..._},C)=>jsxRuntimeExports.jsx("p",{ref:C,className:cn("text-sm text-muted-foreground",E),..._}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:E,..._},C)=>jsxRuntimeExports.jsx("div",{ref:C,className:cn("p-6 pt-0",E),..._}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:E,..._},C)=>jsxRuntimeExports.jsx("div",{ref:C,className:cn("flex items-center p-6 pt-0",E),..._}));CardFooter.displayName="CardFooter";var NODES$1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$1=NODES$1.reduce((E,_)=>{const C=createSlot$3(`Primitive.${_}`),A=reactExports.forwardRef((P,O)=>{const{asChild:z,...I}=P,B=z?C:_;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(B,{...I,ref:O})});return A.displayName=`Primitive.${_}`,{...E,[_]:A}},{}),NAME$3="Separator",DEFAULT_ORIENTATION="horizontal",ORIENTATIONS=["horizontal","vertical"],Separator$2=reactExports.forwardRef((E,_)=>{const{decorative:C,orientation:A=DEFAULT_ORIENTATION,...P}=E,O=isValidOrientation(A)?A:DEFAULT_ORIENTATION,I=C?{role:"none"}:{"aria-orientation":O==="vertical"?O:void 0,role:"separator"};return jsxRuntimeExports.jsx(Primitive$1.div,{"data-orientation":O,...I,...P,ref:_})});Separator$2.displayName=NAME$3;function isValidOrientation(E){return ORIENTATIONS.includes(E)}var Root$4=Separator$2;const Separator$1=reactExports.forwardRef(({className:E,orientation:_="horizontal",decorative:C=!0,...A},P)=>jsxRuntimeExports.jsx(Root$4,{ref:P,decorative:C,orientation:_,className:cn("shrink-0 bg-border",_==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",E),...A}));Separator$1.displayName=Root$4.displayName;function StatsPanel({state:E,params:_,onScreenshot:C,onRecord:A,onExportCSV:P,isRecording:O}){const z=E?.cells??[],I=z.filter(q=>q.typeIndex==="control"),B=z.filter(q=>q.typeIndex==="emt"),U=B.filter(q=>q.has_A),G=B.filter(q=>q.has_B),F=B.filter(q=>!q.has_A&&!q.has_B);return jsxRuntimeExports.jsxs(Card,{className:"h-full",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Statistics"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Total Cells:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:z.length}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Control Cells:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:I.length}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"EMT Cells:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:B.length}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Apical Links:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:E?.ap_links.length??0}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Basal Links:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:E?.ba_links.length??0})]}),jsxRuntimeExports.jsx(Separator$1,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium",children:"EMT Status"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"With Apical:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:U.length}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"With Basal:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:G.length}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Escaped:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:F.length})]})]}),jsxRuntimeExports.jsx(Separator$1,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium",children:"Time"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Current:"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[(E?.t??0).toFixed(2),"h"]}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"End:"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[_.general.t_end,"h"]}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Steps:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:E?.step_count??0})]})]}),jsxRuntimeExports.jsx(Separator$1,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium",children:"Export"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:C,disabled:!E,children:[jsxRuntimeExports.jsx(Camera,{className:"h-4 w-4 mr-2"}),"Screenshot"]}),jsxRuntimeExports.jsxs(Button,{variant:O?"destructive":"outline",size:"sm",onClick:A,disabled:!E,children:[jsxRuntimeExports.jsx(Video,{className:"h-4 w-4 mr-2"}),O?"Stop Recording":"Record Video"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:P,disabled:!E,children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]})]})]})}var CellPhase=(E=>(E[E.G1=0]="G1",E[E.G2=1]="G2",E[E.Mitosis=2]="Mitosis",E[E.Division=3]="Division",E))(CellPhase||{});function createInitialState(){return{cells:[],ap_links:[],ba_links:[],t:0,step_count:0}}class Vector2{constructor(_=0,C=0){this.x=_,this.y=C}static from(_){return new Vector2(_.x,_.y)}static zero(){return new Vector2(0,0)}static fromAngle(_){return new Vector2(Math.cos(_),Math.sin(_))}add(_){return new Vector2(this.x+_.x,this.y+_.y)}sub(_){return new Vector2(this.x-_.x,this.y-_.y)}scale(_){return new Vector2(this.x*_,this.y*_)}mult(_){return this.scale(_)}div(_){return _===0?(console.warn("Vector2.div: division by zero"),this):new Vector2(this.x/_,this.y/_)}negate(){return new Vector2(-this.x,-this.y)}mag(){return Math.sqrt(this.x*this.x+this.y*this.y)}magSq(){return this.x*this.x+this.y*this.y}normalize(){const _=this.mag();return _===0?this:new Vector2(this.x/_,this.y/_)}setMag(_){return this.normalize().scale(_)}limit(_){return this.magSq()>_*_?this.normalize().scale(_):this}dot(_){return this.x*_.x+this.y*_.y}cross(_){return this.x*_.y-this.y*_.x}dist(_){const C=this.x-_.x,A=this.y-_.y;return Math.sqrt(C*C+A*A)}distSq(_){const C=this.x-_.x,A=this.y-_.y;return C*C+A*A}heading(){return Math.atan2(this.y,this.x)}rotate(_){const C=Math.cos(_),A=Math.sin(_);return new Vector2(this.x*C-this.y*A,this.x*A+this.y*C)}lerp(_,C){return new Vector2(this.x+(_.x-this.x)*C,this.y+(_.y-this.y)*C)}equals(_){return this.x===_.x&&this.y===_.y}approxEquals(_,C=1e-10){return Math.abs(this.x-_.x)<C&&Math.abs(this.y-_.y)<C}copy(){return new Vector2(this.x,this.y)}toObject(){return{x:this.x,y:this.y}}toString(){return`Vector2(${this.x}, ${this.y})`}toArray(){return[this.x,this.y]}}var alea$1={exports:{}},alea=alea$1.exports,hasRequiredAlea;function requireAlea(){return hasRequiredAlea||(hasRequiredAlea=1,(function(E){(function(_,C,A){function P(B){var U=this,G=I();U.next=function(){var F=2091639*U.s0+U.c*23283064365386963e-26;return U.s0=U.s1,U.s1=U.s2,U.s2=F-(U.c=F|0)},U.c=1,U.s0=G(" "),U.s1=G(" "),U.s2=G(" "),U.s0-=G(B),U.s0<0&&(U.s0+=1),U.s1-=G(B),U.s1<0&&(U.s1+=1),U.s2-=G(B),U.s2<0&&(U.s2+=1),G=null}function O(B,U){return U.c=B.c,U.s0=B.s0,U.s1=B.s1,U.s2=B.s2,U}function z(B,U){var G=new P(B),F=U&&U.state,q=G.next;return q.int32=function(){return G.next()*4294967296|0},q.double=function(){return q()+(q()*2097152|0)*11102230246251565e-32},q.quick=q,F&&(typeof F=="object"&&O(F,G),q.state=function(){return O(G,{})}),q}function I(){var B=4022871197,U=function(G){G=String(G);for(var F=0;F<G.length;F++){B+=G.charCodeAt(F);var q=.02519603282416938*B;B=q>>>0,q-=B,q*=B,B=q>>>0,q-=B,B+=q*4294967296}return(B>>>0)*23283064365386963e-26};return U}C&&C.exports?C.exports=z:this.alea=z})(alea,E)})(alea$1)),alea$1.exports}var xor128$1={exports:{}},xor128=xor128$1.exports,hasRequiredXor128;function requireXor128(){return hasRequiredXor128||(hasRequiredXor128=1,(function(E){(function(_,C,A){function P(I){var B=this,U="";B.x=0,B.y=0,B.z=0,B.w=0,B.next=function(){var F=B.x^B.x<<11;return B.x=B.y,B.y=B.z,B.z=B.w,B.w^=B.w>>>19^F^F>>>8},I===(I|0)?B.x=I:U+=I;for(var G=0;G<U.length+64;G++)B.x^=U.charCodeAt(G)|0,B.next()}function O(I,B){return B.x=I.x,B.y=I.y,B.z=I.z,B.w=I.w,B}function z(I,B){var U=new P(I),G=B&&B.state,F=function(){return(U.next()>>>0)/4294967296};return F.double=function(){do var q=U.next()>>>11,Y=(U.next()>>>0)/4294967296,W=(q+Y)/(1<<21);while(W===0);return W},F.int32=U.next,F.quick=F,G&&(typeof G=="object"&&O(G,U),F.state=function(){return O(U,{})}),F}C&&C.exports?C.exports=z:this.xor128=z})(xor128,E)})(xor128$1)),xor128$1.exports}var xorwow$1={exports:{}},xorwow=xorwow$1.exports,hasRequiredXorwow;function requireXorwow(){return hasRequiredXorwow||(hasRequiredXorwow=1,(function(E){(function(_,C,A){function P(I){var B=this,U="";B.next=function(){var F=B.x^B.x>>>2;return B.x=B.y,B.y=B.z,B.z=B.w,B.w=B.v,(B.d=B.d+362437|0)+(B.v=B.v^B.v<<4^(F^F<<1))|0},B.x=0,B.y=0,B.z=0,B.w=0,B.v=0,I===(I|0)?B.x=I:U+=I;for(var G=0;G<U.length+64;G++)B.x^=U.charCodeAt(G)|0,G==U.length&&(B.d=B.x<<10^B.x>>>4),B.next()}function O(I,B){return B.x=I.x,B.y=I.y,B.z=I.z,B.w=I.w,B.v=I.v,B.d=I.d,B}function z(I,B){var U=new P(I),G=B&&B.state,F=function(){return(U.next()>>>0)/4294967296};return F.double=function(){do var q=U.next()>>>11,Y=(U.next()>>>0)/4294967296,W=(q+Y)/(1<<21);while(W===0);return W},F.int32=U.next,F.quick=F,G&&(typeof G=="object"&&O(G,U),F.state=function(){return O(U,{})}),F}C&&C.exports?C.exports=z:this.xorwow=z})(xorwow,E)})(xorwow$1)),xorwow$1.exports}var xorshift7$1={exports:{}},xorshift7=xorshift7$1.exports,hasRequiredXorshift7;function requireXorshift7(){return hasRequiredXorshift7||(hasRequiredXorshift7=1,(function(E){(function(_,C,A){function P(I){var B=this;B.next=function(){var G=B.x,F=B.i,q,Y;return q=G[F],q^=q>>>7,Y=q^q<<24,q=G[F+1&7],Y^=q^q>>>10,q=G[F+3&7],Y^=q^q>>>3,q=G[F+4&7],Y^=q^q<<7,q=G[F+7&7],q=q^q<<13,Y^=q^q<<9,G[F]=Y,B.i=F+1&7,Y};function U(G,F){var q,Y=[];if(F===(F|0))Y[0]=F;else for(F=""+F,q=0;q<F.length;++q)Y[q&7]=Y[q&7]<<15^F.charCodeAt(q)+Y[q+1&7]<<13;for(;Y.length<8;)Y.push(0);for(q=0;q<8&&Y[q]===0;++q);for(q==8?Y[7]=-1:Y[q],G.x=Y,G.i=0,q=256;q>0;--q)G.next()}U(B,I)}function O(I,B){return B.x=I.x.slice(),B.i=I.i,B}function z(I,B){I==null&&(I=+new Date);var U=new P(I),G=B&&B.state,F=function(){return(U.next()>>>0)/4294967296};return F.double=function(){do var q=U.next()>>>11,Y=(U.next()>>>0)/4294967296,W=(q+Y)/(1<<21);while(W===0);return W},F.int32=U.next,F.quick=F,G&&(G.x&&O(G,U),F.state=function(){return O(U,{})}),F}C&&C.exports?C.exports=z:this.xorshift7=z})(xorshift7,E)})(xorshift7$1)),xorshift7$1.exports}var xor4096$1={exports:{}},xor4096=xor4096$1.exports,hasRequiredXor4096;function requireXor4096(){return hasRequiredXor4096||(hasRequiredXor4096=1,(function(E){(function(_,C,A){function P(I){var B=this;B.next=function(){var G=B.w,F=B.X,q=B.i,Y,W;return B.w=G=G+1640531527|0,W=F[q+34&127],Y=F[q=q+1&127],W^=W<<13,Y^=Y<<17,W^=W>>>15,Y^=Y>>>12,W=F[q]=W^Y,B.i=q,W+(G^G>>>16)|0};function U(G,F){var q,Y,W,Q,J,ee=[],ne=128;for(F===(F|0)?(Y=F,F=null):(F=F+"\0",Y=0,ne=Math.max(ne,F.length)),W=0,Q=-32;Q<ne;++Q)F&&(Y^=F.charCodeAt((Q+32)%F.length)),Q===0&&(J=Y),Y^=Y<<10,Y^=Y>>>15,Y^=Y<<4,Y^=Y>>>13,Q>=0&&(J=J+1640531527|0,q=ee[Q&127]^=Y+J,W=q==0?W+1:0);for(W>=128&&(ee[(F&&F.length||0)&127]=-1),W=127,Q=512;Q>0;--Q)Y=ee[W+34&127],q=ee[W=W+1&127],Y^=Y<<13,q^=q<<17,Y^=Y>>>15,q^=q>>>12,ee[W]=Y^q;G.w=J,G.X=ee,G.i=W}U(B,I)}function O(I,B){return B.i=I.i,B.w=I.w,B.X=I.X.slice(),B}function z(I,B){I==null&&(I=+new Date);var U=new P(I),G=B&&B.state,F=function(){return(U.next()>>>0)/4294967296};return F.double=function(){do var q=U.next()>>>11,Y=(U.next()>>>0)/4294967296,W=(q+Y)/(1<<21);while(W===0);return W},F.int32=U.next,F.quick=F,G&&(G.X&&O(G,U),F.state=function(){return O(U,{})}),F}C&&C.exports?C.exports=z:this.xor4096=z})(xor4096,E)})(xor4096$1)),xor4096$1.exports}var tychei$1={exports:{}},tychei=tychei$1.exports,hasRequiredTychei;function requireTychei(){return hasRequiredTychei||(hasRequiredTychei=1,(function(E){(function(_,C,A){function P(I){var B=this,U="";B.next=function(){var F=B.b,q=B.c,Y=B.d,W=B.a;return F=F<<25^F>>>7^q,q=q-Y|0,Y=Y<<24^Y>>>8^W,W=W-F|0,B.b=F=F<<20^F>>>12^q,B.c=q=q-Y|0,B.d=Y<<16^q>>>16^W,B.a=W-F|0},B.a=0,B.b=0,B.c=-1640531527,B.d=1367130551,I===Math.floor(I)?(B.a=I/4294967296|0,B.b=I|0):U+=I;for(var G=0;G<U.length+20;G++)B.b^=U.charCodeAt(G)|0,B.next()}function O(I,B){return B.a=I.a,B.b=I.b,B.c=I.c,B.d=I.d,B}function z(I,B){var U=new P(I),G=B&&B.state,F=function(){return(U.next()>>>0)/4294967296};return F.double=function(){do var q=U.next()>>>11,Y=(U.next()>>>0)/4294967296,W=(q+Y)/(1<<21);while(W===0);return W},F.int32=U.next,F.quick=F,G&&(typeof G=="object"&&O(G,U),F.state=function(){return O(U,{})}),F}C&&C.exports?C.exports=z:this.tychei=z})(tychei,E)})(tychei$1)),tychei$1.exports}var seedrandom$3={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var seedrandom$2=seedrandom$3.exports,hasRequiredSeedrandom$1;function requireSeedrandom$1(){return hasRequiredSeedrandom$1||(hasRequiredSeedrandom$1=1,(function(E){(function(_,C,A){var P=256,O=6,z=52,I="random",B=A.pow(P,O),U=A.pow(2,z),G=U*2,F=P-1,q;function Y(ie,fe,me){var le=[];fe=fe==!0?{entropy:!0}:fe||{};var te=ee(J(fe.entropy?[ie,se(C)]:ie??ne(),3),le),ae=new W(le),ue=function(){for(var xe=ae.g(O),Ae=B,he=0;xe<U;)xe=(xe+he)*P,Ae*=P,he=ae.g(1);for(;xe>=G;)xe/=2,Ae/=2,he>>>=1;return(xe+he)/Ae};return ue.int32=function(){return ae.g(4)|0},ue.quick=function(){return ae.g(4)/4294967296},ue.double=ue,ee(se(ae.S),C),(fe.pass||me||function(xe,Ae,he,Se){return Se&&(Se.S&&Q(Se,ae),xe.state=function(){return Q(ae,{})}),he?(A[I]=xe,Ae):xe})(ue,te,"global"in fe?fe.global:this==A,fe.state)}function W(ie){var fe,me=ie.length,le=this,te=0,ae=le.i=le.j=0,ue=le.S=[];for(me||(ie=[me++]);te<P;)ue[te]=te++;for(te=0;te<P;te++)ue[te]=ue[ae=F&ae+ie[te%me]+(fe=ue[te])],ue[ae]=fe;(le.g=function(xe){for(var Ae,he=0,Se=le.i,Pe=le.j,oe=le.S;xe--;)Ae=oe[Se=F&Se+1],he=he*P+oe[F&(oe[Se]=oe[Pe=F&Pe+Ae])+(oe[Pe]=Ae)];return le.i=Se,le.j=Pe,he})(P)}function Q(ie,fe){return fe.i=ie.i,fe.j=ie.j,fe.S=ie.S.slice(),fe}function J(ie,fe){var me=[],le=typeof ie,te;if(fe&&le=="object")for(te in ie)try{me.push(J(ie[te],fe-1))}catch{}return me.length?me:le=="string"?ie:ie+"\0"}function ee(ie,fe){for(var me=ie+"",le,te=0;te<me.length;)fe[F&te]=F&(le^=fe[F&te]*19)+me.charCodeAt(te++);return se(fe)}function ne(){try{var ie;return q&&(ie=q.randomBytes)?ie=ie(P):(ie=new Uint8Array(P),(_.crypto||_.msCrypto).getRandomValues(ie)),se(ie)}catch{var fe=_.navigator,me=fe&&fe.plugins;return[+new Date,_,me,_.screen,se(C)]}}function se(ie){return String.fromCharCode.apply(0,ie)}if(ee(A.random(),C),E.exports){E.exports=Y;try{q=require$$0}catch{}}else A["seed"+I]=Y})(typeof self<"u"?self:seedrandom$2,[],Math)})(seedrandom$3)),seedrandom$3.exports}var seedrandom$1,hasRequiredSeedrandom;function requireSeedrandom(){if(hasRequiredSeedrandom)return seedrandom$1;hasRequiredSeedrandom=1;var E=requireAlea(),_=requireXor128(),C=requireXorwow(),A=requireXorshift7(),P=requireXor4096(),O=requireTychei(),z=requireSeedrandom$1();return z.alea=E,z.xor128=_,z.xorwow=C,z.xorshift7=A,z.xor4096=P,z.tychei=O,seedrandom$1=z,seedrandom$1}var seedrandomExports=requireSeedrandom();const seedrandom=getDefaultExportFromCjs(seedrandomExports);class SeededRandom{rng;constructor(_=0){this.rng=seedrandom(String(_))}reset(_){this.rng=seedrandom(String(_))}random(_,C){const A=this.rng();return _===void 0?A:C===void 0?A*_:_+A*(C-_)}randomInt(_,C){return Math.floor(C===void 0?this.random(_):this.random(_,C))}randomBool(_=.5){return this.rng()<_}gaussian(){let _,C;do _=this.rng(),C=this.rng();while(_===0);return Math.sqrt(-2*Math.log(_))*Math.cos(2*Math.PI*C)}randomGaussian(_=0,C=1){return _+C*this.gaussian()}choice(_){if(_.length===0)throw new Error("Cannot pick from empty array");return _[Math.floor(this.rng()*_.length)]}shuffle(_){for(let C=_.length-1;C>0;C--){const A=Math.floor(this.rng()*(C+1));[_[C],_[A]]=[_[A],_[C]]}return _}}function shapeCenter(E){return E===0?new Vector2(0,0):new Vector2(0,1/E)}function basalCurveParam(E,_){if(_===0)return new Vector2(E,0);const C=shapeCenter(_),A=Math.abs(1/_),P=1/(.5*Math.PI*A),O=-Math.sign(_);return new Vector2(C.x+O*A*Math.sin(E*P),C.y+O*A*Math.cos(E*P))}function basalCurve(E,_){if(_===0)return new Vector2(E.x,0);const C=shapeCenter(_),A=Math.abs(1/_),O=E.sub(C).setMag(A);return C.add(O)}function basalNormal(E,_){return _===0?new Vector2(0,1):shapeCenter(_).sub(E).setMag(Math.sign(_))}const DEFAULT_CONTROL_CELL={name:"control",R_hard:.4,R_hard_div:.7,R_soft:1.2,color:{r:30,g:100,b:20},dur_G2:.5,dur_mitosis:.5,k_apical_junction:5,k_cytos:5,max_cytoskeleton_length:0,run:0,running_speed:1,running_mode:0,stiffness_apical_apical:2,stiffness_apical_apical_div:4,stiffness_nuclei_apical:3,stiffness_nuclei_basal:2,stiffness_repulsion:2,stiffness_straightness:5,lifespan:{min:5.5,max:6.5},INM:0,hetero:!1,events:{time_A:{min:1/0,max:1/0},time_B:{min:1/0,max:1/0},time_S:{min:1/0,max:1/0},time_P:{min:1/0,max:1/0}}},DEFAULT_EMT_CELL={name:"emt",R_hard:.4,R_hard_div:.7,R_soft:1.2,color:{r:128,g:0,b:128},dur_G2:.5,dur_mitosis:.5,k_apical_junction:1,k_cytos:5,max_cytoskeleton_length:0,run:0,running_speed:1,running_mode:0,stiffness_apical_apical:2,stiffness_apical_apical_div:4,stiffness_nuclei_apical:3,stiffness_nuclei_basal:2,stiffness_repulsion:4,stiffness_straightness:2,lifespan:{min:5.5,max:6.5},INM:0,hetero:!0,events:{time_A:{min:3,max:12},time_B:{min:3,max:12},time_S:{min:1/0,max:1/0},time_P:{min:1/0,max:1/0}}},DEFAULT_PARAMS={general:{t_end:48,dt:.1,random_seed:0,N_init:30,N_max:80,N_emt:5,w_init:80,h_init:5,mu:.2,n_substeps:30,alg_dt:.01,w_screen:70,h_screen:70/3,p_div_out:1,curvature:.06},cell_prop:{apical_junction_init:0,max_basal_junction_dist:2,basal_daming_ratio:1,basal_membrane_repulsion:0,cytos_init:0,diffusion:.2},cell_types:{control:DEFAULT_CONTROL_CELL,emt:DEFAULT_EMT_CELL}};function $constructor(E,_,C){function A(I,B){if(I._zod||Object.defineProperty(I,"_zod",{value:{def:B,constr:z,traits:new Set},enumerable:!1}),I._zod.traits.has(E))return;I._zod.traits.add(E),_(I,B);const U=z.prototype,G=Object.keys(U);for(let F=0;F<G.length;F++){const q=G[F];q in I||(I[q]=U[q].bind(I))}}const P=C?.Parent??Object;class O extends P{}Object.defineProperty(O,"name",{value:E});function z(I){var B;const U=C?.Parent?new O:this;A(U,I),(B=U._zod).deferred??(B.deferred=[]);for(const G of U._zod.deferred)G();return U}return Object.defineProperty(z,"init",{value:A}),Object.defineProperty(z,Symbol.hasInstance,{value:I=>C?.Parent&&I instanceof C.Parent?!0:I?._zod?.traits?.has(E)}),Object.defineProperty(z,"name",{value:E}),z}class $ZodAsyncError extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class $ZodEncodeError extends Error{constructor(_){super(`Encountered unidirectional transform during encode: ${_}`),this.name="ZodEncodeError"}}const globalConfig={};function config(E){return globalConfig}function getEnumValues(E){const _=Object.values(E).filter(A=>typeof A=="number");return Object.entries(E).filter(([A,P])=>_.indexOf(+A)===-1).map(([A,P])=>P)}function jsonStringifyReplacer(E,_){return typeof _=="bigint"?_.toString():_}function cached(E){return{get value(){{const _=E();return Object.defineProperty(this,"value",{value:_}),_}}}}function nullish(E){return E==null}function cleanRegex(E){const _=E.startsWith("^")?1:0,C=E.endsWith("$")?E.length-1:E.length;return E.slice(_,C)}function floatSafeRemainder(E,_){const C=(E.toString().split(".")[1]||"").length,A=_.toString();let P=(A.split(".")[1]||"").length;if(P===0&&/\d?e-\d?/.test(A)){const B=A.match(/\d?e-(\d?)/);B?.[1]&&(P=Number.parseInt(B[1]))}const O=C>P?C:P,z=Number.parseInt(E.toFixed(O).replace(".","")),I=Number.parseInt(_.toFixed(O).replace(".",""));return z%I/10**O}const EVALUATING=Symbol("evaluating");function defineLazy(E,_,C){let A;Object.defineProperty(E,_,{get(){if(A!==EVALUATING)return A===void 0&&(A=EVALUATING,A=C()),A},set(P){Object.defineProperty(E,_,{value:P})},configurable:!0})}function assignProp(E,_,C){Object.defineProperty(E,_,{value:C,writable:!0,enumerable:!0,configurable:!0})}function mergeDefs(...E){const _={};for(const C of E){const A=Object.getOwnPropertyDescriptors(C);Object.assign(_,A)}return Object.defineProperties({},_)}function esc(E){return JSON.stringify(E)}function slugify(E){return E.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const captureStackTrace="captureStackTrace"in Error?Error.captureStackTrace:(...E)=>{};function isObject$1(E){return typeof E=="object"&&E!==null&&!Array.isArray(E)}const allowsEval=cached(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const E=Function;return new E(""),!0}catch{return!1}});function isPlainObject$1(E){if(isObject$1(E)===!1)return!1;const _=E.constructor;if(_===void 0||typeof _!="function")return!0;const C=_.prototype;return!(isObject$1(C)===!1||Object.prototype.hasOwnProperty.call(C,"isPrototypeOf")===!1)}function shallowClone(E){return isPlainObject$1(E)?{...E}:Array.isArray(E)?[...E]:E}const propertyKeyTypes=new Set(["string","number","symbol"]);function escapeRegex(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function clone(E,_,C){const A=new E._zod.constr(_??E._zod.def);return(!_||C?.parent)&&(A._zod.parent=E),A}function normalizeParams(E){const _=E;if(!_)return{};if(typeof _=="string")return{error:()=>_};if(_?.message!==void 0){if(_?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");_.error=_.message}return delete _.message,typeof _.error=="string"?{..._,error:()=>_.error}:_}function optionalKeys(E){return Object.keys(E).filter(_=>E[_]._zod.optin==="optional"&&E[_]._zod.optout==="optional")}const NUMBER_FORMAT_RANGES={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function pick(E,_){const C=E._zod.def,A=C.checks;if(A&&A.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const O=mergeDefs(E._zod.def,{get shape(){const z={};for(const I in _){if(!(I in C.shape))throw new Error(`Unrecognized key: "${I}"`);_[I]&&(z[I]=C.shape[I])}return assignProp(this,"shape",z),z},checks:[]});return clone(E,O)}function omit(E,_){const C=E._zod.def,A=C.checks;if(A&&A.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const O=mergeDefs(E._zod.def,{get shape(){const z={...E._zod.def.shape};for(const I in _){if(!(I in C.shape))throw new Error(`Unrecognized key: "${I}"`);_[I]&&delete z[I]}return assignProp(this,"shape",z),z},checks:[]});return clone(E,O)}function extend(E,_){if(!isPlainObject$1(_))throw new Error("Invalid input to extend: expected a plain object");const C=E._zod.def.checks;if(C&&C.length>0){const O=E._zod.def.shape;for(const z in _)if(Object.getOwnPropertyDescriptor(O,z)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const P=mergeDefs(E._zod.def,{get shape(){const O={...E._zod.def.shape,..._};return assignProp(this,"shape",O),O}});return clone(E,P)}function safeExtend(E,_){if(!isPlainObject$1(_))throw new Error("Invalid input to safeExtend: expected a plain object");const C=mergeDefs(E._zod.def,{get shape(){const A={...E._zod.def.shape,..._};return assignProp(this,"shape",A),A}});return clone(E,C)}function merge(E,_){const C=mergeDefs(E._zod.def,{get shape(){const A={...E._zod.def.shape,..._._zod.def.shape};return assignProp(this,"shape",A),A},get catchall(){return _._zod.def.catchall},checks:[]});return clone(E,C)}function partial(E,_,C){const P=_._zod.def.checks;if(P&&P.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const z=mergeDefs(_._zod.def,{get shape(){const I=_._zod.def.shape,B={...I};if(C)for(const U in C){if(!(U in I))throw new Error(`Unrecognized key: "${U}"`);C[U]&&(B[U]=E?new E({type:"optional",innerType:I[U]}):I[U])}else for(const U in I)B[U]=E?new E({type:"optional",innerType:I[U]}):I[U];return assignProp(this,"shape",B),B},checks:[]});return clone(_,z)}function required(E,_,C){const A=mergeDefs(_._zod.def,{get shape(){const P=_._zod.def.shape,O={...P};if(C)for(const z in C){if(!(z in O))throw new Error(`Unrecognized key: "${z}"`);C[z]&&(O[z]=new E({type:"nonoptional",innerType:P[z]}))}else for(const z in P)O[z]=new E({type:"nonoptional",innerType:P[z]});return assignProp(this,"shape",O),O}});return clone(_,A)}function aborted(E,_=0){if(E.aborted===!0)return!0;for(let C=_;C<E.issues.length;C++)if(E.issues[C]?.continue!==!0)return!0;return!1}function prefixIssues(E,_){return _.map(C=>{var A;return(A=C).path??(A.path=[]),C.path.unshift(E),C})}function unwrapMessage(E){return typeof E=="string"?E:E?.message}function finalizeIssue(E,_,C){const A={...E,path:E.path??[]};if(!E.message){const P=unwrapMessage(E.inst?._zod.def?.error?.(E))??unwrapMessage(_?.error?.(E))??unwrapMessage(C.customError?.(E))??unwrapMessage(C.localeError?.(E))??"Invalid input";A.message=P}return delete A.inst,delete A.continue,_?.reportInput||delete A.input,A}function getLengthableOrigin(E){return Array.isArray(E)?"array":typeof E=="string"?"string":"unknown"}function issue(...E){const[_,C,A]=E;return typeof _=="string"?{message:_,code:"custom",input:C,inst:A}:{..._}}const initializer$1=(E,_)=>{E.name="$ZodError",Object.defineProperty(E,"_zod",{value:E._zod,enumerable:!1}),Object.defineProperty(E,"issues",{value:_,enumerable:!1}),E.message=JSON.stringify(_,jsonStringifyReplacer,2),Object.defineProperty(E,"toString",{value:()=>E.message,enumerable:!1})},$ZodError=$constructor("$ZodError",initializer$1),$ZodRealError=$constructor("$ZodError",initializer$1,{Parent:Error});function flattenError(E,_=C=>C.message){const C={},A=[];for(const P of E.issues)P.path.length>0?(C[P.path[0]]=C[P.path[0]]||[],C[P.path[0]].push(_(P))):A.push(_(P));return{formErrors:A,fieldErrors:C}}function formatError(E,_=C=>C.message){const C={_errors:[]},A=P=>{for(const O of P.issues)if(O.code==="invalid_union"&&O.errors.length)O.errors.map(z=>A({issues:z}));else if(O.code==="invalid_key")A({issues:O.issues});else if(O.code==="invalid_element")A({issues:O.issues});else if(O.path.length===0)C._errors.push(_(O));else{let z=C,I=0;for(;I<O.path.length;){const B=O.path[I];I===O.path.length-1?(z[B]=z[B]||{_errors:[]},z[B]._errors.push(_(O))):z[B]=z[B]||{_errors:[]},z=z[B],I++}}};return A(E),C}const _parse=E=>(_,C,A,P)=>{const O=A?Object.assign(A,{async:!1}):{async:!1},z=_._zod.run({value:C,issues:[]},O);if(z instanceof Promise)throw new $ZodAsyncError;if(z.issues.length){const I=new(P?.Err??E)(z.issues.map(B=>finalizeIssue(B,O,config())));throw captureStackTrace(I,P?.callee),I}return z.value},_parseAsync=E=>async(_,C,A,P)=>{const O=A?Object.assign(A,{async:!0}):{async:!0};let z=_._zod.run({value:C,issues:[]},O);if(z instanceof Promise&&(z=await z),z.issues.length){const I=new(P?.Err??E)(z.issues.map(B=>finalizeIssue(B,O,config())));throw captureStackTrace(I,P?.callee),I}return z.value},_safeParse=E=>(_,C,A)=>{const P=A?{...A,async:!1}:{async:!1},O=_._zod.run({value:C,issues:[]},P);if(O instanceof Promise)throw new $ZodAsyncError;return O.issues.length?{success:!1,error:new(E??$ZodError)(O.issues.map(z=>finalizeIssue(z,P,config())))}:{success:!0,data:O.value}},safeParse$1=_safeParse($ZodRealError),_safeParseAsync=E=>async(_,C,A)=>{const P=A?Object.assign(A,{async:!0}):{async:!0};let O=_._zod.run({value:C,issues:[]},P);return O instanceof Promise&&(O=await O),O.issues.length?{success:!1,error:new E(O.issues.map(z=>finalizeIssue(z,P,config())))}:{success:!0,data:O.value}},safeParseAsync$1=_safeParseAsync($ZodRealError),_encode=E=>(_,C,A)=>{const P=A?Object.assign(A,{direction:"backward"}):{direction:"backward"};return _parse(E)(_,C,P)},_decode=E=>(_,C,A)=>_parse(E)(_,C,A),_encodeAsync=E=>async(_,C,A)=>{const P=A?Object.assign(A,{direction:"backward"}):{direction:"backward"};return _parseAsync(E)(_,C,P)},_decodeAsync=E=>async(_,C,A)=>_parseAsync(E)(_,C,A),_safeEncode=E=>(_,C,A)=>{const P=A?Object.assign(A,{direction:"backward"}):{direction:"backward"};return _safeParse(E)(_,C,P)},_safeDecode=E=>(_,C,A)=>_safeParse(E)(_,C,A),_safeEncodeAsync=E=>async(_,C,A)=>{const P=A?Object.assign(A,{direction:"backward"}):{direction:"backward"};return _safeParseAsync(E)(_,C,P)},_safeDecodeAsync=E=>async(_,C,A)=>_safeParseAsync(E)(_,C,A),cuid=/^[cC][^\s-]{8,}$/,cuid2=/^[0-9a-z]+$/,ulid=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,xid=/^[0-9a-vA-V]{20}$/,ksuid=/^[A-Za-z0-9]{27}$/,nanoid=/^[a-zA-Z0-9_-]{21}$/,duration$1=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,guid=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,uuid=E=>E?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${E}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,email=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,_emoji$1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function emoji(){return new RegExp(_emoji$1,"u")}const ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,cidrv4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,cidrv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,base64url=/^[A-Za-z0-9_-]*$/,e164=/^\+[1-9]\d{6,14}$/,dateSource="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",date$1=new RegExp(`^${dateSource}$`);function timeSource(E){const _="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof E.precision=="number"?E.precision===-1?`${_}`:E.precision===0?`${_}:[0-5]\\d`:`${_}:[0-5]\\d\\.\\d{${E.precision}}`:`${_}(?::[0-5]\\d(?:\\.\\d+)?)?`}function time$1(E){return new RegExp(`^${timeSource(E)}$`)}function datetime$1(E){const _=timeSource({precision:E.precision}),C=["Z"];E.local&&C.push(""),E.offset&&C.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const A=`${_}(?:${C.join("|")})`;return new RegExp(`^${dateSource}T(?:${A})$`)}const string$1=E=>{const _=E?`[\\s\\S]{${E?.minimum??0},${E?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${_}$`)},integer=/^-?\d+$/,number$1=/^-?\d+(?:\.\d+)?$/,boolean$1=/^(?:true|false)$/i,lowercase=/^[^A-Z]*$/,uppercase=/^[^a-z]*$/,$ZodCheck=$constructor("$ZodCheck",(E,_)=>{var C;E._zod??(E._zod={}),E._zod.def=_,(C=E._zod).onattach??(C.onattach=[])}),numericOriginMap={number:"number",bigint:"bigint",object:"date"},$ZodCheckLessThan=$constructor("$ZodCheckLessThan",(E,_)=>{$ZodCheck.init(E,_);const C=numericOriginMap[typeof _.value];E._zod.onattach.push(A=>{const P=A._zod.bag,O=(_.inclusive?P.maximum:P.exclusiveMaximum)??Number.POSITIVE_INFINITY;_.value<O&&(_.inclusive?P.maximum=_.value:P.exclusiveMaximum=_.value)}),E._zod.check=A=>{(_.inclusive?A.value<=_.value:A.value<_.value)||A.issues.push({origin:C,code:"too_big",maximum:typeof _.value=="object"?_.value.getTime():_.value,input:A.value,inclusive:_.inclusive,inst:E,continue:!_.abort})}}),$ZodCheckGreaterThan=$constructor("$ZodCheckGreaterThan",(E,_)=>{$ZodCheck.init(E,_);const C=numericOriginMap[typeof _.value];E._zod.onattach.push(A=>{const P=A._zod.bag,O=(_.inclusive?P.minimum:P.exclusiveMinimum)??Number.NEGATIVE_INFINITY;_.value>O&&(_.inclusive?P.minimum=_.value:P.exclusiveMinimum=_.value)}),E._zod.check=A=>{(_.inclusive?A.value>=_.value:A.value>_.value)||A.issues.push({origin:C,code:"too_small",minimum:typeof _.value=="object"?_.value.getTime():_.value,input:A.value,inclusive:_.inclusive,inst:E,continue:!_.abort})}}),$ZodCheckMultipleOf=$constructor("$ZodCheckMultipleOf",(E,_)=>{$ZodCheck.init(E,_),E._zod.onattach.push(C=>{var A;(A=C._zod.bag).multipleOf??(A.multipleOf=_.value)}),E._zod.check=C=>{if(typeof C.value!=typeof _.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof C.value=="bigint"?C.value%_.value===BigInt(0):floatSafeRemainder(C.value,_.value)===0)||C.issues.push({origin:typeof C.value,code:"not_multiple_of",divisor:_.value,input:C.value,inst:E,continue:!_.abort})}}),$ZodCheckNumberFormat=$constructor("$ZodCheckNumberFormat",(E,_)=>{$ZodCheck.init(E,_),_.format=_.format||"float64";const C=_.format?.includes("int"),A=C?"int":"number",[P,O]=NUMBER_FORMAT_RANGES[_.format];E._zod.onattach.push(z=>{const I=z._zod.bag;I.format=_.format,I.minimum=P,I.maximum=O,C&&(I.pattern=integer)}),E._zod.check=z=>{const I=z.value;if(C){if(!Number.isInteger(I)){z.issues.push({expected:A,format:_.format,code:"invalid_type",continue:!1,input:I,inst:E});return}if(!Number.isSafeInteger(I)){I>0?z.issues.push({input:I,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:E,origin:A,inclusive:!0,continue:!_.abort}):z.issues.push({input:I,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:E,origin:A,inclusive:!0,continue:!_.abort});return}}I<P&&z.issues.push({origin:"number",input:I,code:"too_small",minimum:P,inclusive:!0,inst:E,continue:!_.abort}),I>O&&z.issues.push({origin:"number",input:I,code:"too_big",maximum:O,inclusive:!0,inst:E,continue:!_.abort})}}),$ZodCheckMaxLength=$constructor("$ZodCheckMaxLength",(E,_)=>{var C;$ZodCheck.init(E,_),(C=E._zod.def).when??(C.when=A=>{const P=A.value;return!nullish(P)&&P.length!==void 0}),E._zod.onattach.push(A=>{const P=A._zod.bag.maximum??Number.POSITIVE_INFINITY;_.maximum<P&&(A._zod.bag.maximum=_.maximum)}),E._zod.check=A=>{const P=A.value;if(P.length<=_.maximum)return;const z=getLengthableOrigin(P);A.issues.push({origin:z,code:"too_big",maximum:_.maximum,inclusive:!0,input:P,inst:E,continue:!_.abort})}}),$ZodCheckMinLength=$constructor("$ZodCheckMinLength",(E,_)=>{var C;$ZodCheck.init(E,_),(C=E._zod.def).when??(C.when=A=>{const P=A.value;return!nullish(P)&&P.length!==void 0}),E._zod.onattach.push(A=>{const P=A._zod.bag.minimum??Number.NEGATIVE_INFINITY;_.minimum>P&&(A._zod.bag.minimum=_.minimum)}),E._zod.check=A=>{const P=A.value;if(P.length>=_.minimum)return;const z=getLengthableOrigin(P);A.issues.push({origin:z,code:"too_small",minimum:_.minimum,inclusive:!0,input:P,inst:E,continue:!_.abort})}}),$ZodCheckLengthEquals=$constructor("$ZodCheckLengthEquals",(E,_)=>{var C;$ZodCheck.init(E,_),(C=E._zod.def).when??(C.when=A=>{const P=A.value;return!nullish(P)&&P.length!==void 0}),E._zod.onattach.push(A=>{const P=A._zod.bag;P.minimum=_.length,P.maximum=_.length,P.length=_.length}),E._zod.check=A=>{const P=A.value,O=P.length;if(O===_.length)return;const z=getLengthableOrigin(P),I=O>_.length;A.issues.push({origin:z,...I?{code:"too_big",maximum:_.length}:{code:"too_small",minimum:_.length},inclusive:!0,exact:!0,input:A.value,inst:E,continue:!_.abort})}}),$ZodCheckStringFormat=$constructor("$ZodCheckStringFormat",(E,_)=>{var C,A;$ZodCheck.init(E,_),E._zod.onattach.push(P=>{const O=P._zod.bag;O.format=_.format,_.pattern&&(O.patterns??(O.patterns=new Set),O.patterns.add(_.pattern))}),_.pattern?(C=E._zod).check??(C.check=P=>{_.pattern.lastIndex=0,!_.pattern.test(P.value)&&P.issues.push({origin:"string",code:"invalid_format",format:_.format,input:P.value,..._.pattern?{pattern:_.pattern.toString()}:{},inst:E,continue:!_.abort})}):(A=E._zod).check??(A.check=()=>{})}),$ZodCheckRegex=$constructor("$ZodCheckRegex",(E,_)=>{$ZodCheckStringFormat.init(E,_),E._zod.check=C=>{_.pattern.lastIndex=0,!_.pattern.test(C.value)&&C.issues.push({origin:"string",code:"invalid_format",format:"regex",input:C.value,pattern:_.pattern.toString(),inst:E,continue:!_.abort})}}),$ZodCheckLowerCase=$constructor("$ZodCheckLowerCase",(E,_)=>{_.pattern??(_.pattern=lowercase),$ZodCheckStringFormat.init(E,_)}),$ZodCheckUpperCase=$constructor("$ZodCheckUpperCase",(E,_)=>{_.pattern??(_.pattern=uppercase),$ZodCheckStringFormat.init(E,_)}),$ZodCheckIncludes=$constructor("$ZodCheckIncludes",(E,_)=>{$ZodCheck.init(E,_);const C=escapeRegex(_.includes),A=new RegExp(typeof _.position=="number"?`^.{${_.position}}${C}`:C);_.pattern=A,E._zod.onattach.push(P=>{const O=P._zod.bag;O.patterns??(O.patterns=new Set),O.patterns.add(A)}),E._zod.check=P=>{P.value.includes(_.includes,_.position)||P.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:_.includes,input:P.value,inst:E,continue:!_.abort})}}),$ZodCheckStartsWith=$constructor("$ZodCheckStartsWith",(E,_)=>{$ZodCheck.init(E,_);const C=new RegExp(`^${escapeRegex(_.prefix)}.*`);_.pattern??(_.pattern=C),E._zod.onattach.push(A=>{const P=A._zod.bag;P.patterns??(P.patterns=new Set),P.patterns.add(C)}),E._zod.check=A=>{A.value.startsWith(_.prefix)||A.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:_.prefix,input:A.value,inst:E,continue:!_.abort})}}),$ZodCheckEndsWith=$constructor("$ZodCheckEndsWith",(E,_)=>{$ZodCheck.init(E,_);const C=new RegExp(`.*${escapeRegex(_.suffix)}$`);_.pattern??(_.pattern=C),E._zod.onattach.push(A=>{const P=A._zod.bag;P.patterns??(P.patterns=new Set),P.patterns.add(C)}),E._zod.check=A=>{A.value.endsWith(_.suffix)||A.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:_.suffix,input:A.value,inst:E,continue:!_.abort})}}),$ZodCheckOverwrite=$constructor("$ZodCheckOverwrite",(E,_)=>{$ZodCheck.init(E,_),E._zod.check=C=>{C.value=_.tx(C.value)}});class Doc{constructor(_=[]){this.content=[],this.indent=0,this&&(this.args=_)}indented(_){this.indent+=1,_(this),this.indent-=1}write(_){if(typeof _=="function"){_(this,{execution:"sync"}),_(this,{execution:"async"});return}const A=_.split(`
`).filter(z=>z),P=Math.min(...A.map(z=>z.length-z.trimStart().length)),O=A.map(z=>z.slice(P)).map(z=>" ".repeat(this.indent*2)+z);for(const z of O)this.content.push(z)}compile(){const _=Function,C=this?.args,P=[...(this?.content??[""]).map(O=>`  ${O}`)];return new _(...C,P.join(`
`))}}const version={major:4,minor:3,patch:5},$ZodType=$constructor("$ZodType",(E,_)=>{var C;E??(E={}),E._zod.def=_,E._zod.bag=E._zod.bag||{},E._zod.version=version;const A=[...E._zod.def.checks??[]];E._zod.traits.has("$ZodCheck")&&A.unshift(E);for(const P of A)for(const O of P._zod.onattach)O(E);if(A.length===0)(C=E._zod).deferred??(C.deferred=[]),E._zod.deferred?.push(()=>{E._zod.run=E._zod.parse});else{const P=(z,I,B)=>{let U=aborted(z),G;for(const F of I){if(F._zod.def.when){if(!F._zod.def.when(z))continue}else if(U)continue;const q=z.issues.length,Y=F._zod.check(z);if(Y instanceof Promise&&B?.async===!1)throw new $ZodAsyncError;if(G||Y instanceof Promise)G=(G??Promise.resolve()).then(async()=>{await Y,z.issues.length!==q&&(U||(U=aborted(z,q)))});else{if(z.issues.length===q)continue;U||(U=aborted(z,q))}}return G?G.then(()=>z):z},O=(z,I,B)=>{if(aborted(z))return z.aborted=!0,z;const U=P(I,A,B);if(U instanceof Promise){if(B.async===!1)throw new $ZodAsyncError;return U.then(G=>E._zod.parse(G,B))}return E._zod.parse(U,B)};E._zod.run=(z,I)=>{if(I.skipChecks)return E._zod.parse(z,I);if(I.direction==="backward"){const U=E._zod.parse({value:z.value,issues:[]},{...I,skipChecks:!0});return U instanceof Promise?U.then(G=>O(G,z,I)):O(U,z,I)}const B=E._zod.parse(z,I);if(B instanceof Promise){if(I.async===!1)throw new $ZodAsyncError;return B.then(U=>P(U,A,I))}return P(B,A,I)}}defineLazy(E,"~standard",()=>({validate:P=>{try{const O=safeParse$1(E,P);return O.success?{value:O.data}:{issues:O.error?.issues}}catch{return safeParseAsync$1(E,P).then(z=>z.success?{value:z.data}:{issues:z.error?.issues})}},vendor:"zod",version:1}))}),$ZodString=$constructor("$ZodString",(E,_)=>{$ZodType.init(E,_),E._zod.pattern=[...E?._zod.bag?.patterns??[]].pop()??string$1(E._zod.bag),E._zod.parse=(C,A)=>{if(_.coerce)try{C.value=String(C.value)}catch{}return typeof C.value=="string"||C.issues.push({expected:"string",code:"invalid_type",input:C.value,inst:E}),C}}),$ZodStringFormat=$constructor("$ZodStringFormat",(E,_)=>{$ZodCheckStringFormat.init(E,_),$ZodString.init(E,_)}),$ZodGUID=$constructor("$ZodGUID",(E,_)=>{_.pattern??(_.pattern=guid),$ZodStringFormat.init(E,_)}),$ZodUUID=$constructor("$ZodUUID",(E,_)=>{if(_.version){const A={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[_.version];if(A===void 0)throw new Error(`Invalid UUID version: "${_.version}"`);_.pattern??(_.pattern=uuid(A))}else _.pattern??(_.pattern=uuid());$ZodStringFormat.init(E,_)}),$ZodEmail=$constructor("$ZodEmail",(E,_)=>{_.pattern??(_.pattern=email),$ZodStringFormat.init(E,_)}),$ZodURL=$constructor("$ZodURL",(E,_)=>{$ZodStringFormat.init(E,_),E._zod.check=C=>{try{const A=C.value.trim(),P=new URL(A);_.hostname&&(_.hostname.lastIndex=0,_.hostname.test(P.hostname)||C.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:_.hostname.source,input:C.value,inst:E,continue:!_.abort})),_.protocol&&(_.protocol.lastIndex=0,_.protocol.test(P.protocol.endsWith(":")?P.protocol.slice(0,-1):P.protocol)||C.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:_.protocol.source,input:C.value,inst:E,continue:!_.abort})),_.normalize?C.value=P.href:C.value=A;return}catch{C.issues.push({code:"invalid_format",format:"url",input:C.value,inst:E,continue:!_.abort})}}}),$ZodEmoji=$constructor("$ZodEmoji",(E,_)=>{_.pattern??(_.pattern=emoji()),$ZodStringFormat.init(E,_)}),$ZodNanoID=$constructor("$ZodNanoID",(E,_)=>{_.pattern??(_.pattern=nanoid),$ZodStringFormat.init(E,_)}),$ZodCUID=$constructor("$ZodCUID",(E,_)=>{_.pattern??(_.pattern=cuid),$ZodStringFormat.init(E,_)}),$ZodCUID2=$constructor("$ZodCUID2",(E,_)=>{_.pattern??(_.pattern=cuid2),$ZodStringFormat.init(E,_)}),$ZodULID=$constructor("$ZodULID",(E,_)=>{_.pattern??(_.pattern=ulid),$ZodStringFormat.init(E,_)}),$ZodXID=$constructor("$ZodXID",(E,_)=>{_.pattern??(_.pattern=xid),$ZodStringFormat.init(E,_)}),$ZodKSUID=$constructor("$ZodKSUID",(E,_)=>{_.pattern??(_.pattern=ksuid),$ZodStringFormat.init(E,_)}),$ZodISODateTime=$constructor("$ZodISODateTime",(E,_)=>{_.pattern??(_.pattern=datetime$1(_)),$ZodStringFormat.init(E,_)}),$ZodISODate=$constructor("$ZodISODate",(E,_)=>{_.pattern??(_.pattern=date$1),$ZodStringFormat.init(E,_)}),$ZodISOTime=$constructor("$ZodISOTime",(E,_)=>{_.pattern??(_.pattern=time$1(_)),$ZodStringFormat.init(E,_)}),$ZodISODuration=$constructor("$ZodISODuration",(E,_)=>{_.pattern??(_.pattern=duration$1),$ZodStringFormat.init(E,_)}),$ZodIPv4=$constructor("$ZodIPv4",(E,_)=>{_.pattern??(_.pattern=ipv4),$ZodStringFormat.init(E,_),E._zod.bag.format="ipv4"}),$ZodIPv6=$constructor("$ZodIPv6",(E,_)=>{_.pattern??(_.pattern=ipv6),$ZodStringFormat.init(E,_),E._zod.bag.format="ipv6",E._zod.check=C=>{try{new URL(`http://[${C.value}]`)}catch{C.issues.push({code:"invalid_format",format:"ipv6",input:C.value,inst:E,continue:!_.abort})}}}),$ZodCIDRv4=$constructor("$ZodCIDRv4",(E,_)=>{_.pattern??(_.pattern=cidrv4),$ZodStringFormat.init(E,_)}),$ZodCIDRv6=$constructor("$ZodCIDRv6",(E,_)=>{_.pattern??(_.pattern=cidrv6),$ZodStringFormat.init(E,_),E._zod.check=C=>{const A=C.value.split("/");try{if(A.length!==2)throw new Error;const[P,O]=A;if(!O)throw new Error;const z=Number(O);if(`${z}`!==O)throw new Error;if(z<0||z>128)throw new Error;new URL(`http://[${P}]`)}catch{C.issues.push({code:"invalid_format",format:"cidrv6",input:C.value,inst:E,continue:!_.abort})}}});function isValidBase64(E){if(E==="")return!0;if(E.length%4!==0)return!1;try{return atob(E),!0}catch{return!1}}const $ZodBase64=$constructor("$ZodBase64",(E,_)=>{_.pattern??(_.pattern=base64),$ZodStringFormat.init(E,_),E._zod.bag.contentEncoding="base64",E._zod.check=C=>{isValidBase64(C.value)||C.issues.push({code:"invalid_format",format:"base64",input:C.value,inst:E,continue:!_.abort})}});function isValidBase64URL(E){if(!base64url.test(E))return!1;const _=E.replace(/[-_]/g,A=>A==="-"?"+":"/"),C=_.padEnd(Math.ceil(_.length/4)*4,"=");return isValidBase64(C)}const $ZodBase64URL=$constructor("$ZodBase64URL",(E,_)=>{_.pattern??(_.pattern=base64url),$ZodStringFormat.init(E,_),E._zod.bag.contentEncoding="base64url",E._zod.check=C=>{isValidBase64URL(C.value)||C.issues.push({code:"invalid_format",format:"base64url",input:C.value,inst:E,continue:!_.abort})}}),$ZodE164=$constructor("$ZodE164",(E,_)=>{_.pattern??(_.pattern=e164),$ZodStringFormat.init(E,_)});function isValidJWT(E,_=null){try{const C=E.split(".");if(C.length!==3)return!1;const[A]=C;if(!A)return!1;const P=JSON.parse(atob(A));return!("typ"in P&&P?.typ!=="JWT"||!P.alg||_&&(!("alg"in P)||P.alg!==_))}catch{return!1}}const $ZodJWT=$constructor("$ZodJWT",(E,_)=>{$ZodStringFormat.init(E,_),E._zod.check=C=>{isValidJWT(C.value,_.alg)||C.issues.push({code:"invalid_format",format:"jwt",input:C.value,inst:E,continue:!_.abort})}}),$ZodNumber=$constructor("$ZodNumber",(E,_)=>{$ZodType.init(E,_),E._zod.pattern=E._zod.bag.pattern??number$1,E._zod.parse=(C,A)=>{if(_.coerce)try{C.value=Number(C.value)}catch{}const P=C.value;if(typeof P=="number"&&!Number.isNaN(P)&&Number.isFinite(P))return C;const O=typeof P=="number"?Number.isNaN(P)?"NaN":Number.isFinite(P)?void 0:"Infinity":void 0;return C.issues.push({expected:"number",code:"invalid_type",input:P,inst:E,...O?{received:O}:{}}),C}}),$ZodNumberFormat=$constructor("$ZodNumberFormat",(E,_)=>{$ZodCheckNumberFormat.init(E,_),$ZodNumber.init(E,_)}),$ZodBoolean=$constructor("$ZodBoolean",(E,_)=>{$ZodType.init(E,_),E._zod.pattern=boolean$1,E._zod.parse=(C,A)=>{if(_.coerce)try{C.value=!!C.value}catch{}const P=C.value;return typeof P=="boolean"||C.issues.push({expected:"boolean",code:"invalid_type",input:P,inst:E}),C}}),$ZodUnknown=$constructor("$ZodUnknown",(E,_)=>{$ZodType.init(E,_),E._zod.parse=C=>C}),$ZodNever=$constructor("$ZodNever",(E,_)=>{$ZodType.init(E,_),E._zod.parse=(C,A)=>(C.issues.push({expected:"never",code:"invalid_type",input:C.value,inst:E}),C)});function handleArrayResult(E,_,C){E.issues.length&&_.issues.push(...prefixIssues(C,E.issues)),_.value[C]=E.value}const $ZodArray=$constructor("$ZodArray",(E,_)=>{$ZodType.init(E,_),E._zod.parse=(C,A)=>{const P=C.value;if(!Array.isArray(P))return C.issues.push({expected:"array",code:"invalid_type",input:P,inst:E}),C;C.value=Array(P.length);const O=[];for(let z=0;z<P.length;z++){const I=P[z],B=_.element._zod.run({value:I,issues:[]},A);B instanceof Promise?O.push(B.then(U=>handleArrayResult(U,C,z))):handleArrayResult(B,C,z)}return O.length?Promise.all(O).then(()=>C):C}});function handlePropertyResult(E,_,C,A,P){if(E.issues.length){if(P&&!(C in A))return;_.issues.push(...prefixIssues(C,E.issues))}E.value===void 0?C in A&&(_.value[C]=void 0):_.value[C]=E.value}function normalizeDef(E){const _=Object.keys(E.shape);for(const A of _)if(!E.shape?.[A]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${A}": expected a Zod schema`);const C=optionalKeys(E.shape);return{...E,keys:_,keySet:new Set(_),numKeys:_.length,optionalKeys:new Set(C)}}function handleCatchall(E,_,C,A,P,O){const z=[],I=P.keySet,B=P.catchall._zod,U=B.def.type,G=B.optout==="optional";for(const F in _){if(I.has(F))continue;if(U==="never"){z.push(F);continue}const q=B.run({value:_[F],issues:[]},A);q instanceof Promise?E.push(q.then(Y=>handlePropertyResult(Y,C,F,_,G))):handlePropertyResult(q,C,F,_,G)}return z.length&&C.issues.push({code:"unrecognized_keys",keys:z,input:_,inst:O}),E.length?Promise.all(E).then(()=>C):C}const $ZodObject=$constructor("$ZodObject",(E,_)=>{if($ZodType.init(E,_),!Object.getOwnPropertyDescriptor(_,"shape")?.get){const I=_.shape;Object.defineProperty(_,"shape",{get:()=>{const B={...I};return Object.defineProperty(_,"shape",{value:B}),B}})}const A=cached(()=>normalizeDef(_));defineLazy(E._zod,"propValues",()=>{const I=_.shape,B={};for(const U in I){const G=I[U]._zod;if(G.values){B[U]??(B[U]=new Set);for(const F of G.values)B[U].add(F)}}return B});const P=isObject$1,O=_.catchall;let z;E._zod.parse=(I,B)=>{z??(z=A.value);const U=I.value;if(!P(U))return I.issues.push({expected:"object",code:"invalid_type",input:U,inst:E}),I;I.value={};const G=[],F=z.shape;for(const q of z.keys){const Y=F[q],W=Y._zod.optout==="optional",Q=Y._zod.run({value:U[q],issues:[]},B);Q instanceof Promise?G.push(Q.then(J=>handlePropertyResult(J,I,q,U,W))):handlePropertyResult(Q,I,q,U,W)}return O?handleCatchall(G,U,I,B,A.value,E):G.length?Promise.all(G).then(()=>I):I}}),$ZodObjectJIT=$constructor("$ZodObjectJIT",(E,_)=>{$ZodObject.init(E,_);const C=E._zod.parse,A=cached(()=>normalizeDef(_)),P=q=>{const Y=new Doc(["shape","payload","ctx"]),W=A.value,Q=se=>{const ie=esc(se);return`shape[${ie}]._zod.run({ value: input[${ie}], issues: [] }, ctx)`};Y.write("const input = payload.value;");const J=Object.create(null);let ee=0;for(const se of W.keys)J[se]=`key_${ee++}`;Y.write("const newResult = {};");for(const se of W.keys){const ie=J[se],fe=esc(se),le=q[se]?._zod?.optout==="optional";Y.write(`const ${ie} = ${Q(se)};`),le?Y.write(`
        if (${ie}.issues.length) {
          if (${fe} in input) {
            payload.issues = payload.issues.concat(${ie}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${fe}, ...iss.path] : [${fe}]
            })));
          }
        }
        
        if (${ie}.value === undefined) {
          if (${fe} in input) {
            newResult[${fe}] = undefined;
          }
        } else {
          newResult[${fe}] = ${ie}.value;
        }
        
      `):Y.write(`
        if (${ie}.issues.length) {
          payload.issues = payload.issues.concat(${ie}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${fe}, ...iss.path] : [${fe}]
          })));
        }
        
        if (${ie}.value === undefined) {
          if (${fe} in input) {
            newResult[${fe}] = undefined;
          }
        } else {
          newResult[${fe}] = ${ie}.value;
        }
        
      `)}Y.write("payload.value = newResult;"),Y.write("return payload;");const ne=Y.compile();return(se,ie)=>ne(q,se,ie)};let O;const z=isObject$1,I=!globalConfig.jitless,U=I&&allowsEval.value,G=_.catchall;let F;E._zod.parse=(q,Y)=>{F??(F=A.value);const W=q.value;return z(W)?I&&U&&Y?.async===!1&&Y.jitless!==!0?(O||(O=P(_.shape)),q=O(q,Y),G?handleCatchall([],W,q,Y,F,E):q):C(q,Y):(q.issues.push({expected:"object",code:"invalid_type",input:W,inst:E}),q)}});function handleUnionResults(E,_,C,A){for(const O of E)if(O.issues.length===0)return _.value=O.value,_;const P=E.filter(O=>!aborted(O));return P.length===1?(_.value=P[0].value,P[0]):(_.issues.push({code:"invalid_union",input:_.value,inst:C,errors:E.map(O=>O.issues.map(z=>finalizeIssue(z,A,config())))}),_)}const $ZodUnion=$constructor("$ZodUnion",(E,_)=>{$ZodType.init(E,_),defineLazy(E._zod,"optin",()=>_.options.some(P=>P._zod.optin==="optional")?"optional":void 0),defineLazy(E._zod,"optout",()=>_.options.some(P=>P._zod.optout==="optional")?"optional":void 0),defineLazy(E._zod,"values",()=>{if(_.options.every(P=>P._zod.values))return new Set(_.options.flatMap(P=>Array.from(P._zod.values)))}),defineLazy(E._zod,"pattern",()=>{if(_.options.every(P=>P._zod.pattern)){const P=_.options.map(O=>O._zod.pattern);return new RegExp(`^(${P.map(O=>cleanRegex(O.source)).join("|")})$`)}});const C=_.options.length===1,A=_.options[0]._zod.run;E._zod.parse=(P,O)=>{if(C)return A(P,O);let z=!1;const I=[];for(const B of _.options){const U=B._zod.run({value:P.value,issues:[]},O);if(U instanceof Promise)I.push(U),z=!0;else{if(U.issues.length===0)return U;I.push(U)}}return z?Promise.all(I).then(B=>handleUnionResults(B,P,E,O)):handleUnionResults(I,P,E,O)}}),$ZodIntersection=$constructor("$ZodIntersection",(E,_)=>{$ZodType.init(E,_),E._zod.parse=(C,A)=>{const P=C.value,O=_.left._zod.run({value:P,issues:[]},A),z=_.right._zod.run({value:P,issues:[]},A);return O instanceof Promise||z instanceof Promise?Promise.all([O,z]).then(([B,U])=>handleIntersectionResults(C,B,U)):handleIntersectionResults(C,O,z)}});function mergeValues(E,_){if(E===_)return{valid:!0,data:E};if(E instanceof Date&&_ instanceof Date&&+E==+_)return{valid:!0,data:E};if(isPlainObject$1(E)&&isPlainObject$1(_)){const C=Object.keys(_),A=Object.keys(E).filter(O=>C.indexOf(O)!==-1),P={...E,..._};for(const O of A){const z=mergeValues(E[O],_[O]);if(!z.valid)return{valid:!1,mergeErrorPath:[O,...z.mergeErrorPath]};P[O]=z.data}return{valid:!0,data:P}}if(Array.isArray(E)&&Array.isArray(_)){if(E.length!==_.length)return{valid:!1,mergeErrorPath:[]};const C=[];for(let A=0;A<E.length;A++){const P=E[A],O=_[A],z=mergeValues(P,O);if(!z.valid)return{valid:!1,mergeErrorPath:[A,...z.mergeErrorPath]};C.push(z.data)}return{valid:!0,data:C}}return{valid:!1,mergeErrorPath:[]}}function handleIntersectionResults(E,_,C){const A=new Map;let P;for(const I of _.issues)if(I.code==="unrecognized_keys"){P??(P=I);for(const B of I.keys)A.has(B)||A.set(B,{}),A.get(B).l=!0}else E.issues.push(I);for(const I of C.issues)if(I.code==="unrecognized_keys")for(const B of I.keys)A.has(B)||A.set(B,{}),A.get(B).r=!0;else E.issues.push(I);const O=[...A].filter(([,I])=>I.l&&I.r).map(([I])=>I);if(O.length&&P&&E.issues.push({...P,keys:O}),aborted(E))return E;const z=mergeValues(_.value,C.value);if(!z.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(z.mergeErrorPath)}`);return E.value=z.data,E}const $ZodRecord=$constructor("$ZodRecord",(E,_)=>{$ZodType.init(E,_),E._zod.parse=(C,A)=>{const P=C.value;if(!isPlainObject$1(P))return C.issues.push({expected:"record",code:"invalid_type",input:P,inst:E}),C;const O=[],z=_.keyType._zod.values;if(z){C.value={};const I=new Set;for(const U of z)if(typeof U=="string"||typeof U=="number"||typeof U=="symbol"){I.add(typeof U=="number"?U.toString():U);const G=_.valueType._zod.run({value:P[U],issues:[]},A);G instanceof Promise?O.push(G.then(F=>{F.issues.length&&C.issues.push(...prefixIssues(U,F.issues)),C.value[U]=F.value})):(G.issues.length&&C.issues.push(...prefixIssues(U,G.issues)),C.value[U]=G.value)}let B;for(const U in P)I.has(U)||(B=B??[],B.push(U));B&&B.length>0&&C.issues.push({code:"unrecognized_keys",input:P,inst:E,keys:B})}else{C.value={};for(const I of Reflect.ownKeys(P)){if(I==="__proto__")continue;let B=_.keyType._zod.run({value:I,issues:[]},A);if(B instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof I=="string"&&number$1.test(I)&&B.issues.length&&B.issues.some(F=>F.code==="invalid_type"&&F.expected==="number")){const F=_.keyType._zod.run({value:Number(I),issues:[]},A);if(F instanceof Promise)throw new Error("Async schemas not supported in object keys currently");F.issues.length===0&&(B=F)}if(B.issues.length){_.mode==="loose"?C.value[I]=P[I]:C.issues.push({code:"invalid_key",origin:"record",issues:B.issues.map(F=>finalizeIssue(F,A,config())),input:I,path:[I],inst:E});continue}const G=_.valueType._zod.run({value:P[I],issues:[]},A);G instanceof Promise?O.push(G.then(F=>{F.issues.length&&C.issues.push(...prefixIssues(I,F.issues)),C.value[B.value]=F.value})):(G.issues.length&&C.issues.push(...prefixIssues(I,G.issues)),C.value[B.value]=G.value)}}return O.length?Promise.all(O).then(()=>C):C}}),$ZodEnum=$constructor("$ZodEnum",(E,_)=>{$ZodType.init(E,_);const C=getEnumValues(_.entries),A=new Set(C);E._zod.values=A,E._zod.pattern=new RegExp(`^(${C.filter(P=>propertyKeyTypes.has(typeof P)).map(P=>typeof P=="string"?escapeRegex(P):P.toString()).join("|")})$`),E._zod.parse=(P,O)=>{const z=P.value;return A.has(z)||P.issues.push({code:"invalid_value",values:C,input:z,inst:E}),P}}),$ZodTransform=$constructor("$ZodTransform",(E,_)=>{$ZodType.init(E,_),E._zod.parse=(C,A)=>{if(A.direction==="backward")throw new $ZodEncodeError(E.constructor.name);const P=_.transform(C.value,C);if(A.async)return(P instanceof Promise?P:Promise.resolve(P)).then(z=>(C.value=z,C));if(P instanceof Promise)throw new $ZodAsyncError;return C.value=P,C}});function handleOptionalResult(E,_){return E.issues.length&&_===void 0?{issues:[],value:void 0}:E}const $ZodOptional=$constructor("$ZodOptional",(E,_)=>{$ZodType.init(E,_),E._zod.optin="optional",E._zod.optout="optional",defineLazy(E._zod,"values",()=>_.innerType._zod.values?new Set([..._.innerType._zod.values,void 0]):void 0),defineLazy(E._zod,"pattern",()=>{const C=_.innerType._zod.pattern;return C?new RegExp(`^(${cleanRegex(C.source)})?$`):void 0}),E._zod.parse=(C,A)=>{if(_.innerType._zod.optin==="optional"){const P=_.innerType._zod.run(C,A);return P instanceof Promise?P.then(O=>handleOptionalResult(O,C.value)):handleOptionalResult(P,C.value)}return C.value===void 0?C:_.innerType._zod.run(C,A)}}),$ZodExactOptional=$constructor("$ZodExactOptional",(E,_)=>{$ZodOptional.init(E,_),defineLazy(E._zod,"values",()=>_.innerType._zod.values),defineLazy(E._zod,"pattern",()=>_.innerType._zod.pattern),E._zod.parse=(C,A)=>_.innerType._zod.run(C,A)}),$ZodNullable=$constructor("$ZodNullable",(E,_)=>{$ZodType.init(E,_),defineLazy(E._zod,"optin",()=>_.innerType._zod.optin),defineLazy(E._zod,"optout",()=>_.innerType._zod.optout),defineLazy(E._zod,"pattern",()=>{const C=_.innerType._zod.pattern;return C?new RegExp(`^(${cleanRegex(C.source)}|null)$`):void 0}),defineLazy(E._zod,"values",()=>_.innerType._zod.values?new Set([..._.innerType._zod.values,null]):void 0),E._zod.parse=(C,A)=>C.value===null?C:_.innerType._zod.run(C,A)}),$ZodDefault=$constructor("$ZodDefault",(E,_)=>{$ZodType.init(E,_),E._zod.optin="optional",defineLazy(E._zod,"values",()=>_.innerType._zod.values),E._zod.parse=(C,A)=>{if(A.direction==="backward")return _.innerType._zod.run(C,A);if(C.value===void 0)return C.value=_.defaultValue,C;const P=_.innerType._zod.run(C,A);return P instanceof Promise?P.then(O=>handleDefaultResult(O,_)):handleDefaultResult(P,_)}});function handleDefaultResult(E,_){return E.value===void 0&&(E.value=_.defaultValue),E}const $ZodPrefault=$constructor("$ZodPrefault",(E,_)=>{$ZodType.init(E,_),E._zod.optin="optional",defineLazy(E._zod,"values",()=>_.innerType._zod.values),E._zod.parse=(C,A)=>(A.direction==="backward"||C.value===void 0&&(C.value=_.defaultValue),_.innerType._zod.run(C,A))}),$ZodNonOptional=$constructor("$ZodNonOptional",(E,_)=>{$ZodType.init(E,_),defineLazy(E._zod,"values",()=>{const C=_.innerType._zod.values;return C?new Set([...C].filter(A=>A!==void 0)):void 0}),E._zod.parse=(C,A)=>{const P=_.innerType._zod.run(C,A);return P instanceof Promise?P.then(O=>handleNonOptionalResult(O,E)):handleNonOptionalResult(P,E)}});function handleNonOptionalResult(E,_){return!E.issues.length&&E.value===void 0&&E.issues.push({code:"invalid_type",expected:"nonoptional",input:E.value,inst:_}),E}const $ZodCatch=$constructor("$ZodCatch",(E,_)=>{$ZodType.init(E,_),defineLazy(E._zod,"optin",()=>_.innerType._zod.optin),defineLazy(E._zod,"optout",()=>_.innerType._zod.optout),defineLazy(E._zod,"values",()=>_.innerType._zod.values),E._zod.parse=(C,A)=>{if(A.direction==="backward")return _.innerType._zod.run(C,A);const P=_.innerType._zod.run(C,A);return P instanceof Promise?P.then(O=>(C.value=O.value,O.issues.length&&(C.value=_.catchValue({...C,error:{issues:O.issues.map(z=>finalizeIssue(z,A,config()))},input:C.value}),C.issues=[]),C)):(C.value=P.value,P.issues.length&&(C.value=_.catchValue({...C,error:{issues:P.issues.map(O=>finalizeIssue(O,A,config()))},input:C.value}),C.issues=[]),C)}}),$ZodPipe=$constructor("$ZodPipe",(E,_)=>{$ZodType.init(E,_),defineLazy(E._zod,"values",()=>_.in._zod.values),defineLazy(E._zod,"optin",()=>_.in._zod.optin),defineLazy(E._zod,"optout",()=>_.out._zod.optout),defineLazy(E._zod,"propValues",()=>_.in._zod.propValues),E._zod.parse=(C,A)=>{if(A.direction==="backward"){const O=_.out._zod.run(C,A);return O instanceof Promise?O.then(z=>handlePipeResult(z,_.in,A)):handlePipeResult(O,_.in,A)}const P=_.in._zod.run(C,A);return P instanceof Promise?P.then(O=>handlePipeResult(O,_.out,A)):handlePipeResult(P,_.out,A)}});function handlePipeResult(E,_,C){return E.issues.length?(E.aborted=!0,E):_._zod.run({value:E.value,issues:E.issues},C)}const $ZodReadonly=$constructor("$ZodReadonly",(E,_)=>{$ZodType.init(E,_),defineLazy(E._zod,"propValues",()=>_.innerType._zod.propValues),defineLazy(E._zod,"values",()=>_.innerType._zod.values),defineLazy(E._zod,"optin",()=>_.innerType?._zod?.optin),defineLazy(E._zod,"optout",()=>_.innerType?._zod?.optout),E._zod.parse=(C,A)=>{if(A.direction==="backward")return _.innerType._zod.run(C,A);const P=_.innerType._zod.run(C,A);return P instanceof Promise?P.then(handleReadonlyResult):handleReadonlyResult(P)}});function handleReadonlyResult(E){return E.value=Object.freeze(E.value),E}const $ZodCustom=$constructor("$ZodCustom",(E,_)=>{$ZodCheck.init(E,_),$ZodType.init(E,_),E._zod.parse=(C,A)=>C,E._zod.check=C=>{const A=C.value,P=_.fn(A);if(P instanceof Promise)return P.then(O=>handleRefineResult(O,C,A,E));handleRefineResult(P,C,A,E)}});function handleRefineResult(E,_,C,A){if(!E){const P={code:"custom",input:C,inst:A,path:[...A._zod.def.path??[]],continue:!A._zod.def.abort};A._zod.def.params&&(P.params=A._zod.def.params),_.issues.push(issue(P))}}var _a;class $ZodRegistry{constructor(){this._map=new WeakMap,this._idmap=new Map}add(_,...C){const A=C[0];return this._map.set(_,A),A&&typeof A=="object"&&"id"in A&&this._idmap.set(A.id,_),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(_){const C=this._map.get(_);return C&&typeof C=="object"&&"id"in C&&this._idmap.delete(C.id),this._map.delete(_),this}get(_){const C=_._zod.parent;if(C){const A={...this.get(C)??{}};delete A.id;const P={...A,...this._map.get(_)};return Object.keys(P).length?P:void 0}return this._map.get(_)}has(_){return this._map.has(_)}}function registry(){return new $ZodRegistry}(_a=globalThis).__zod_globalRegistry??(_a.__zod_globalRegistry=registry());const globalRegistry=globalThis.__zod_globalRegistry;function _string(E,_){return new E({type:"string",...normalizeParams(_)})}function _email(E,_){return new E({type:"string",format:"email",check:"string_format",abort:!1,...normalizeParams(_)})}function _guid(E,_){return new E({type:"string",format:"guid",check:"string_format",abort:!1,...normalizeParams(_)})}function _uuid(E,_){return new E({type:"string",format:"uuid",check:"string_format",abort:!1,...normalizeParams(_)})}function _uuidv4(E,_){return new E({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...normalizeParams(_)})}function _uuidv6(E,_){return new E({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...normalizeParams(_)})}function _uuidv7(E,_){return new E({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...normalizeParams(_)})}function _url(E,_){return new E({type:"string",format:"url",check:"string_format",abort:!1,...normalizeParams(_)})}function _emoji(E,_){return new E({type:"string",format:"emoji",check:"string_format",abort:!1,...normalizeParams(_)})}function _nanoid(E,_){return new E({type:"string",format:"nanoid",check:"string_format",abort:!1,...normalizeParams(_)})}function _cuid(E,_){return new E({type:"string",format:"cuid",check:"string_format",abort:!1,...normalizeParams(_)})}function _cuid2(E,_){return new E({type:"string",format:"cuid2",check:"string_format",abort:!1,...normalizeParams(_)})}function _ulid(E,_){return new E({type:"string",format:"ulid",check:"string_format",abort:!1,...normalizeParams(_)})}function _xid(E,_){return new E({type:"string",format:"xid",check:"string_format",abort:!1,...normalizeParams(_)})}function _ksuid(E,_){return new E({type:"string",format:"ksuid",check:"string_format",abort:!1,...normalizeParams(_)})}function _ipv4(E,_){return new E({type:"string",format:"ipv4",check:"string_format",abort:!1,...normalizeParams(_)})}function _ipv6(E,_){return new E({type:"string",format:"ipv6",check:"string_format",abort:!1,...normalizeParams(_)})}function _cidrv4(E,_){return new E({type:"string",format:"cidrv4",check:"string_format",abort:!1,...normalizeParams(_)})}function _cidrv6(E,_){return new E({type:"string",format:"cidrv6",check:"string_format",abort:!1,...normalizeParams(_)})}function _base64(E,_){return new E({type:"string",format:"base64",check:"string_format",abort:!1,...normalizeParams(_)})}function _base64url(E,_){return new E({type:"string",format:"base64url",check:"string_format",abort:!1,...normalizeParams(_)})}function _e164(E,_){return new E({type:"string",format:"e164",check:"string_format",abort:!1,...normalizeParams(_)})}function _jwt(E,_){return new E({type:"string",format:"jwt",check:"string_format",abort:!1,...normalizeParams(_)})}function _isoDateTime(E,_){return new E({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...normalizeParams(_)})}function _isoDate(E,_){return new E({type:"string",format:"date",check:"string_format",...normalizeParams(_)})}function _isoTime(E,_){return new E({type:"string",format:"time",check:"string_format",precision:null,...normalizeParams(_)})}function _isoDuration(E,_){return new E({type:"string",format:"duration",check:"string_format",...normalizeParams(_)})}function _number(E,_){return new E({type:"number",checks:[],...normalizeParams(_)})}function _int(E,_){return new E({type:"number",check:"number_format",abort:!1,format:"safeint",...normalizeParams(_)})}function _boolean(E,_){return new E({type:"boolean",...normalizeParams(_)})}function _unknown(E){return new E({type:"unknown"})}function _never(E,_){return new E({type:"never",...normalizeParams(_)})}function _lt(E,_){return new $ZodCheckLessThan({check:"less_than",...normalizeParams(_),value:E,inclusive:!1})}function _lte(E,_){return new $ZodCheckLessThan({check:"less_than",...normalizeParams(_),value:E,inclusive:!0})}function _gt(E,_){return new $ZodCheckGreaterThan({check:"greater_than",...normalizeParams(_),value:E,inclusive:!1})}function _gte(E,_){return new $ZodCheckGreaterThan({check:"greater_than",...normalizeParams(_),value:E,inclusive:!0})}function _multipleOf(E,_){return new $ZodCheckMultipleOf({check:"multiple_of",...normalizeParams(_),value:E})}function _maxLength(E,_){return new $ZodCheckMaxLength({check:"max_length",...normalizeParams(_),maximum:E})}function _minLength(E,_){return new $ZodCheckMinLength({check:"min_length",...normalizeParams(_),minimum:E})}function _length(E,_){return new $ZodCheckLengthEquals({check:"length_equals",...normalizeParams(_),length:E})}function _regex(E,_){return new $ZodCheckRegex({check:"string_format",format:"regex",...normalizeParams(_),pattern:E})}function _lowercase(E){return new $ZodCheckLowerCase({check:"string_format",format:"lowercase",...normalizeParams(E)})}function _uppercase(E){return new $ZodCheckUpperCase({check:"string_format",format:"uppercase",...normalizeParams(E)})}function _includes(E,_){return new $ZodCheckIncludes({check:"string_format",format:"includes",...normalizeParams(_),includes:E})}function _startsWith(E,_){return new $ZodCheckStartsWith({check:"string_format",format:"starts_with",...normalizeParams(_),prefix:E})}function _endsWith(E,_){return new $ZodCheckEndsWith({check:"string_format",format:"ends_with",...normalizeParams(_),suffix:E})}function _overwrite(E){return new $ZodCheckOverwrite({check:"overwrite",tx:E})}function _normalize(E){return _overwrite(_=>_.normalize(E))}function _trim(){return _overwrite(E=>E.trim())}function _toLowerCase(){return _overwrite(E=>E.toLowerCase())}function _toUpperCase(){return _overwrite(E=>E.toUpperCase())}function _slugify(){return _overwrite(E=>slugify(E))}function _array(E,_,C){return new E({type:"array",element:_,...normalizeParams(C)})}function _refine(E,_,C){return new E({type:"custom",check:"custom",fn:_,...normalizeParams(C)})}function _superRefine(E){const _=_check(C=>(C.addIssue=A=>{if(typeof A=="string")C.issues.push(issue(A,C.value,_._zod.def));else{const P=A;P.fatal&&(P.continue=!1),P.code??(P.code="custom"),P.input??(P.input=C.value),P.inst??(P.inst=_),P.continue??(P.continue=!_._zod.def.abort),C.issues.push(issue(P))}},E(C.value,C)));return _}function _check(E,_){const C=new $ZodCheck({check:"custom",...normalizeParams(_)});return C._zod.check=E,C}function initializeContext(E){let _=E?.target??"draft-2020-12";return _==="draft-4"&&(_="draft-04"),_==="draft-7"&&(_="draft-07"),{processors:E.processors??{},metadataRegistry:E?.metadata??globalRegistry,target:_,unrepresentable:E?.unrepresentable??"throw",override:E?.override??(()=>{}),io:E?.io??"output",counter:0,seen:new Map,cycles:E?.cycles??"ref",reused:E?.reused??"inline",external:E?.external??void 0}}function process$1(E,_,C={path:[],schemaPath:[]}){var A;const P=E._zod.def,O=_.seen.get(E);if(O)return O.count++,C.schemaPath.includes(E)&&(O.cycle=C.path),O.schema;const z={schema:{},count:1,cycle:void 0,path:C.path};_.seen.set(E,z);const I=E._zod.toJSONSchema?.();if(I)z.schema=I;else{const G={...C,schemaPath:[...C.schemaPath,E],path:C.path};if(E._zod.processJSONSchema)E._zod.processJSONSchema(_,z.schema,G);else{const q=z.schema,Y=_.processors[P.type];if(!Y)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${P.type}`);Y(E,_,q,G)}const F=E._zod.parent;F&&(z.ref||(z.ref=F),process$1(F,_,G),_.seen.get(F).isParent=!0)}const B=_.metadataRegistry.get(E);return B&&Object.assign(z.schema,B),_.io==="input"&&isTransforming(E)&&(delete z.schema.examples,delete z.schema.default),_.io==="input"&&z.schema._prefault&&((A=z.schema).default??(A.default=z.schema._prefault)),delete z.schema._prefault,_.seen.get(E).schema}function extractDefs(E,_){const C=E.seen.get(_);if(!C)throw new Error("Unprocessed schema. This is a bug in Zod.");const A=new Map;for(const z of E.seen.entries()){const I=E.metadataRegistry.get(z[0])?.id;if(I){const B=A.get(I);if(B&&B!==z[0])throw new Error(`Duplicate schema id "${I}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);A.set(I,z[0])}}const P=z=>{const I=E.target==="draft-2020-12"?"$defs":"definitions";if(E.external){const F=E.external.registry.get(z[0])?.id,q=E.external.uri??(W=>W);if(F)return{ref:q(F)};const Y=z[1].defId??z[1].schema.id??`schema${E.counter++}`;return z[1].defId=Y,{defId:Y,ref:`${q("__shared")}#/${I}/${Y}`}}if(z[1]===C)return{ref:"#"};const U=`#/${I}/`,G=z[1].schema.id??`__schema${E.counter++}`;return{defId:G,ref:U+G}},O=z=>{if(z[1].schema.$ref)return;const I=z[1],{ref:B,defId:U}=P(z);I.def={...I.schema},U&&(I.defId=U);const G=I.schema;for(const F in G)delete G[F];G.$ref=B};if(E.cycles==="throw")for(const z of E.seen.entries()){const I=z[1];if(I.cycle)throw new Error(`Cycle detected: #/${I.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const z of E.seen.entries()){const I=z[1];if(_===z[0]){O(z);continue}if(E.external){const U=E.external.registry.get(z[0])?.id;if(_!==z[0]&&U){O(z);continue}}if(E.metadataRegistry.get(z[0])?.id){O(z);continue}if(I.cycle){O(z);continue}if(I.count>1&&E.reused==="ref"){O(z);continue}}}function finalize(E,_){const C=E.seen.get(_);if(!C)throw new Error("Unprocessed schema. This is a bug in Zod.");const A=z=>{const I=E.seen.get(z);if(I.ref===null)return;const B=I.def??I.schema,U={...B},G=I.ref;if(I.ref=null,G){A(G);const q=E.seen.get(G),Y=q.schema;if(Y.$ref&&(E.target==="draft-07"||E.target==="draft-04"||E.target==="openapi-3.0")?(B.allOf=B.allOf??[],B.allOf.push(Y)):Object.assign(B,Y),Object.assign(B,U),z._zod.parent===G)for(const Q in B)Q==="$ref"||Q==="allOf"||Q in U||delete B[Q];if(Y.$ref)for(const Q in B)Q==="$ref"||Q==="allOf"||Q in q.def&&JSON.stringify(B[Q])===JSON.stringify(q.def[Q])&&delete B[Q]}const F=z._zod.parent;if(F&&F!==G){A(F);const q=E.seen.get(F);if(q?.schema.$ref&&(B.$ref=q.schema.$ref,q.def))for(const Y in B)Y==="$ref"||Y==="allOf"||Y in q.def&&JSON.stringify(B[Y])===JSON.stringify(q.def[Y])&&delete B[Y]}E.override({zodSchema:z,jsonSchema:B,path:I.path??[]})};for(const z of[...E.seen.entries()].reverse())A(z[0]);const P={};if(E.target==="draft-2020-12"?P.$schema="https://json-schema.org/draft/2020-12/schema":E.target==="draft-07"?P.$schema="http://json-schema.org/draft-07/schema#":E.target==="draft-04"?P.$schema="http://json-schema.org/draft-04/schema#":E.target,E.external?.uri){const z=E.external.registry.get(_)?.id;if(!z)throw new Error("Schema is missing an `id` property");P.$id=E.external.uri(z)}Object.assign(P,C.def??C.schema);const O=E.external?.defs??{};for(const z of E.seen.entries()){const I=z[1];I.def&&I.defId&&(O[I.defId]=I.def)}E.external||Object.keys(O).length>0&&(E.target==="draft-2020-12"?P.$defs=O:P.definitions=O);try{const z=JSON.parse(JSON.stringify(P));return Object.defineProperty(z,"~standard",{value:{..._["~standard"],jsonSchema:{input:createStandardJSONSchemaMethod(_,"input",E.processors),output:createStandardJSONSchemaMethod(_,"output",E.processors)}},enumerable:!1,writable:!1}),z}catch{throw new Error("Error converting schema to JSON.")}}function isTransforming(E,_){const C=_??{seen:new Set};if(C.seen.has(E))return!1;C.seen.add(E);const A=E._zod.def;if(A.type==="transform")return!0;if(A.type==="array")return isTransforming(A.element,C);if(A.type==="set")return isTransforming(A.valueType,C);if(A.type==="lazy")return isTransforming(A.getter(),C);if(A.type==="promise"||A.type==="optional"||A.type==="nonoptional"||A.type==="nullable"||A.type==="readonly"||A.type==="default"||A.type==="prefault")return isTransforming(A.innerType,C);if(A.type==="intersection")return isTransforming(A.left,C)||isTransforming(A.right,C);if(A.type==="record"||A.type==="map")return isTransforming(A.keyType,C)||isTransforming(A.valueType,C);if(A.type==="pipe")return isTransforming(A.in,C)||isTransforming(A.out,C);if(A.type==="object"){for(const P in A.shape)if(isTransforming(A.shape[P],C))return!0;return!1}if(A.type==="union"){for(const P of A.options)if(isTransforming(P,C))return!0;return!1}if(A.type==="tuple"){for(const P of A.items)if(isTransforming(P,C))return!0;return!!(A.rest&&isTransforming(A.rest,C))}return!1}const createToJSONSchemaMethod=(E,_={})=>C=>{const A=initializeContext({...C,processors:_});return process$1(E,A),extractDefs(A,E),finalize(A,E)},createStandardJSONSchemaMethod=(E,_,C={})=>A=>{const{libraryOptions:P,target:O}=A??{},z=initializeContext({...P??{},target:O,io:_,processors:C});return process$1(E,z),extractDefs(z,E),finalize(z,E)},formatMap={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},stringProcessor=(E,_,C,A)=>{const P=C;P.type="string";const{minimum:O,maximum:z,format:I,patterns:B,contentEncoding:U}=E._zod.bag;if(typeof O=="number"&&(P.minLength=O),typeof z=="number"&&(P.maxLength=z),I&&(P.format=formatMap[I]??I,P.format===""&&delete P.format,I==="time"&&delete P.format),U&&(P.contentEncoding=U),B&&B.size>0){const G=[...B];G.length===1?P.pattern=G[0].source:G.length>1&&(P.allOf=[...G.map(F=>({..._.target==="draft-07"||_.target==="draft-04"||_.target==="openapi-3.0"?{type:"string"}:{},pattern:F.source}))])}},numberProcessor=(E,_,C,A)=>{const P=C,{minimum:O,maximum:z,format:I,multipleOf:B,exclusiveMaximum:U,exclusiveMinimum:G}=E._zod.bag;typeof I=="string"&&I.includes("int")?P.type="integer":P.type="number",typeof G=="number"&&(_.target==="draft-04"||_.target==="openapi-3.0"?(P.minimum=G,P.exclusiveMinimum=!0):P.exclusiveMinimum=G),typeof O=="number"&&(P.minimum=O,typeof G=="number"&&_.target!=="draft-04"&&(G>=O?delete P.minimum:delete P.exclusiveMinimum)),typeof U=="number"&&(_.target==="draft-04"||_.target==="openapi-3.0"?(P.maximum=U,P.exclusiveMaximum=!0):P.exclusiveMaximum=U),typeof z=="number"&&(P.maximum=z,typeof U=="number"&&_.target!=="draft-04"&&(U<=z?delete P.maximum:delete P.exclusiveMaximum)),typeof B=="number"&&(P.multipleOf=B)},booleanProcessor=(E,_,C,A)=>{C.type="boolean"},neverProcessor=(E,_,C,A)=>{C.not={}},unknownProcessor=(E,_,C,A)=>{},enumProcessor=(E,_,C,A)=>{const P=E._zod.def,O=getEnumValues(P.entries);O.every(z=>typeof z=="number")&&(C.type="number"),O.every(z=>typeof z=="string")&&(C.type="string"),C.enum=O},customProcessor=(E,_,C,A)=>{if(_.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},transformProcessor=(E,_,C,A)=>{if(_.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},arrayProcessor=(E,_,C,A)=>{const P=C,O=E._zod.def,{minimum:z,maximum:I}=E._zod.bag;typeof z=="number"&&(P.minItems=z),typeof I=="number"&&(P.maxItems=I),P.type="array",P.items=process$1(O.element,_,{...A,path:[...A.path,"items"]})},objectProcessor=(E,_,C,A)=>{const P=C,O=E._zod.def;P.type="object",P.properties={};const z=O.shape;for(const U in z)P.properties[U]=process$1(z[U],_,{...A,path:[...A.path,"properties",U]});const I=new Set(Object.keys(z)),B=new Set([...I].filter(U=>{const G=O.shape[U]._zod;return _.io==="input"?G.optin===void 0:G.optout===void 0}));B.size>0&&(P.required=Array.from(B)),O.catchall?._zod.def.type==="never"?P.additionalProperties=!1:O.catchall?O.catchall&&(P.additionalProperties=process$1(O.catchall,_,{...A,path:[...A.path,"additionalProperties"]})):_.io==="output"&&(P.additionalProperties=!1)},unionProcessor=(E,_,C,A)=>{const P=E._zod.def,O=P.inclusive===!1,z=P.options.map((I,B)=>process$1(I,_,{...A,path:[...A.path,O?"oneOf":"anyOf",B]}));O?C.oneOf=z:C.anyOf=z},intersectionProcessor=(E,_,C,A)=>{const P=E._zod.def,O=process$1(P.left,_,{...A,path:[...A.path,"allOf",0]}),z=process$1(P.right,_,{...A,path:[...A.path,"allOf",1]}),I=U=>"allOf"in U&&Object.keys(U).length===1,B=[...I(O)?O.allOf:[O],...I(z)?z.allOf:[z]];C.allOf=B},recordProcessor=(E,_,C,A)=>{const P=C,O=E._zod.def;P.type="object";const z=O.keyType,B=z._zod.bag?.patterns;if(O.mode==="loose"&&B&&B.size>0){const G=process$1(O.valueType,_,{...A,path:[...A.path,"patternProperties","*"]});P.patternProperties={};for(const F of B)P.patternProperties[F.source]=G}else(_.target==="draft-07"||_.target==="draft-2020-12")&&(P.propertyNames=process$1(O.keyType,_,{...A,path:[...A.path,"propertyNames"]})),P.additionalProperties=process$1(O.valueType,_,{...A,path:[...A.path,"additionalProperties"]});const U=z._zod.values;if(U){const G=[...U].filter(F=>typeof F=="string"||typeof F=="number");G.length>0&&(P.required=G)}},nullableProcessor=(E,_,C,A)=>{const P=E._zod.def,O=process$1(P.innerType,_,A),z=_.seen.get(E);_.target==="openapi-3.0"?(z.ref=P.innerType,C.nullable=!0):C.anyOf=[O,{type:"null"}]},nonoptionalProcessor=(E,_,C,A)=>{const P=E._zod.def;process$1(P.innerType,_,A);const O=_.seen.get(E);O.ref=P.innerType},defaultProcessor=(E,_,C,A)=>{const P=E._zod.def;process$1(P.innerType,_,A);const O=_.seen.get(E);O.ref=P.innerType,C.default=JSON.parse(JSON.stringify(P.defaultValue))},prefaultProcessor=(E,_,C,A)=>{const P=E._zod.def;process$1(P.innerType,_,A);const O=_.seen.get(E);O.ref=P.innerType,_.io==="input"&&(C._prefault=JSON.parse(JSON.stringify(P.defaultValue)))},catchProcessor=(E,_,C,A)=>{const P=E._zod.def;process$1(P.innerType,_,A);const O=_.seen.get(E);O.ref=P.innerType;let z;try{z=P.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}C.default=z},pipeProcessor=(E,_,C,A)=>{const P=E._zod.def,O=_.io==="input"?P.in._zod.def.type==="transform"?P.out:P.in:P.out;process$1(O,_,A);const z=_.seen.get(E);z.ref=O},readonlyProcessor=(E,_,C,A)=>{const P=E._zod.def;process$1(P.innerType,_,A);const O=_.seen.get(E);O.ref=P.innerType,C.readOnly=!0},optionalProcessor=(E,_,C,A)=>{const P=E._zod.def;process$1(P.innerType,_,A);const O=_.seen.get(E);O.ref=P.innerType},ZodISODateTime=$constructor("ZodISODateTime",(E,_)=>{$ZodISODateTime.init(E,_),ZodStringFormat.init(E,_)});function datetime(E){return _isoDateTime(ZodISODateTime,E)}const ZodISODate=$constructor("ZodISODate",(E,_)=>{$ZodISODate.init(E,_),ZodStringFormat.init(E,_)});function date(E){return _isoDate(ZodISODate,E)}const ZodISOTime=$constructor("ZodISOTime",(E,_)=>{$ZodISOTime.init(E,_),ZodStringFormat.init(E,_)});function time(E){return _isoTime(ZodISOTime,E)}const ZodISODuration=$constructor("ZodISODuration",(E,_)=>{$ZodISODuration.init(E,_),ZodStringFormat.init(E,_)});function duration(E){return _isoDuration(ZodISODuration,E)}const initializer=(E,_)=>{$ZodError.init(E,_),E.name="ZodError",Object.defineProperties(E,{format:{value:C=>formatError(E,C)},flatten:{value:C=>flattenError(E,C)},addIssue:{value:C=>{E.issues.push(C),E.message=JSON.stringify(E.issues,jsonStringifyReplacer,2)}},addIssues:{value:C=>{E.issues.push(...C),E.message=JSON.stringify(E.issues,jsonStringifyReplacer,2)}},isEmpty:{get(){return E.issues.length===0}}})},ZodRealError=$constructor("ZodError",initializer,{Parent:Error}),parse$2=_parse(ZodRealError),parseAsync=_parseAsync(ZodRealError),safeParse=_safeParse(ZodRealError),safeParseAsync=_safeParseAsync(ZodRealError),encode=_encode(ZodRealError),decode=_decode(ZodRealError),encodeAsync=_encodeAsync(ZodRealError),decodeAsync=_decodeAsync(ZodRealError),safeEncode=_safeEncode(ZodRealError),safeDecode=_safeDecode(ZodRealError),safeEncodeAsync=_safeEncodeAsync(ZodRealError),safeDecodeAsync=_safeDecodeAsync(ZodRealError),ZodType=$constructor("ZodType",(E,_)=>($ZodType.init(E,_),Object.assign(E["~standard"],{jsonSchema:{input:createStandardJSONSchemaMethod(E,"input"),output:createStandardJSONSchemaMethod(E,"output")}}),E.toJSONSchema=createToJSONSchemaMethod(E,{}),E.def=_,E.type=_.type,Object.defineProperty(E,"_def",{value:_}),E.check=(...C)=>E.clone(mergeDefs(_,{checks:[..._.checks??[],...C.map(A=>typeof A=="function"?{_zod:{check:A,def:{check:"custom"},onattach:[]}}:A)]}),{parent:!0}),E.with=E.check,E.clone=(C,A)=>clone(E,C,A),E.brand=()=>E,E.register=((C,A)=>(C.add(E,A),E)),E.parse=(C,A)=>parse$2(E,C,A,{callee:E.parse}),E.safeParse=(C,A)=>safeParse(E,C,A),E.parseAsync=async(C,A)=>parseAsync(E,C,A,{callee:E.parseAsync}),E.safeParseAsync=async(C,A)=>safeParseAsync(E,C,A),E.spa=E.safeParseAsync,E.encode=(C,A)=>encode(E,C,A),E.decode=(C,A)=>decode(E,C,A),E.encodeAsync=async(C,A)=>encodeAsync(E,C,A),E.decodeAsync=async(C,A)=>decodeAsync(E,C,A),E.safeEncode=(C,A)=>safeEncode(E,C,A),E.safeDecode=(C,A)=>safeDecode(E,C,A),E.safeEncodeAsync=async(C,A)=>safeEncodeAsync(E,C,A),E.safeDecodeAsync=async(C,A)=>safeDecodeAsync(E,C,A),E.refine=(C,A)=>E.check(refine(C,A)),E.superRefine=C=>E.check(superRefine(C)),E.overwrite=C=>E.check(_overwrite(C)),E.optional=()=>optional(E),E.exactOptional=()=>exactOptional(E),E.nullable=()=>nullable(E),E.nullish=()=>optional(nullable(E)),E.nonoptional=C=>nonoptional(E,C),E.array=()=>array(E),E.or=C=>union([E,C]),E.and=C=>intersection(E,C),E.transform=C=>pipe(E,transform(C)),E.default=C=>_default(E,C),E.prefault=C=>prefault(E,C),E.catch=C=>_catch(E,C),E.pipe=C=>pipe(E,C),E.readonly=()=>readonly(E),E.describe=C=>{const A=E.clone();return globalRegistry.add(A,{description:C}),A},Object.defineProperty(E,"description",{get(){return globalRegistry.get(E)?.description},configurable:!0}),E.meta=(...C)=>{if(C.length===0)return globalRegistry.get(E);const A=E.clone();return globalRegistry.add(A,C[0]),A},E.isOptional=()=>E.safeParse(void 0).success,E.isNullable=()=>E.safeParse(null).success,E.apply=C=>C(E),E)),_ZodString=$constructor("_ZodString",(E,_)=>{$ZodString.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(A,P,O)=>stringProcessor(E,A,P);const C=E._zod.bag;E.format=C.format??null,E.minLength=C.minimum??null,E.maxLength=C.maximum??null,E.regex=(...A)=>E.check(_regex(...A)),E.includes=(...A)=>E.check(_includes(...A)),E.startsWith=(...A)=>E.check(_startsWith(...A)),E.endsWith=(...A)=>E.check(_endsWith(...A)),E.min=(...A)=>E.check(_minLength(...A)),E.max=(...A)=>E.check(_maxLength(...A)),E.length=(...A)=>E.check(_length(...A)),E.nonempty=(...A)=>E.check(_minLength(1,...A)),E.lowercase=A=>E.check(_lowercase(A)),E.uppercase=A=>E.check(_uppercase(A)),E.trim=()=>E.check(_trim()),E.normalize=(...A)=>E.check(_normalize(...A)),E.toLowerCase=()=>E.check(_toLowerCase()),E.toUpperCase=()=>E.check(_toUpperCase()),E.slugify=()=>E.check(_slugify())}),ZodString=$constructor("ZodString",(E,_)=>{$ZodString.init(E,_),_ZodString.init(E,_),E.email=C=>E.check(_email(ZodEmail,C)),E.url=C=>E.check(_url(ZodURL,C)),E.jwt=C=>E.check(_jwt(ZodJWT,C)),E.emoji=C=>E.check(_emoji(ZodEmoji,C)),E.guid=C=>E.check(_guid(ZodGUID,C)),E.uuid=C=>E.check(_uuid(ZodUUID,C)),E.uuidv4=C=>E.check(_uuidv4(ZodUUID,C)),E.uuidv6=C=>E.check(_uuidv6(ZodUUID,C)),E.uuidv7=C=>E.check(_uuidv7(ZodUUID,C)),E.nanoid=C=>E.check(_nanoid(ZodNanoID,C)),E.guid=C=>E.check(_guid(ZodGUID,C)),E.cuid=C=>E.check(_cuid(ZodCUID,C)),E.cuid2=C=>E.check(_cuid2(ZodCUID2,C)),E.ulid=C=>E.check(_ulid(ZodULID,C)),E.base64=C=>E.check(_base64(ZodBase64,C)),E.base64url=C=>E.check(_base64url(ZodBase64URL,C)),E.xid=C=>E.check(_xid(ZodXID,C)),E.ksuid=C=>E.check(_ksuid(ZodKSUID,C)),E.ipv4=C=>E.check(_ipv4(ZodIPv4,C)),E.ipv6=C=>E.check(_ipv6(ZodIPv6,C)),E.cidrv4=C=>E.check(_cidrv4(ZodCIDRv4,C)),E.cidrv6=C=>E.check(_cidrv6(ZodCIDRv6,C)),E.e164=C=>E.check(_e164(ZodE164,C)),E.datetime=C=>E.check(datetime(C)),E.date=C=>E.check(date(C)),E.time=C=>E.check(time(C)),E.duration=C=>E.check(duration(C))});function string(E){return _string(ZodString,E)}const ZodStringFormat=$constructor("ZodStringFormat",(E,_)=>{$ZodStringFormat.init(E,_),_ZodString.init(E,_)}),ZodEmail=$constructor("ZodEmail",(E,_)=>{$ZodEmail.init(E,_),ZodStringFormat.init(E,_)}),ZodGUID=$constructor("ZodGUID",(E,_)=>{$ZodGUID.init(E,_),ZodStringFormat.init(E,_)}),ZodUUID=$constructor("ZodUUID",(E,_)=>{$ZodUUID.init(E,_),ZodStringFormat.init(E,_)}),ZodURL=$constructor("ZodURL",(E,_)=>{$ZodURL.init(E,_),ZodStringFormat.init(E,_)}),ZodEmoji=$constructor("ZodEmoji",(E,_)=>{$ZodEmoji.init(E,_),ZodStringFormat.init(E,_)}),ZodNanoID=$constructor("ZodNanoID",(E,_)=>{$ZodNanoID.init(E,_),ZodStringFormat.init(E,_)}),ZodCUID=$constructor("ZodCUID",(E,_)=>{$ZodCUID.init(E,_),ZodStringFormat.init(E,_)}),ZodCUID2=$constructor("ZodCUID2",(E,_)=>{$ZodCUID2.init(E,_),ZodStringFormat.init(E,_)}),ZodULID=$constructor("ZodULID",(E,_)=>{$ZodULID.init(E,_),ZodStringFormat.init(E,_)}),ZodXID=$constructor("ZodXID",(E,_)=>{$ZodXID.init(E,_),ZodStringFormat.init(E,_)}),ZodKSUID=$constructor("ZodKSUID",(E,_)=>{$ZodKSUID.init(E,_),ZodStringFormat.init(E,_)}),ZodIPv4=$constructor("ZodIPv4",(E,_)=>{$ZodIPv4.init(E,_),ZodStringFormat.init(E,_)}),ZodIPv6=$constructor("ZodIPv6",(E,_)=>{$ZodIPv6.init(E,_),ZodStringFormat.init(E,_)}),ZodCIDRv4=$constructor("ZodCIDRv4",(E,_)=>{$ZodCIDRv4.init(E,_),ZodStringFormat.init(E,_)}),ZodCIDRv6=$constructor("ZodCIDRv6",(E,_)=>{$ZodCIDRv6.init(E,_),ZodStringFormat.init(E,_)}),ZodBase64=$constructor("ZodBase64",(E,_)=>{$ZodBase64.init(E,_),ZodStringFormat.init(E,_)}),ZodBase64URL=$constructor("ZodBase64URL",(E,_)=>{$ZodBase64URL.init(E,_),ZodStringFormat.init(E,_)}),ZodE164=$constructor("ZodE164",(E,_)=>{$ZodE164.init(E,_),ZodStringFormat.init(E,_)}),ZodJWT=$constructor("ZodJWT",(E,_)=>{$ZodJWT.init(E,_),ZodStringFormat.init(E,_)}),ZodNumber=$constructor("ZodNumber",(E,_)=>{$ZodNumber.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(A,P,O)=>numberProcessor(E,A,P),E.gt=(A,P)=>E.check(_gt(A,P)),E.gte=(A,P)=>E.check(_gte(A,P)),E.min=(A,P)=>E.check(_gte(A,P)),E.lt=(A,P)=>E.check(_lt(A,P)),E.lte=(A,P)=>E.check(_lte(A,P)),E.max=(A,P)=>E.check(_lte(A,P)),E.int=A=>E.check(int(A)),E.safe=A=>E.check(int(A)),E.positive=A=>E.check(_gt(0,A)),E.nonnegative=A=>E.check(_gte(0,A)),E.negative=A=>E.check(_lt(0,A)),E.nonpositive=A=>E.check(_lte(0,A)),E.multipleOf=(A,P)=>E.check(_multipleOf(A,P)),E.step=(A,P)=>E.check(_multipleOf(A,P)),E.finite=()=>E;const C=E._zod.bag;E.minValue=Math.max(C.minimum??Number.NEGATIVE_INFINITY,C.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,E.maxValue=Math.min(C.maximum??Number.POSITIVE_INFINITY,C.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,E.isInt=(C.format??"").includes("int")||Number.isSafeInteger(C.multipleOf??.5),E.isFinite=!0,E.format=C.format??null});function number(E){return _number(ZodNumber,E)}const ZodNumberFormat=$constructor("ZodNumberFormat",(E,_)=>{$ZodNumberFormat.init(E,_),ZodNumber.init(E,_)});function int(E){return _int(ZodNumberFormat,E)}const ZodBoolean=$constructor("ZodBoolean",(E,_)=>{$ZodBoolean.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>booleanProcessor(E,C,A)});function boolean(E){return _boolean(ZodBoolean,E)}const ZodUnknown=$constructor("ZodUnknown",(E,_)=>{$ZodUnknown.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>unknownProcessor()});function unknown(){return _unknown(ZodUnknown)}const ZodNever=$constructor("ZodNever",(E,_)=>{$ZodNever.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>neverProcessor(E,C,A)});function never(E){return _never(ZodNever,E)}const ZodArray=$constructor("ZodArray",(E,_)=>{$ZodArray.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>arrayProcessor(E,C,A,P),E.element=_.element,E.min=(C,A)=>E.check(_minLength(C,A)),E.nonempty=C=>E.check(_minLength(1,C)),E.max=(C,A)=>E.check(_maxLength(C,A)),E.length=(C,A)=>E.check(_length(C,A)),E.unwrap=()=>E.element});function array(E,_){return _array(ZodArray,E,_)}const ZodObject=$constructor("ZodObject",(E,_)=>{$ZodObjectJIT.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>objectProcessor(E,C,A,P),defineLazy(E,"shape",()=>_.shape),E.keyof=()=>_enum(Object.keys(E._zod.def.shape)),E.catchall=C=>E.clone({...E._zod.def,catchall:C}),E.passthrough=()=>E.clone({...E._zod.def,catchall:unknown()}),E.loose=()=>E.clone({...E._zod.def,catchall:unknown()}),E.strict=()=>E.clone({...E._zod.def,catchall:never()}),E.strip=()=>E.clone({...E._zod.def,catchall:void 0}),E.extend=C=>extend(E,C),E.safeExtend=C=>safeExtend(E,C),E.merge=C=>merge(E,C),E.pick=C=>pick(E,C),E.omit=C=>omit(E,C),E.partial=(...C)=>partial(ZodOptional,E,C[0]),E.required=(...C)=>required(ZodNonOptional,E,C[0])});function object(E,_){const C={type:"object",shape:E??{},...normalizeParams(_)};return new ZodObject(C)}const ZodUnion=$constructor("ZodUnion",(E,_)=>{$ZodUnion.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>unionProcessor(E,C,A,P),E.options=_.options});function union(E,_){return new ZodUnion({type:"union",options:E,...normalizeParams(_)})}const ZodIntersection=$constructor("ZodIntersection",(E,_)=>{$ZodIntersection.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>intersectionProcessor(E,C,A,P)});function intersection(E,_){return new ZodIntersection({type:"intersection",left:E,right:_})}const ZodRecord=$constructor("ZodRecord",(E,_)=>{$ZodRecord.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>recordProcessor(E,C,A,P),E.keyType=_.keyType,E.valueType=_.valueType});function record(E,_,C){return new ZodRecord({type:"record",keyType:E,valueType:_,...normalizeParams(C)})}const ZodEnum=$constructor("ZodEnum",(E,_)=>{$ZodEnum.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(A,P,O)=>enumProcessor(E,A,P),E.enum=_.entries,E.options=Object.values(_.entries);const C=new Set(Object.keys(_.entries));E.extract=(A,P)=>{const O={};for(const z of A)if(C.has(z))O[z]=_.entries[z];else throw new Error(`Key ${z} not found in enum`);return new ZodEnum({..._,checks:[],...normalizeParams(P),entries:O})},E.exclude=(A,P)=>{const O={..._.entries};for(const z of A)if(C.has(z))delete O[z];else throw new Error(`Key ${z} not found in enum`);return new ZodEnum({..._,checks:[],...normalizeParams(P),entries:O})}});function _enum(E,_){const C=Array.isArray(E)?Object.fromEntries(E.map(A=>[A,A])):E;return new ZodEnum({type:"enum",entries:C,...normalizeParams(_)})}const ZodTransform=$constructor("ZodTransform",(E,_)=>{$ZodTransform.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>transformProcessor(E,C),E._zod.parse=(C,A)=>{if(A.direction==="backward")throw new $ZodEncodeError(E.constructor.name);C.addIssue=O=>{if(typeof O=="string")C.issues.push(issue(O,C.value,_));else{const z=O;z.fatal&&(z.continue=!1),z.code??(z.code="custom"),z.input??(z.input=C.value),z.inst??(z.inst=E),C.issues.push(issue(z))}};const P=_.transform(C.value,C);return P instanceof Promise?P.then(O=>(C.value=O,C)):(C.value=P,C)}});function transform(E){return new ZodTransform({type:"transform",transform:E})}const ZodOptional=$constructor("ZodOptional",(E,_)=>{$ZodOptional.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>optionalProcessor(E,C,A,P),E.unwrap=()=>E._zod.def.innerType});function optional(E){return new ZodOptional({type:"optional",innerType:E})}const ZodExactOptional=$constructor("ZodExactOptional",(E,_)=>{$ZodExactOptional.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>optionalProcessor(E,C,A,P),E.unwrap=()=>E._zod.def.innerType});function exactOptional(E){return new ZodExactOptional({type:"optional",innerType:E})}const ZodNullable=$constructor("ZodNullable",(E,_)=>{$ZodNullable.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>nullableProcessor(E,C,A,P),E.unwrap=()=>E._zod.def.innerType});function nullable(E){return new ZodNullable({type:"nullable",innerType:E})}const ZodDefault=$constructor("ZodDefault",(E,_)=>{$ZodDefault.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>defaultProcessor(E,C,A,P),E.unwrap=()=>E._zod.def.innerType,E.removeDefault=E.unwrap});function _default(E,_){return new ZodDefault({type:"default",innerType:E,get defaultValue(){return typeof _=="function"?_():shallowClone(_)}})}const ZodPrefault=$constructor("ZodPrefault",(E,_)=>{$ZodPrefault.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>prefaultProcessor(E,C,A,P),E.unwrap=()=>E._zod.def.innerType});function prefault(E,_){return new ZodPrefault({type:"prefault",innerType:E,get defaultValue(){return typeof _=="function"?_():shallowClone(_)}})}const ZodNonOptional=$constructor("ZodNonOptional",(E,_)=>{$ZodNonOptional.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>nonoptionalProcessor(E,C,A,P),E.unwrap=()=>E._zod.def.innerType});function nonoptional(E,_){return new ZodNonOptional({type:"nonoptional",innerType:E,...normalizeParams(_)})}const ZodCatch=$constructor("ZodCatch",(E,_)=>{$ZodCatch.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>catchProcessor(E,C,A,P),E.unwrap=()=>E._zod.def.innerType,E.removeCatch=E.unwrap});function _catch(E,_){return new ZodCatch({type:"catch",innerType:E,catchValue:typeof _=="function"?_:()=>_})}const ZodPipe=$constructor("ZodPipe",(E,_)=>{$ZodPipe.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>pipeProcessor(E,C,A,P),E.in=_.in,E.out=_.out});function pipe(E,_){return new ZodPipe({type:"pipe",in:E,out:_})}const ZodReadonly=$constructor("ZodReadonly",(E,_)=>{$ZodReadonly.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>readonlyProcessor(E,C,A,P),E.unwrap=()=>E._zod.def.innerType});function readonly(E){return new ZodReadonly({type:"readonly",innerType:E})}const ZodCustom=$constructor("ZodCustom",(E,_)=>{$ZodCustom.init(E,_),ZodType.init(E,_),E._zod.processJSONSchema=(C,A,P)=>customProcessor(E,C)});function refine(E,_={}){return _refine(ZodCustom,E,_)}function superRefine(E){return _superRefine(E)}const rgbColorSchema=object({r:number().min(0).max(255),g:number().min(0).max(255),b:number().min(0).max(255)}),rangeSchema=object({min:number(),max:number()}),emtEventTimesSchema=object({time_A:rangeSchema,time_B:rangeSchema,time_S:rangeSchema,time_P:rangeSchema}),cellTypeSchema=object({name:string(),R_hard:number().positive(),R_hard_div:number().positive(),R_soft:number().positive(),color:rgbColorSchema,dur_G2:number().nonnegative(),dur_mitosis:number().nonnegative(),k_apical_junction:number().nonnegative(),k_cytos:number().nonnegative(),max_cytoskeleton_length:number().nonnegative(),run:number().min(0).max(1),running_speed:number().nonnegative(),running_mode:number().int().min(0).max(3),stiffness_apical_apical:number().nonnegative(),stiffness_apical_apical_div:number().nonnegative(),stiffness_nuclei_apical:number().nonnegative(),stiffness_nuclei_basal:number().nonnegative(),stiffness_repulsion:number().nonnegative(),stiffness_straightness:number().nonnegative(),lifespan:rangeSchema,INM:number().min(0).max(1),hetero:boolean(),events:emtEventTimesSchema}),generalParamsSchema=object({t_end:number().positive(),dt:number().positive(),random_seed:number().int(),N_init:number().int().positive(),N_max:number().int().positive(),N_emt:number().int().nonnegative(),w_init:number().positive(),h_init:number().positive(),mu:number().positive(),n_substeps:number().int().positive(),alg_dt:number().positive(),w_screen:number().positive(),h_screen:number().positive(),p_div_out:number().min(0).max(1),curvature:number()}),cellPropertyParamsSchema=object({apical_junction_init:number().nonnegative(),max_basal_junction_dist:number().positive(),basal_daming_ratio:number().nonnegative(),basal_membrane_repulsion:number().nonnegative(),cytos_init:number().nonnegative(),diffusion:number().nonnegative()}),cellTypesMapSchema=object({control:cellTypeSchema,emt:cellTypeSchema}).catchall(cellTypeSchema);object({general:generalParamsSchema,cell_prop:cellPropertyParamsSchema,cell_types:cellTypesMapSchema});const partialGeneralParamsSchema=generalParamsSchema.partial(),partialCellPropertyParamsSchema=cellPropertyParamsSchema.partial(),partialCellTypeSchema=cellTypeSchema.partial();object({general:partialGeneralParamsSchema.optional(),cell_prop:partialCellPropertyParamsSchema.optional(),cell_types:record(string(),partialCellTypeSchema).optional()});var freeGlobal=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$d=Object.prototype,hasOwnProperty$a=objectProto$d.hasOwnProperty,nativeObjectToString$1=objectProto$d.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(E){var _=hasOwnProperty$a.call(E,symToStringTag$1),C=E[symToStringTag$1];try{E[symToStringTag$1]=void 0;var A=!0}catch{}var P=nativeObjectToString$1.call(E);return A&&(_?E[symToStringTag$1]=C:delete E[symToStringTag$1]),P}var objectProto$c=Object.prototype,nativeObjectToString=objectProto$c.toString;function objectToString(E){return nativeObjectToString.call(E)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(E){return E==null?E===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(E)?getRawTag(E):objectToString(E)}function isObjectLike(E){return E!=null&&typeof E=="object"}var isArray=Array.isArray;function isObject(E){var _=typeof E;return E!=null&&(_=="object"||_=="function")}function identity(E){return E}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(E){if(!isObject(E))return!1;var _=baseGetTag(E);return _==funcTag$2||_==genTag$1||_==asyncTag||_==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=(function(){var E=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""})();function isMasked(E){return!!maskSrcKey&&maskSrcKey in E}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(E){if(E!=null){try{return funcToString$2.call(E)}catch{}try{return E+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$b=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$b.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(E){if(!isObject(E)||isMasked(E))return!1;var _=isFunction$1(E)?reIsNative:reIsHostCtor;return _.test(toSource(E))}function getValue(E,_){return E?.[_]}function getNative(E,_){var C=getValue(E,_);return baseIsNative(C)?C:void 0}var WeakMap$1=getNative(root,"WeakMap"),objectCreate=Object.create,baseCreate=(function(){function E(){}return function(_){if(!isObject(_))return{};if(objectCreate)return objectCreate(_);E.prototype=_;var C=new E;return E.prototype=void 0,C}})();function apply(E,_,C){switch(C.length){case 0:return E.call(_);case 1:return E.call(_,C[0]);case 2:return E.call(_,C[0],C[1]);case 3:return E.call(_,C[0],C[1],C[2])}return E.apply(_,C)}function copyArray(E,_){var C=-1,A=E.length;for(_||(_=Array(A));++C<A;)_[C]=E[C];return _}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(E){var _=0,C=0;return function(){var A=nativeNow(),P=HOT_SPAN-(A-C);if(C=A,P>0){if(++_>=HOT_COUNT)return arguments[0]}else _=0;return E.apply(void 0,arguments)}}function constant(E){return function(){return E}}var defineProperty=(function(){try{var E=getNative(Object,"defineProperty");return E({},"",{}),E}catch{}})(),baseSetToString=defineProperty?function(E,_){return defineProperty(E,"toString",{configurable:!0,enumerable:!1,value:constant(_),writable:!0})}:identity,setToString=shortOut(baseSetToString);function arrayEach(E,_){for(var C=-1,A=E==null?0:E.length;++C<A&&_(E[C],C,E)!==!1;);return E}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(E,_){var C=typeof E;return _=_??MAX_SAFE_INTEGER$1,!!_&&(C=="number"||C!="symbol"&&reIsUint.test(E))&&E>-1&&E%1==0&&E<_}function baseAssignValue(E,_,C){_=="__proto__"&&defineProperty?defineProperty(E,_,{configurable:!0,enumerable:!0,value:C,writable:!0}):E[_]=C}function eq(E,_){return E===_||E!==E&&_!==_}var objectProto$a=Object.prototype,hasOwnProperty$8=objectProto$a.hasOwnProperty;function assignValue(E,_,C){var A=E[_];(!(hasOwnProperty$8.call(E,_)&&eq(A,C))||C===void 0&&!(_ in E))&&baseAssignValue(E,_,C)}function copyObject(E,_,C,A){var P=!C;C||(C={});for(var O=-1,z=_.length;++O<z;){var I=_[O],B=void 0;B===void 0&&(B=E[I]),P?baseAssignValue(C,I,B):assignValue(C,I,B)}return C}var nativeMax=Math.max;function overRest(E,_,C){return _=nativeMax(_===void 0?E.length-1:_,0),function(){for(var A=arguments,P=-1,O=nativeMax(A.length-_,0),z=Array(O);++P<O;)z[P]=A[_+P];P=-1;for(var I=Array(_+1);++P<_;)I[P]=A[P];return I[_]=C(z),apply(E,this,I)}}function baseRest(E,_){return setToString(overRest(E,_,identity),E+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=MAX_SAFE_INTEGER}function isArrayLike(E){return E!=null&&isLength(E.length)&&!isFunction$1(E)}function isIterateeCall(E,_,C){if(!isObject(C))return!1;var A=typeof _;return(A=="number"?isArrayLike(C)&&isIndex(_,C.length):A=="string"&&_ in C)?eq(C[_],E):!1}function createAssigner(E){return baseRest(function(_,C){var A=-1,P=C.length,O=P>1?C[P-1]:void 0,z=P>2?C[2]:void 0;for(O=E.length>3&&typeof O=="function"?(P--,O):void 0,z&&isIterateeCall(C[0],C[1],z)&&(O=P<3?void 0:O,P=1),_=Object(_);++A<P;){var I=C[A];I&&E(_,I,A,O)}return _})}var objectProto$9=Object.prototype;function isPrototype(E){var _=E&&E.constructor,C=typeof _=="function"&&_.prototype||objectProto$9;return E===C}function baseTimes(E,_){for(var C=-1,A=Array(E);++C<E;)A[C]=_(C);return A}var argsTag$2="[object Arguments]";function baseIsArguments(E){return isObjectLike(E)&&baseGetTag(E)==argsTag$2}var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty,propertyIsEnumerable$1=objectProto$8.propertyIsEnumerable,isArguments=baseIsArguments((function(){return arguments})())?baseIsArguments:function(E){return isObjectLike(E)&&hasOwnProperty$7.call(E,"callee")&&!propertyIsEnumerable$1.call(E,"callee")};function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$3="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$2]=typedArrayTags[boolTag$2]=typedArrayTags[dataViewTag$3]=typedArrayTags[dateTag$2]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$4]=typedArrayTags[numberTag$2]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag$2]=typedArrayTags[setTag$4]=typedArrayTags[stringTag$2]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(E){return isObjectLike(E)&&isLength(E.length)&&!!typedArrayTags[baseGetTag(E)]}function baseUnary(E){return function(_){return E(_)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=(function(){try{var E=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return E||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}})(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function arrayLikeKeys(E,_){var C=isArray(E),A=!C&&isArguments(E),P=!C&&!A&&isBuffer(E),O=!C&&!A&&!P&&isTypedArray(E),z=C||A||P||O,I=z?baseTimes(E.length,String):[],B=I.length;for(var U in E)(_||hasOwnProperty$6.call(E,U))&&!(z&&(U=="length"||P&&(U=="offset"||U=="parent")||O&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||isIndex(U,B)))&&I.push(U);return I}function overArg(E,_){return function(C){return E(_(C))}}var nativeKeys=overArg(Object.keys,Object),objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function baseKeys(E){if(!isPrototype(E))return nativeKeys(E);var _=[];for(var C in Object(E))hasOwnProperty$5.call(E,C)&&C!="constructor"&&_.push(C);return _}function keys(E){return isArrayLike(E)?arrayLikeKeys(E):baseKeys(E)}function nativeKeysIn(E){var _=[];if(E!=null)for(var C in Object(E))_.push(C);return _}var objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function baseKeysIn(E){if(!isObject(E))return nativeKeysIn(E);var _=isPrototype(E),C=[];for(var A in E)A=="constructor"&&(_||!hasOwnProperty$4.call(E,A))||C.push(A);return C}function keysIn(E){return isArrayLike(E)?arrayLikeKeys(E,!0):baseKeysIn(E)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(E){var _=this.has(E)&&delete this.__data__[E];return this.size-=_?1:0,_}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function hashGet(E){var _=this.__data__;if(nativeCreate){var C=_[E];return C===HASH_UNDEFINED$1?void 0:C}return hasOwnProperty$3.call(_,E)?_[E]:void 0}var objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function hashHas(E){var _=this.__data__;return nativeCreate?_[E]!==void 0:hasOwnProperty$2.call(_,E)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(E,_){var C=this.__data__;return this.size+=this.has(E)?0:1,C[E]=nativeCreate&&_===void 0?HASH_UNDEFINED:_,this}function Hash(E){var _=-1,C=E==null?0:E.length;for(this.clear();++_<C;){var A=E[_];this.set(A[0],A[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(E,_){for(var C=E.length;C--;)if(eq(E[C][0],_))return C;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(E){var _=this.__data__,C=assocIndexOf(_,E);if(C<0)return!1;var A=_.length-1;return C==A?_.pop():splice.call(_,C,1),--this.size,!0}function listCacheGet(E){var _=this.__data__,C=assocIndexOf(_,E);return C<0?void 0:_[C][1]}function listCacheHas(E){return assocIndexOf(this.__data__,E)>-1}function listCacheSet(E,_){var C=this.__data__,A=assocIndexOf(C,E);return A<0?(++this.size,C.push([E,_])):C[A][1]=_,this}function ListCache(E){var _=-1,C=E==null?0:E.length;for(this.clear();++_<C;){var A=E[_];this.set(A[0],A[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(E){var _=typeof E;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?E!=="__proto__":E===null}function getMapData(E,_){var C=E.__data__;return isKeyable(_)?C[typeof _=="string"?"string":"hash"]:C.map}function mapCacheDelete(E){var _=getMapData(this,E).delete(E);return this.size-=_?1:0,_}function mapCacheGet(E){return getMapData(this,E).get(E)}function mapCacheHas(E){return getMapData(this,E).has(E)}function mapCacheSet(E,_){var C=getMapData(this,E),A=C.size;return C.set(E,_),this.size+=C.size==A?0:1,this}function MapCache(E){var _=-1,C=E==null?0:E.length;for(this.clear();++_<C;){var A=E[_];this.set(A[0],A[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function arrayPush(E,_){for(var C=-1,A=_.length,P=E.length;++C<A;)E[P+C]=_[C];return E}var getPrototype=overArg(Object.getPrototypeOf,Object),objectTag$2="[object Object]",funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$1=objectProto$2.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(E){if(!isObjectLike(E)||baseGetTag(E)!=objectTag$2)return!1;var _=getPrototype(E);if(_===null)return!0;var C=hasOwnProperty$1.call(_,"constructor")&&_.constructor;return typeof C=="function"&&C instanceof C&&funcToString.call(C)==objectCtorString}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(E){var _=this.__data__,C=_.delete(E);return this.size=_.size,C}function stackGet(E){return this.__data__.get(E)}function stackHas(E){return this.__data__.has(E)}var LARGE_ARRAY_SIZE=200;function stackSet(E,_){var C=this.__data__;if(C instanceof ListCache){var A=C.__data__;if(!Map$1||A.length<LARGE_ARRAY_SIZE-1)return A.push([E,_]),this.size=++C.size,this;C=this.__data__=new MapCache(A)}return C.set(E,_),this.size=C.size,this}function Stack(E){var _=this.__data__=new ListCache(E);this.size=_.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;function cloneBuffer(E,_){if(_)return E.slice();var C=E.length,A=allocUnsafe?allocUnsafe(C):new E.constructor(C);return E.copy(A),A}function arrayFilter(E,_){for(var C=-1,A=E==null?0:E.length,P=0,O=[];++C<A;){var z=E[C];_(z,C,E)&&(O[P++]=z)}return O}function stubArray(){return[]}var objectProto$1=Object.prototype,propertyIsEnumerable=objectProto$1.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(E){return E==null?[]:(E=Object(E),arrayFilter(nativeGetSymbols(E),function(_){return propertyIsEnumerable.call(E,_)}))}:stubArray;function baseGetAllKeys(E,_,C){var A=_(E);return isArray(E)?A:arrayPush(A,C(E))}function getAllKeys(E){return baseGetAllKeys(E,keys,getSymbols)}var DataView=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$3="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag$2||Map$1&&getTag(new Map$1)!=mapTag$3||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$3||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag$1)&&(getTag=function(E){var _=baseGetTag(E),C=_==objectTag$1?E.constructor:void 0,A=C?toSource(C):"";if(A)switch(A){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return _});var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function initCloneArray(E){var _=E.length,C=new E.constructor(_);return _&&typeof E[0]=="string"&&hasOwnProperty.call(E,"index")&&(C.index=E.index,C.input=E.input),C}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(E){var _=new E.constructor(E.byteLength);return new Uint8Array$1(_).set(new Uint8Array$1(E)),_}function cloneDataView(E,_){var C=cloneArrayBuffer(E.buffer);return new E.constructor(C,E.byteOffset,E.byteLength)}var reFlags=/\w*$/;function cloneRegExp(E){var _=new E.constructor(E.source,reFlags.exec(E));return _.lastIndex=E.lastIndex,_}var symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol(E){return symbolValueOf?Object(symbolValueOf.call(E)):{}}function cloneTypedArray(E,_){var C=_?cloneArrayBuffer(E.buffer):E.buffer;return new E.constructor(C,E.byteOffset,E.length)}var boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(E,_,C){var A=E.constructor;switch(_){case arrayBufferTag$1:return cloneArrayBuffer(E);case boolTag$1:case dateTag$1:return new A(+E);case dataViewTag$1:return cloneDataView(E);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(E,C);case mapTag$2:return new A;case numberTag$1:case stringTag$1:return new A(E);case regexpTag$1:return cloneRegExp(E);case setTag$2:return new A;case symbolTag$1:return cloneSymbol(E)}}function initCloneObject(E){return typeof E.constructor=="function"&&!isPrototype(E)?baseCreate(getPrototype(E)):{}}var mapTag$1="[object Map]";function baseIsMap(E){return isObjectLike(E)&&getTag(E)==mapTag$1}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$1="[object Set]";function baseIsSet(E){return isObjectLike(E)&&getTag(E)==setTag$1}var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG$1=1,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(E,_,C,A,P,O){var z,I=_&CLONE_DEEP_FLAG$1;if(z!==void 0)return z;if(!isObject(E))return E;var B=isArray(E);if(B)z=initCloneArray(E);else{var U=getTag(E),G=U==funcTag||U==genTag;if(isBuffer(E))return cloneBuffer(E,I);if(U==objectTag||U==argsTag||G&&!P)z=G?{}:initCloneObject(E);else{if(!cloneableTags[U])return P?E:{};z=initCloneByTag(E,U,I)}}O||(O=new Stack);var F=O.get(E);if(F)return F;O.set(E,z),isSet(E)?E.forEach(function(W){z.add(baseClone(W,_,C,W,E,O))}):isMap(E)&&E.forEach(function(W,Q){z.set(Q,baseClone(W,_,C,Q,E,O))});var q=getAllKeys,Y=B?void 0:q(E);return arrayEach(Y||E,function(W,Q){Y&&(Q=W,W=E[Q]),assignValue(z,Q,baseClone(W,_,C,Q,E,O))}),z}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(E){return baseClone(E,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}function createBaseFor(E){return function(_,C,A){for(var P=-1,O=Object(_),z=A(_),I=z.length;I--;){var B=z[++P];if(C(O[B],B,O)===!1)break}return _}}var baseFor=createBaseFor();function assignMergeValue(E,_,C){(C!==void 0&&!eq(E[_],C)||C===void 0&&!(_ in E))&&baseAssignValue(E,_,C)}function isArrayLikeObject(E){return isObjectLike(E)&&isArrayLike(E)}function safeGet(E,_){if(!(_==="constructor"&&typeof E[_]=="function")&&_!="__proto__")return E[_]}function toPlainObject(E){return copyObject(E,keysIn(E))}function baseMergeDeep(E,_,C,A,P,O,z){var I=safeGet(E,C),B=safeGet(_,C),U=z.get(B);if(U){assignMergeValue(E,C,U);return}var G=O?O(I,B,C+"",E,_,z):void 0,F=G===void 0;if(F){var q=isArray(B),Y=!q&&isBuffer(B),W=!q&&!Y&&isTypedArray(B);G=B,q||Y||W?isArray(I)?G=I:isArrayLikeObject(I)?G=copyArray(I):Y?(F=!1,G=cloneBuffer(B,!0)):W?(F=!1,G=cloneTypedArray(B,!0)):G=[]:isPlainObject(B)||isArguments(B)?(G=I,isArguments(I)?G=toPlainObject(I):(!isObject(I)||isFunction$1(I))&&(G=initCloneObject(B))):F=!1}F&&(z.set(B,G),P(G,B,A,O,z),z.delete(B)),assignMergeValue(E,C,G)}function baseMerge(E,_,C,A,P){E!==_&&baseFor(_,function(O,z){if(P||(P=new Stack),isObject(O))baseMergeDeep(E,_,z,C,baseMerge,A,P);else{var I=A?A(safeGet(E,z),O,z+"",E,_,P):void 0;I===void 0&&(I=O),assignMergeValue(E,z,I)}},keysIn)}var mergeWith=createAssigner(function(E,_,C,A){baseMerge(E,_,C,A)});function customMerge(E,_){if(_===void 0)return E;if(Array.isArray(_))return _;if(!(isPlainObject(E)&&isPlainObject(_)))return _}function mergeWithDefaults(E,_=DEFAULT_PARAMS){const C=cloneDeep(_);if(E.general&&mergeWith(C.general,E.general,customMerge),E.cell_prop&&mergeWith(C.cell_prop,E.cell_prop,customMerge),E.cell_types)for(const[A,P]of Object.entries(E.cell_types))if(A in C.cell_types)mergeWith(C.cell_types[A],P,customMerge);else{const O=cloneDeep(DEFAULT_CONTROL_CELL);O.name=A,mergeWith(O,P,customMerge),C.cell_types[A]=O}return C}function setNestedValue(E,_,C){const A=_.split(".");let P=E;for(let O=0;O<A.length-1;O++){const z=A[O];(!(z in P)||typeof P[z]!="object"||P[z]===null)&&(P[z]={}),P=P[z]}P[A[A.length-1]]=C}var toml={},parse$1={exports:{}},tomlParser={exports:{}},parser,hasRequiredParser;function requireParser(){if(hasRequiredParser)return parser;hasRequiredParser=1;const E=1114112;class _ extends Error{constructor(O,z,I){super("[ParserError] "+O,z,I),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,_)}}class C{constructor(O){this.parser=O,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}}class A{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new C(this.parseStart)}parse(O){if(O.length===0||O.length==null)return;this._buf=String(O),this.ii=-1,this.char=-1;let z;for(;z===!1||this.nextChar();)z=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=E;let O;do O=this.state.parser,this.runOne();while(this.state.parser!==O);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(O){if(typeof O!="function")throw new _("Tried to set state to non-existent state: "+JSON.stringify(O));this.state.parser=O}goto(O){return this.next(O),this.runOne()}call(O,z){z&&this.next(z),this.stack.push(this.state),this.state=new C(O)}callNow(O,z){return this.call(O,z),this.runOne()}return(O){if(this.stack.length===0)throw this.error(new _("Stack underflow"));O===void 0&&(O=this.state.buf),this.state=this.stack.pop(),this.state.returned=O}returnNow(O){return this.return(O),this.runOne()}consume(){if(this.char===E)throw this.error(new _("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(O){return O.line=this.line,O.col=this.col,O.pos=this.pos,O}parseStart(){throw new _("Must declare a parseStart method")}}return A.END=E,A.Error=_,parser=A,parser}var createDatetime,hasRequiredCreateDatetime;function requireCreateDatetime(){return hasRequiredCreateDatetime||(hasRequiredCreateDatetime=1,createDatetime=E=>{const _=new Date(E);if(isNaN(_))throw new TypeError("Invalid Datetime");return _}),createDatetime}var formatNum,hasRequiredFormatNum;function requireFormatNum(){return hasRequiredFormatNum||(hasRequiredFormatNum=1,formatNum=(E,_)=>{for(_=String(_);_.length<E;)_="0"+_;return _}),formatNum}var createDatetimeFloat,hasRequiredCreateDatetimeFloat;function requireCreateDatetimeFloat(){if(hasRequiredCreateDatetimeFloat)return createDatetimeFloat;hasRequiredCreateDatetimeFloat=1;const E=requireFormatNum();class _ extends Date{constructor(A){super(A+"Z"),this.isFloating=!0}toISOString(){const A=`${this.getUTCFullYear()}-${E(2,this.getUTCMonth()+1)}-${E(2,this.getUTCDate())}`,P=`${E(2,this.getUTCHours())}:${E(2,this.getUTCMinutes())}:${E(2,this.getUTCSeconds())}.${E(3,this.getUTCMilliseconds())}`;return`${A}T${P}`}}return createDatetimeFloat=C=>{const A=new _(C);if(isNaN(A))throw new TypeError("Invalid Datetime");return A},createDatetimeFloat}var createDate,hasRequiredCreateDate;function requireCreateDate(){if(hasRequiredCreateDate)return createDate;hasRequiredCreateDate=1;const E=requireFormatNum(),_=globalThis.Date;class C extends _{constructor(P){super(P),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${E(2,this.getUTCMonth()+1)}-${E(2,this.getUTCDate())}`}}return createDate=A=>{const P=new C(A);if(isNaN(P))throw new TypeError("Invalid Datetime");return P},createDate}var createTime,hasRequiredCreateTime;function requireCreateTime(){if(hasRequiredCreateTime)return createTime;hasRequiredCreateTime=1;const E=requireFormatNum();class _ extends Date{constructor(A){super(`0000-01-01T${A}Z`),this.isTime=!0}toISOString(){return`${E(2,this.getUTCHours())}:${E(2,this.getUTCMinutes())}:${E(2,this.getUTCSeconds())}.${E(3,this.getUTCMilliseconds())}`}}return createTime=C=>{const A=new _(C);if(isNaN(A))throw new TypeError("Invalid Datetime");return A},createTime}var hasRequiredTomlParser;function requireTomlParser(){if(hasRequiredTomlParser)return tomlParser.exports;hasRequiredTomlParser=1,tomlParser.exports=makeParserClass(requireParser()),tomlParser.exports.makeParserClass=makeParserClass;class TomlError extends Error{constructor(_){super(_),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}}TomlError.wrap=E=>{const _=new TomlError(E.message);return _.code=E.code,_.wrapped=E,_},tomlParser.exports.TomlError=TomlError;const createDateTime=requireCreateDatetime(),createDateTimeFloat=requireCreateDatetimeFloat(),createDate=requireCreateDate(),createTime=requireCreateTime(),CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(E){return E>=CHAR_0&&E<=CHAR_9}function isHexit(E){return E>=CHAR_A&&E<=CHAR_F||E>=CHAR_a&&E<=CHAR_f||E>=CHAR_0&&E<=CHAR_9}function isBit(E){return E===CHAR_1||E===CHAR_0}function isOctit(E){return E>=CHAR_0&&E<=CHAR_7}function isAlphaNumQuoteHyphen(E){return E>=CHAR_A&&E<=CHAR_Z||E>=CHAR_a&&E<=CHAR_z||E>=CHAR_0&&E<=CHAR_9||E===CHAR_APOS||E===CHAR_QUOT||E===CHAR_LOWBAR||E===CHAR_HYPHEN}function isAlphaNumHyphen(E){return E>=CHAR_A&&E<=CHAR_Z||E>=CHAR_a&&E<=CHAR_z||E>=CHAR_0&&E<=CHAR_9||E===CHAR_LOWBAR||E===CHAR_HYPHEN}const _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(E,_){return hasOwnProperty.call(E,_)?!0:(_==="__proto__"&&defineProperty(E,"__proto__",descriptor),!1)}const INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(E){return E===null||typeof E!="object"?!1:E[_type]===INLINE_TABLE}const TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(E){return E===null||typeof E!="object"?!1:E[_type]===TABLE}const _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(E){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:E}})}function isInlineList(E){return E===null||typeof E!="object"?!1:E[_type]===INLINE_LIST}const LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(E){return E===null||typeof E!="object"?!1:E[_type]===LIST}let _custom;try{const utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(E){}const _inspect=_custom||"inspect";class BoxedBigInt{constructor(_){try{this.value=globalThis.BigInt.asIntN(64,_)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}}const INTEGER=Symbol("integer");function Integer(E){let _=Number(E);return Object.is(_,-0)&&(_=0),globalThis.BigInt&&!Number.isSafeInteger(_)?new BoxedBigInt(E):Object.defineProperties(new Number(_),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${E}]`}})}function isInteger(E){return E===null||typeof E!="object"?!1:E[_type]===INTEGER}const FLOAT=Symbol("float");function Float(E){return Object.defineProperties(new Number(E),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${E}]`}})}function isFloat(E){return E===null||typeof E!="object"?!1:E[_type]===FLOAT}function tomlType(E){const _=typeof E;if(_==="object"){if(E===null)return"null";if(E instanceof Date)return"datetime";if(_type in E)switch(E[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return _}function makeParserClass(E){class _ extends E{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===E.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===E.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===E.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(A){let P=this.ctx,O=A.key.pop();for(let z of A.key){if(hasKey(P,z)&&(!isTable(P[z])||P[z][_declared]))throw this.error(new TomlError("Can't redefine existing key"));P=P[z]=P[z]||Table()}if(hasKey(P,O))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(A.value)||isFloat(A.value)?P[O]=A.value.valueOf():P[O]=A.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(A){return this.state.resultTable?this.state.resultTable.push(A):this.state.resultTable=[A],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(A){return this.returnNow({key:this.state.resultTable,value:A})}parseComment(){do if(this.char===E.END||this.char===CTRL_J)return this.return();while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(A){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,A)&&(!isTable(this.ctx[A])||this.ctx[A][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[A]=this.ctx[A]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,A))this.ctx=this.ctx[A]=Table();else if(isTable(this.ctx[A]))this.ctx=this.ctx[A];else if(isList(this.ctx[A]))this.ctx=this.ctx[A][this.ctx[A].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(A){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,A)||(this.ctx[A]=List()),isInlineList(this.ctx[A]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[A])){const P=Table();this.ctx[A].push(P),this.ctx=P}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,A))this.ctx=this.ctx[A]=Table();else{if(isInlineList(this.ctx[A]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[A]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[A]))this.ctx=this.ctx[A][this.ctx[A].length-1];else if(isTable(this.ctx[A]))this.ctx=this.ctx[A];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(A){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===E.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(A){return this.returnNow(A)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===E.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===E.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(A){return this.state.buf+=A,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===E.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let A="\\u00";return this.char<16&&(A+="0"),A+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${A} instead`))}recordMultiEscapeReplacement(A){return this.state.buf+=A,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(A){try{const P=parseInt(A,16);if(P>=SURROGATE_FIRST&&P<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(P))}catch(P){throw this.error(TomlError.wrap(P))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{const A=Integer(this.state.buf);if(A.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(A)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const A=Integer(this.state.buf);if(A.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(A)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const A=Integer(this.state.buf);if(A.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(A)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const A=Integer(this.state.buf);if(A.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(A)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===E.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(A){if(this.state.resultArr){const P=this.state.resultArr[_contentType],O=tomlType(A);if(P!==O)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${P} and ${O}`))}else this.state.resultArr=InlineList(tomlType(A));return isFloat(A)||isInteger(A)?this.state.resultArr.push(A.valueOf()):this.state.resultArr.push(A),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===E.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(A){let P=this.state.resultTable,O=A.key.pop();for(let z of A.key){if(hasKey(P,z)&&(!isTable(P[z])||P[z][_declared]))throw this.error(new TomlError("Can't redefine existing key"));P=P[z]=P[z]||Table()}if(hasKey(P,O))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(A.value)||isFloat(A.value)?P[O]=A.value.valueOf():P[O]=A.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===E.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}return _}return tomlParser.exports}var parsePrettyError,hasRequiredParsePrettyError;function requireParsePrettyError(){if(hasRequiredParsePrettyError)return parsePrettyError;hasRequiredParsePrettyError=1,parsePrettyError=E;function E(_,C){if(_.pos==null||_.line==null)return _;let A=_.message;if(A+=` at row ${_.line+1}, col ${_.col+1}, pos ${_.pos}:
`,C&&C.split){const P=C.split(/\n/),O=String(Math.min(P.length,_.line+3)).length;let z=" ";for(;z.length<O;)z+=" ";for(let I=Math.max(0,_.line-1);I<Math.min(P.length,_.line+2);++I){let B=String(I+1);if(B.length<O&&(B=" "+B),_.line===I){A+=B+"> "+P[I]+`
`,A+=z+"  ";for(let U=0;U<_.col;++U)A+=" ";A+=`^
`}else A+=B+": "+P[I]+`
`}}return _.message=A+`
`,_}return parsePrettyError}var parseString_1,hasRequiredParseString;function requireParseString(){if(hasRequiredParseString)return parseString_1;hasRequiredParseString=1,parseString_1=C;const E=requireTomlParser(),_=requireParsePrettyError();function C(A){globalThis.Buffer&&globalThis.Buffer.isBuffer(A)&&(A=A.toString("utf8"));const P=new E;try{return P.parse(A),P.finish()}catch(O){throw _(O,A)}}return parseString_1}var parseAsync_1,hasRequiredParseAsync;function requireParseAsync(){if(hasRequiredParseAsync)return parseAsync_1;hasRequiredParseAsync=1,parseAsync_1=C;const E=requireTomlParser(),_=requireParsePrettyError();function C(A,P){P||(P={});const O=0,z=P.blocksize||40960,I=new E;return new Promise((U,G)=>{setImmediate(B,O,z,U,G)});function B(U,G,F,q){if(U>=A.length)try{return F(I.finish())}catch(Y){return q(_(Y,A))}try{I.parse(A.slice(U,U+G)),setImmediate(B,U+G,G,F,q)}catch(Y){q(_(Y,A))}}}return parseAsync_1}var parseStream_1,hasRequiredParseStream;function requireParseStream(){if(hasRequiredParseStream)return parseStream_1;hasRequiredParseStream=1,parseStream_1=C;const E=require$$0,_=requireTomlParser();function C(O){return O?A(O):P()}function A(O){const z=new _;return O.setEncoding("utf8"),new Promise((I,B)=>{let U,G=!1,F=!1;function q(){if(G=!0,!U)try{I(z.finish())}catch(Q){B(Q)}}function Y(Q){F=!0,B(Q)}O.once("end",q),O.once("error",Y),W();function W(){U=!0;let Q;for(;(Q=O.read())!==null;)try{z.parse(Q)}catch(J){return Y(J)}if(U=!1,G)return q();F||O.once("readable",W)}})}function P(){const O=new _;return new E.Transform({objectMode:!0,transform(z,I,B){try{O.parse(z.toString(I))}catch(U){this.emit("error",U)}B()},flush(z){try{this.push(O.finish())}catch(I){this.emit("error",I)}z()}})}return parseStream_1}var hasRequiredParse;function requireParse(){return hasRequiredParse||(hasRequiredParse=1,parse$1.exports=requireParseString(),parse$1.exports.async=requireParseAsync(),parse$1.exports.stream=requireParseStream(),parse$1.exports.prettyError=requireParsePrettyError()),parse$1.exports}var stringify={exports:{}},hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify.exports;hasRequiredStringify=1,stringify.exports=E,stringify.exports.value=J;function E(he){if(he===null)throw _("null");if(he===void 0)throw _("undefined");if(typeof he!="object")throw _(typeof he);if(typeof he.toJSON=="function"&&(he=he.toJSON()),he==null)return null;const Se=B(he);if(Se!=="table")throw _(Se);return z("","",he)}function _(he){return new Error("Can only stringify objects, not "+he)}function C(){return new Error("Array values can't have mixed types")}function A(he){return Object.keys(he).filter(Se=>I(he[Se]))}function P(he){return Object.keys(he).filter(Se=>!I(he[Se]))}function O(he){let Se=Array.isArray(he)?[]:Object.prototype.hasOwnProperty.call(he,"__proto__")?{["__proto__"]:void 0}:{};for(let Pe of Object.keys(he))he[Pe]&&typeof he[Pe].toJSON=="function"&&!("toISOString"in he[Pe])?Se[Pe]=he[Pe].toJSON():Se[Pe]=he[Pe];return Se}function z(he,Se,Pe){Pe=O(Pe);var oe,de;oe=A(Pe),de=P(Pe);var ye=[],we=Se||"";oe.forEach(ce=>{var be=B(Pe[ce]);be!=="undefined"&&be!=="null"&&ye.push(we+U(ce)+" = "+Q(Pe[ce],!0))}),ye.length>0&&ye.push("");var ze=he&&oe.length>0?Se+"  ":"";return de.forEach(ce=>{ye.push(ue(he,ze,ce,Pe[ce]))}),ye.join(`
`)}function I(he){switch(B(he)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return he.length===0||B(he[0])!=="table";case"table":return Object.keys(he).length===0;default:return!1}}function B(he){return he===void 0?"undefined":he===null?"null":typeof he=="bigint"||Number.isInteger(he)&&!Object.is(he,-0)?"integer":typeof he=="number"?"float":typeof he=="boolean"?"boolean":typeof he=="string"?"string":"toISOString"in he?isNaN(he)?"undefined":"datetime":Array.isArray(he)?"array":"table"}function U(he){var Se=String(he);return/^[-A-Za-z0-9_]+$/.test(Se)?Se:G(Se)}function G(he){return'"'+Y(he).replace(/"/g,'\\"')+'"'}function F(he){return"'"+he+"'"}function q(he,Se){for(;Se.length<he;)Se="0"+Se;return Se}function Y(he){return he.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,Se=>"\\u"+q(4,Se.codePointAt(0).toString(16)))}function W(he){let Se=he.split(/\n/).map(Pe=>Y(Pe).replace(/"(?="")/g,'\\"')).join(`
`);return Se.slice(-1)==='"'&&(Se+=`\\
`),`"""
`+Se+'"""'}function Q(he,Se){let Pe=B(he);return Pe==="string"&&(Se&&/\n/.test(he)?Pe="string-multiline":!/[\b\t\n\f\r']/.test(he)&&/"/.test(he)&&(Pe="string-literal")),J(he,Pe)}function J(he,Se){switch(Se||(Se=B(he)),Se){case"string-multiline":return W(he);case"string":return G(he);case"string-literal":return F(he);case"integer":return ee(he);case"float":return ne(he);case"boolean":return se(he);case"datetime":return ie(he);case"array":return te(he.filter(Pe=>B(Pe)!=="null"&&B(Pe)!=="undefined"&&B(Pe)!=="nan"));case"table":return ae(he);default:throw _(Se)}}function ee(he){return String(he).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function ne(he){if(he===1/0)return"inf";if(he===-1/0)return"-inf";if(Object.is(he,NaN))return"nan";if(Object.is(he,-0))return"-0.0";var Se=String(he).split("."),Pe=Se[0],oe=Se[1]||0;return ee(Pe)+"."+oe}function se(he){return String(he)}function ie(he){return he.toISOString()}function fe(he){return he==="float"||he==="integer"}function me(he){var Se=B(he[0]);return he.every(Pe=>B(Pe)===Se)?Se:he.every(Pe=>fe(B(Pe)))?"float":"mixed"}function le(he){const Se=me(he);if(Se==="mixed")throw C();return Se}function te(he){he=O(he);const Se=le(he);var Pe="[",oe=he.map(de=>J(de,Se));return oe.join(", ").length>60||/\n/.test(oe)?Pe+=`
  `+oe.join(`,
  `)+`
`:Pe+=" "+oe.join(", ")+(oe.length>0?" ":""),Pe+"]"}function ae(he){he=O(he);var Se=[];return Object.keys(he).forEach(Pe=>{Se.push(U(Pe)+" = "+Q(he[Pe],!1))}),"{ "+Se.join(", ")+(Se.length>0?" ":"")+"}"}function ue(he,Se,Pe,oe){var de=B(oe);if(de==="array")return xe(he,Se,Pe,oe);if(de==="table")return Ae(he,Se,Pe,oe);throw _(de)}function xe(he,Se,Pe,oe){oe=O(oe),le(oe);var de=B(oe[0]);if(de!=="table")throw _(de);var ye=he+U(Pe),we="";return oe.forEach(ze=>{we.length>0&&(we+=`
`),we+=Se+"[["+ye+`]]
`,we+=z(ye+".",Se,ze)}),we}function Ae(he,Se,Pe,oe){var de=he+U(Pe),ye="";return A(oe).length>0&&(ye+=Se+"["+de+`]
`),ye+z(de+".",Se,oe)}return stringify.exports}var hasRequiredToml;function requireToml(){return hasRequiredToml||(hasRequiredToml=1,toml.parse=requireParse(),toml.stringify=requireStringify()),toml}var tomlExports=requireToml();const TOML=getDefaultExportFromCjs(tomlExports);function parseToml(E){return TOML.parse(E)}function parseTomlWithDefaults(E){const _=parseToml(E);return mergeWithDefaults(_)}function toToml(E){const _=JSON.parse(JSON.stringify(E,(C,A)=>A===1/0?1e308:A===-1/0?-1e308:A));return TOML.stringify(_)}function createCell(E,_,C,A,P,O){const z=E.general.h_init,I=E.general.curvature,B=basalCurve(A,I),U=basalNormal(A,I),G=B.add(U.scale(z)),F=C.random(P.lifespan.min,P.lifespan.max),q=_.cells.length>0?Math.max(..._.cells.map(Y=>Y.id))+1:0;if(O===void 0){const Y=_.t-C.random(0,F);let W=C.random(P.events.time_A.min,P.events.time_A.max),Q=C.random(P.events.time_B.min,P.events.time_B.max),J=C.random(P.events.time_S.min,P.events.time_S.max);const ee=C.random()<=P.run?Q:1/0;return P.hetero&&(C.random()>.7&&(W=1/0),C.random()>.7&&(Q=1/0),C.random()>.7&&(J=1/0)),{id:q,typeIndex:P.name,pos:A.toObject(),A:G.toObject(),B:B.toObject(),R_soft:P.R_soft,R_hard:P.R_hard,eta_A:z/2,eta_B:z/2,has_A:!0,has_B:!0,phase:CellPhase.G1,birth_time:Y,division_time:Y+F,is_running:!1,running_mode:P.running_mode,has_inm:C.random()<=P.INM,time_A:W,time_B:Q,time_S:J,time_P:ee,stiffness_apical_apical:P.stiffness_apical_apical,stiffness_straightness:P.stiffness_straightness,stiffness_nuclei_apical:P.stiffness_nuclei_apical,stiffness_nuclei_basal:P.stiffness_nuclei_basal}}else return{id:q,typeIndex:P.name,pos:A.toObject(),A:{...O.A},B:{...O.B},R_soft:P.R_soft,R_hard:P.R_hard,eta_A:O.eta_A,eta_B:O.eta_B,has_A:O.has_A,has_B:O.has_B,phase:CellPhase.G1,birth_time:_.t,division_time:_.t+F,is_running:O.is_running,running_mode:O.running_mode,has_inm:O.has_inm,time_A:O.time_A,time_B:O.time_B,time_S:O.time_S,time_P:O.time_P,stiffness_apical_apical:P.stiffness_apical_apical,stiffness_straightness:O.stiffness_straightness,stiffness_nuclei_apical:O.stiffness_nuclei_apical,stiffness_nuclei_basal:O.stiffness_nuclei_basal}}function getCellType(E,_){return E.cell_types[_.typeIndex]||E.cell_types.control}function updateCellPhase(E,_,C){const A=E.division_time,P=A-_.dur_G2-_.dur_mitosis,O=A-_.dur_mitosis;C<P?E.phase=CellPhase.G1:C<O?E.phase=CellPhase.G2:C<A?E.phase=CellPhase.Mitosis:E.phase=CellPhase.Division}function zeroForces(){return{f:Vector2.zero(),fA:Vector2.zero(),fB:Vector2.zero()}}function calcRepulsionForces(E,_,C){const A=E.cells,P=A.length;for(let O=0;O<P;O++){const z=A[O],I=getCellType(_,z),B=Vector2.from(z.pos);for(let U=0;U<O;U++){const G=A[U];if(Math.abs(z.pos.x-G.pos.x)>=2)continue;const F=getCellType(_,G),Y=Vector2.from(G.pos).sub(B),W=Y.mag(),Q=z.R_soft+G.R_soft,J=I.stiffness_repulsion+F.stiffness_repulsion;if(W<Q&&W>Q/20){const ee=-J*(Q-W)/(W*Q*Q),ne=Y.scale(ee);C[O].f=C[O].f.add(ne),C[U].f=C[U].f.sub(ne)}}}}function calcApicalNucleiForces(E,_,C){const A=E.cells;for(let P=0;P<A.length;P++){const O=A[P],z=Vector2.from(O.pos),I=Vector2.from(O.A),B=z.sub(I),U=B.mag();if(U>0){const G=O.eta_A+O.R_soft,q=2*O.stiffness_nuclei_apical*(U-G)/(U*G*G),Y=B.scale(q);C[P].f=C[P].f.sub(Y),C[P].fA=C[P].fA.add(Y)}}}function calcBasalNucleiForces(E,_,C){const A=E.cells;for(let P=0;P<A.length;P++){const O=A[P],z=Vector2.from(O.pos),I=Vector2.from(O.B),B=z.sub(I),U=B.mag();if(U>0){const G=O.eta_B+O.R_soft,q=2*O.stiffness_nuclei_basal*(U-G)/(U*G*G),Y=B.scale(q);C[P].f=C[P].f.sub(Y),C[P].fB=C[P].fB.add(Y)}}}function calcStraightnessForces(E,_,C){const A=E.cells;for(let P=0;P<A.length;P++){const O=A[P],z=Vector2.from(O.pos),I=Vector2.from(O.A),B=Vector2.from(O.B),U=z.sub(I),G=z.sub(B),F=U.mag(),q=G.mag(),Y=U.dot(G);if(Y!==0&&F>0&&q>0){const W=O.stiffness_straightness/(F*q),Q=G.scale(-1).add(U.scale(Y/(F*F))).scale(W),J=U.scale(-1).add(G.scale(Y/(q*q))).scale(W);C[P].fA=C[P].fA.sub(Q),C[P].f=C[P].f.add(Q),C[P].f=C[P].f.add(J),C[P].fB=C[P].fB.sub(J)}}}function calcApicalJunctionForces(E,_,C){const A=E.cells,P=E.ap_links;for(const O of P){const z=A[O.l],I=A[O.r],B=Vector2.from(z.A),U=Vector2.from(I.A),G=B.sub(U),F=G.mag();if(F>1e-6){const q=.5*(z.stiffness_apical_apical+I.stiffness_apical_apical),Y=G.scale(.25*q*(F-O.rl)/F);C[O.l].fA=C[O.l].fA.sub(Y),C[O.r].fA=C[O.r].fA.add(Y)}}}function calcAllForces(E,_){const C=E.cells.map(()=>zeroForces());return calcRepulsionForces(E,_,C),calcApicalNucleiForces(E,_,C),calcBasalNucleiForces(E,_,C),calcStraightnessForces(E,_,C),calcApicalJunctionForces(E,_,C),C}function projectHardSphereConstraints(E,_){const C=E.cells,A=C.length;for(let P=0;P<A;P++){const O=C[P];for(let z=0;z<P;z++){const I=C[z];if(Math.abs(O.pos.x-I.pos.x)>=1.5)continue;const B=O.R_hard+I.R_hard,U=Vector2.from(O.pos),G=Vector2.from(I.pos),F=U.dist(G)-B;if(F<0&&F!==-B){const Y=U.sub(G).scale(.5*F/(F+B));O.pos.x-=Y.x,O.pos.y-=Y.y,I.pos.x+=Y.x,I.pos.y+=Y.y}}}}function projectBasalOrderingConstraints(E,_){const C=E.cells,A=E.ba_links;for(const P of A){const O=C[P.l],z=C[P.r],I=z.B.x-O.B.x;I<0&&(O.B.x+=I/2,z.B.x-=I/2)}}function projectMaxBasalDistanceConstraints(E,_){const C=E.cells,A=E.ba_links,P=_.cell_prop.max_basal_junction_dist;for(const O of A){const z=C[O.l],I=C[O.r],B=I.B.x-z.B.x;if(B>P){const U=B-P;z.B.x+=U/2,I.B.x-=U/2}}}function projectBasalCurveConstraints(E,_){const C=E.cells,A=_.general.curvature;for(const P of C){const O=Vector2.from(P.B),z=basalCurve(O,A);P.B.x=z.x,P.B.y=z.y}}function applyAllConstraints(E,_){projectHardSphereConstraints(E),projectBasalOrderingConstraints(E),projectMaxBasalDistanceConstraints(E,_),projectBasalCurveConstraints(E,_)}function processLoseApicalAdhesion(E,_){const C=E.cells[_];C.has_A=!1,C.stiffness_nuclei_apical*=.1;const A=[];let P={l:0,r:0,rl:0};for(let O=0;O<E.ap_links.length;O++){const z=E.ap_links[O];z.l===_&&(A.push(O),P.r=z.r),z.r===_&&(A.push(O),P.l=z.l)}if(A.length===1)E.ap_links.splice(A[0],1);else if(A.length===2){A.sort((I,B)=>B-I),E.ap_links.splice(A[0],1),E.ap_links.splice(A[1],1);const O=E.cells[P.l],z=E.cells[P.r];P.rl=Vector2.from(O.A).dist(Vector2.from(z.A)),E.ap_links.push(P)}}function processLoseBasalAdhesion(E,_){const C=E.cells[_];C.has_B=!1,C.stiffness_nuclei_basal*=.1;const A=[];let P={l:0,r:0};for(let O=0;O<E.ba_links.length;O++){const z=E.ba_links[O];z.l===_&&(A.push(O),P.r=z.r),z.r===_&&(A.push(O),P.l=z.l)}A.length===1?E.ba_links.splice(A[0],1):A.length===2&&(A.sort((O,z)=>z-O),E.ba_links.splice(A[0],1),E.ba_links.splice(A[1],1),E.ba_links.push(P))}function processLoseStraightness(E,_){const C=E.cells[_];C.stiffness_straightness=1}function processStartRunning(E,_){const C=E.cells[_];C.running_mode=3}function updateRunningState(E){E.is_running=!E.has_B&&E.B.y>-2&&(E.running_mode>=3||E.B.y<0&&E.running_mode>=1)}function processEMTEvents(E,_,C){const A=E.t;for(let P=0;P<E.cells.length;P++){const O=E.cells[P];A<=O.time_A&&A+C>O.time_A&&processLoseApicalAdhesion(E,P),A<=O.time_B&&A+C>O.time_B&&processLoseBasalAdhesion(E,P),A<=O.time_S&&A+C>O.time_S&&processLoseStraightness(E,P),(O.time_P>O.time_B&&A<=O.time_P&&A+C>O.time_P||O.time_P<=O.time_B&&A<=O.time_B&&A+C>O.time_B)&&processStartRunning(E,P),updateRunningState(O)}}function processCellDivisions(E,_,C){let A=0;for(let P=0;P<E.cells.length;P++){const O=E.cells[P];if(O.phase!==CellPhase.Division)continue;const z=getCellType(_,O);if(z.name==="emt"){const I=createCell(_,E,C,Vector2.from(O.pos),z,O);I.id=O.id,E.cells[P]=I}else if(C.random()<_.general.p_div_out||E.cells.length>=_.general.N_max){const B=createCell(_,E,C,Vector2.from(O.pos),z,O);B.id=O.id,E.cells[P]=B}else{A++;const B=createCell(_,E,C,Vector2.from(O.pos),z,O);B.id=O.id,E.cells[P]=B;const U=createCell(_,E,C,Vector2.from(O.pos),z,B),G=.05*B.R_soft;B.pos.x-=G,U.pos.x+=G,B.A.x-=G,U.A.x+=G,B.B.x-=G,U.B.x+=G;const F=E.cells.length;E.cells.push(U),updateApicalLinksAfterDivision(E,_,P,F),updateBasalLinksAfterDivision(E,_,P,F)}}return A}function updateApicalLinksAfterDivision(E,_,C,A){for(const P of E.ap_links)P.l===C&&(P.l=A);E.ap_links.push({l:C,r:A,rl:_.cell_prop.apical_junction_init})}function updateBasalLinksAfterDivision(E,_,C,A){for(const P of E.ba_links)P.l===C&&(P.l=A);E.ba_links.push({l:C,r:A})}function updateCytoskeleton(E,_,C){for(const A of E.cells){const P=getCellType(_,A),O=Vector2.from(A.pos),z=Vector2.from(A.A),I=Vector2.from(A.B),B=O.dist(z),U=O.dist(I);let G=0,F=0;switch(A.phase+(A.has_inm?0:10)){case CellPhase.G2:case CellPhase.Mitosis:const W=z.dist(I);G=0,F=Math.max(0,W-2*A.R_soft);break;default:G=Math.max(0,B-A.R_soft),F=Math.max(0,U-A.R_soft)}A.phase===CellPhase.G2&&(A.stiffness_apical_apical=P.stiffness_apical_apical_div),A.phase===CellPhase.Mitosis&&(A.R_hard=P.R_hard_div),A.has_A||(G=0),A.has_B||(F=0);const Y=Math.exp(-C*P.k_cytos);if(A.eta_A=Y*(A.eta_A-G)+G,A.has_B?A.eta_B=Y*(A.eta_B-F)+F:A.running_mode>=2&&A.B.y>0?A.eta_B=Vector2.from(A.B).dist(O)-A.R_soft:A.eta_B=Y*(A.eta_B-F)+F,!A.is_running||A.has_B){const W=P.max_cytoskeleton_length,Q=A.eta_A+A.eta_B-W;if(W>0&&Q>1){const J=A.eta_A+A.eta_B,ee=A.eta_A*W/J,ne=A.eta_B*W/J;A.eta_A=Y*(A.eta_A-ee)+ee,A.eta_B=Y*(A.eta_B-ne)+ne}}}}function updateApicalJunctions(E,_,C){for(const A of E.ap_links){const P=E.cells[A.l],O=E.cells[A.r],z=getCellType(_,P),I=getCellType(_,O),B=.5*z.k_apical_junction+.5*I.k_apical_junction;A.rl=A.rl*Math.exp(-C*B)}}function integrateForces(E,_,C,A,P){const O=_.general.mu,z=_.cell_prop.diffusion,I=Math.sqrt(P);for(let B=0;B<E.cells.length;B++){const U=E.cells[B],G=getCellType(_,U),F=C[B];if(U.pos.x+=I*z*A.gaussian(),U.pos.y+=I*z*A.gaussian(),U.pos.x+=P*F.f.x/O,U.pos.y+=P*F.f.y/O,U.A.x+=P*F.fA.x/O,U.A.y+=P*F.fA.y/O,U.is_running){const q=Vector2.from(U.B),Y=Vector2.from(U.pos);if(q.dist(Y)<5){const W=q.sub(Y).normalize();U.B.x+=P*W.x*G.running_speed,U.B.y+=P*W.y*G.running_speed}}else U.B.x+=P*F.fB.x/O,U.B.y+=P*F.fB.y/O,U.has_B||(U.B.y+=P*F.fB.y/O)}}function performTimestep(E,_,C){const A=_.general,P=A.dt;for(const I of E.cells){const B=getCellType(_,I);updateCellPhase(I,B,E.t)}const O=processCellDivisions(E,_,C);processEMTEvents(E,_,P),updateCytoskeleton(E,_,P),updateApicalJunctions(E,_,P);const z=P/A.n_substeps;for(let I=0;I<A.n_substeps;I++){E.t+=z;const B=calcAllForces(E,_);integrateForces(E,_,B,C,z),applyAllConstraints(E,_)}return E.step_count++,O}class SimulationEngine{state;params;rng;snapshots=[];totalDivisions=0;onSnapshot;snapshotInterval;constructor(_){this.params=_.params,this.rng=new SeededRandom(_.params.general.random_seed),this.state=createInitialState(),this.onSnapshot=_.onSnapshot,this.snapshotInterval=_.snapshotInterval??1}init(){this.state=createInitialState(),this.rng=new SeededRandom(this.params.general.random_seed),this.snapshots=[],this.totalDivisions=0;const _=this.params.general,C=_.N_init,A=_.w_init,P=_.h_init,O=Math.round((C-_.N_emt)/2),z=O+_.N_emt,I=[];for(let B=0;B<C;B++){const U=this.rng.random(-A/2,A/2),G=this.rng.random(P/3,2*P/3);let F=basalCurveParam(U,_.curvature);const q=basalNormal(F,_.curvature);F=F.add(q.scale(G)),I.push(F)}I.sort((B,U)=>B.x-U.x);for(let B=0;B<C;B++){const U=B>=O&&B<z?this.params.cell_types.emt:this.params.cell_types.control,G=createCell(this.params,this.state,this.rng,I[B],U);this.state.cells.push(G)}for(let B=0;B<this.state.cells.length-1;B++)this.state.ap_links.push({l:B,r:B+1,rl:this.params.cell_prop.apical_junction_init}),this.state.ba_links.push({l:B,r:B+1});this.recordSnapshot()}step(){const _=performTimestep(this.state,this.params,this.rng);this.totalDivisions+=_,this.state.step_count%this.snapshotInterval===0&&this.recordSnapshot()}isComplete(){return this.state.t>=this.params.general.t_end}getState(){return this.state}getParams(){return this.params}runToEnd(){for(;!this.isComplete();)this.step();return this.getOutput()}getOutput(){const _=this.state.cells.filter(C=>C.typeIndex==="emt"&&!C.has_A&&!C.has_B).length;return{params:this.params,snapshots:this.snapshots,final_cell_count:this.state.cells.length,total_divisions:this.totalDivisions,emt_events_occurred:_}}reset(){this.init()}resetWithParams(_){this.params=_,this.init()}getTime(){return this.state.t}getStepCount(){return this.state.step_count}recordSnapshot(){const _=this.createSnapshot();this.snapshots.push(_),this.onSnapshot&&this.onSnapshot(_)}createSnapshot(){const _=this.state.cells.map(A=>({id:A.id,type_name:A.typeIndex,pos_x:A.pos.x,pos_y:A.pos.y,A_x:A.A.x,A_y:A.A.y,B_x:A.B.x,B_y:A.B.y,phase:A.phase,has_A:A.has_A,has_B:A.has_B,is_running:A.is_running,age:this.state.t-A.birth_time})),C=this.state.cells.filter(A=>A.typeIndex==="emt").length;return{t:this.state.t,step:this.state.step_count,cells:_,cell_count:_.length,emt_count:C}}}function getTimeSamples(E){const _=[];for(let C=E.start;C<=E.end;C+=E.step)_.push(C);return _}function generateParameterConfigs(E,_,C){return E.length===0?[{}]:_==="grid"?generateGridConfigs(E):generateRandomConfigs(E,C??10)}function generateGridConfigs(E){const _=E.map(P=>{const O=[],z=P.steps>1?(P.max-P.min)/(P.steps-1):0;for(let I=0;I<P.steps;I++)O.push(P.min+I*z);return{path:P.path,values:O}}),C=[];function A(P,O){if(P===_.length){C.push({...O});return}const{path:z,values:I}=_[P];for(const B of I)O[z]=B,A(P+1,O)}return A(0,{}),C}function generateRandomConfigs(E,_){const C=[];for(let A=0;A<_;A++){const P={};for(const O of E)P[O.path]=O.min+Math.random()*(O.max-O.min);C.push(P)}return C}function controlCells(E){return E.filter(_=>_.type==="control")}function emtCells(E){return E.filter(_=>_.type==="emt")}function mean(E){return E.length===0?0:E.reduce((_,C)=>_+C,0)/E.length}function parseNeighbors(E){return!E||E.trim()===""?[]:E.split(",").map(_=>parseInt(_.trim(),10)).filter(_=>!isNaN(_))}const AVAILABLE_STATISTICS=[{id:"n_cells_total",label:"Cell Count (total)",description:"Total number of cells",compute:E=>E.cells.length},{id:"n_cells_control",label:"Cell Count (control)",description:"Number of control cells",compute:E=>controlCells(E.cells).length},{id:"n_cells_emt",label:"Cell Count (EMT)",description:"Number of EMT cells",compute:E=>emtCells(E.cells).length},{id:"avg_y_all",label:"Avg Y Position (all)",description:"Average Y position of all cell nuclei",compute:E=>mean(E.cells.map(_=>_.pos_y))},{id:"avg_y_control",label:"Avg Y Position (control)",description:"Average Y position of control cell nuclei",compute:E=>mean(controlCells(E.cells).map(_=>_.pos_y))},{id:"avg_y_emt",label:"Avg Y Position (EMT)",description:"Average Y position of EMT cell nuclei",compute:E=>mean(emtCells(E.cells).map(_=>_.pos_y))},{id:"avg_x_all",label:"Avg X Position (all)",description:"Average X position of all cell nuclei",compute:E=>mean(E.cells.map(_=>_.pos_x))},{id:"avg_x_emt",label:"Avg X Position (EMT)",description:"Average X position of EMT cell nuclei",compute:E=>mean(emtCells(E.cells).map(_=>_.pos_x))},{id:"emt_with_apical",label:"EMT with Apical Adhesion",description:"Number of EMT cells that still have apical adhesion",compute:E=>emtCells(E.cells).filter(_=>_.has_A).length},{id:"emt_with_basal",label:"EMT with Basal Adhesion",description:"Number of EMT cells that still have basal adhesion",compute:E=>emtCells(E.cells).filter(_=>_.has_B).length},{id:"emt_escaped",label:"EMT Escaped",description:"Number of EMT cells that lost both apical and basal adhesion",compute:E=>emtCells(E.cells).filter(_=>!_.has_A&&!_.has_B).length},{id:"emt_fully_attached",label:"EMT Fully Attached",description:"Number of EMT cells with both apical and basal adhesion",compute:E=>emtCells(E.cells).filter(_=>_.has_A&&_.has_B).length},{id:"avg_ab_distance_all",label:"Avg Apical-Basal Distance (all)",description:"Average distance between apical and basal points",compute:E=>mean(E.cells.map(_=>Math.sqrt(Math.pow(_.A_x-_.B_x,2)+Math.pow(_.A_y-_.B_y,2))))},{id:"avg_ab_distance_emt",label:"Avg Apical-Basal Distance (EMT)",description:"Average apical-basal distance for EMT cells",compute:E=>mean(emtCells(E.cells).map(_=>Math.sqrt(Math.pow(_.A_x-_.B_x,2)+Math.pow(_.A_y-_.B_y,2))))},{id:"tissue_width",label:"Tissue Width",description:"Max X - Min X of all cell positions",compute:E=>{if(E.cells.length===0)return 0;const _=E.cells.map(C=>C.pos_x);return Math.max(..._)-Math.min(..._)}},{id:"tissue_height",label:"Tissue Height",description:"Max Y - Min Y of all cell positions",compute:E=>{if(E.cells.length===0)return 0;const _=E.cells.map(C=>C.pos_y);return Math.max(..._)-Math.min(..._)}},{id:"avg_apical_neighbors",label:"Avg Apical Neighbors",description:"Average number of apical neighbors per cell",compute:E=>mean(E.cells.map(_=>parseNeighbors(_.apical_neighbors).length))},{id:"avg_basal_neighbors",label:"Avg Basal Neighbors",description:"Average number of basal neighbors per cell",compute:E=>mean(E.cells.map(_=>parseNeighbors(_.basal_neighbors).length))},{id:"avg_age_all",label:"Avg Cell Age (all)",description:"Average age of all cells in hours",compute:E=>mean(E.cells.map(_=>_.age))},{id:"avg_age_emt",label:"Avg Cell Age (EMT)",description:"Average age of EMT cells in hours",compute:E=>mean(emtCells(E.cells).map(_=>_.age))},{id:"cells_in_g1",label:"Cells in G1 Phase",description:"Number of cells in G1 (growth) phase",compute:E=>E.cells.filter(_=>_.phase===0).length},{id:"cells_in_g2",label:"Cells in G2 Phase",description:"Number of cells in G2 (pre-mitosis) phase",compute:E=>E.cells.filter(_=>_.phase===1).length},{id:"cells_in_mitosis",label:"Cells in Mitosis",description:"Number of cells in mitosis phase",compute:E=>E.cells.filter(_=>_.phase===2).length}];function getStatistic(E){return AVAILABLE_STATISTICS.find(_=>_.id===E)}function computeStatistics(E,_){const C={};for(const A of _){const P=getStatistic(A);P&&(C[A]=P.compute(E))}return C}var papaparse_min$1={exports:{}};var papaparse_min=papaparse_min$1.exports,hasRequiredPapaparse_min;function requirePapaparse_min(){return hasRequiredPapaparse_min||(hasRequiredPapaparse_min=1,(function(E,_){((C,A)=>{E.exports=A()})(papaparse_min,function C(){var A=typeof self<"u"?self:typeof window<"u"?window:A!==void 0?A:{},P,O=!A.document&&!!A.postMessage,z=A.IS_PAPA_WORKER||!1,I={},B=0,U={};function G(te){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(ae){var ue=fe(ae);ue.chunkSize=parseInt(ue.chunkSize),ae.step||ae.chunk||(ue.chunkSize=null),this._handle=new Q(ue),(this._handle.streamer=this)._config=ue}).call(this,te),this.parseChunk=function(ae,ue){var xe=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<xe){let he=this._config.newline;he||(Ae=this._config.quoteChar||'"',he=this._handle.guessLineEndings(ae,Ae)),ae=[...ae.split(he).slice(xe)].join(he)}this.isFirstChunk&&le(this._config.beforeFirstChunk)&&(Ae=this._config.beforeFirstChunk(ae))!==void 0&&(ae=Ae),this.isFirstChunk=!1,this._halted=!1;var xe=this._partialLine+ae,Ae=(this._partialLine="",this._handle.parse(xe,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(ae=Ae.meta.cursor,xe=(this._finished||(this._partialLine=xe.substring(ae-this._baseIndex),this._baseIndex=ae),Ae&&Ae.data&&(this._rowCount+=Ae.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),z)A.postMessage({results:Ae,workerId:U.WORKER_ID,finished:xe});else if(le(this._config.chunk)&&!ue){if(this._config.chunk(Ae,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=Ae=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Ae.data),this._completeResults.errors=this._completeResults.errors.concat(Ae.errors),this._completeResults.meta=Ae.meta),this._completed||!xe||!le(this._config.complete)||Ae&&Ae.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),xe||Ae&&Ae.meta.paused||this._nextChunk(),Ae}this._halted=!0},this._sendError=function(ae){le(this._config.error)?this._config.error(ae):z&&this._config.error&&A.postMessage({workerId:U.WORKER_ID,error:ae,finished:!1})}}function F(te){var ae;(te=te||{}).chunkSize||(te.chunkSize=U.RemoteChunkSize),G.call(this,te),this._nextChunk=O?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(ue){this._input=ue,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(ae=new XMLHttpRequest,this._config.withCredentials&&(ae.withCredentials=this._config.withCredentials),O||(ae.onload=me(this._chunkLoaded,this),ae.onerror=me(this._chunkError,this)),ae.open(this._config.downloadRequestBody?"POST":"GET",this._input,!O),this._config.downloadRequestHeaders){var ue,xe=this._config.downloadRequestHeaders;for(ue in xe)ae.setRequestHeader(ue,xe[ue])}var Ae;this._config.chunkSize&&(Ae=this._start+this._config.chunkSize-1,ae.setRequestHeader("Range","bytes="+this._start+"-"+Ae));try{ae.send(this._config.downloadRequestBody)}catch(he){this._chunkError(he.message)}O&&ae.status===0&&this._chunkError()}},this._chunkLoaded=function(){ae.readyState===4&&(ae.status<200||400<=ae.status?this._chunkError():(this._start+=this._config.chunkSize||ae.responseText.length,this._finished=!this._config.chunkSize||this._start>=(ue=>(ue=ue.getResponseHeader("Content-Range"))!==null?parseInt(ue.substring(ue.lastIndexOf("/")+1)):-1)(ae),this.parseChunk(ae.responseText)))},this._chunkError=function(ue){ue=ae.statusText||ue,this._sendError(new Error(ue))}}function q(te){(te=te||{}).chunkSize||(te.chunkSize=U.LocalChunkSize),G.call(this,te);var ae,ue,xe=typeof FileReader<"u";this.stream=function(Ae){this._input=Ae,ue=Ae.slice||Ae.webkitSlice||Ae.mozSlice,xe?((ae=new FileReader).onload=me(this._chunkLoaded,this),ae.onerror=me(this._chunkError,this)):ae=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Ae=this._input,he=(this._config.chunkSize&&(he=Math.min(this._start+this._config.chunkSize,this._input.size),Ae=ue.call(Ae,this._start,he)),ae.readAsText(Ae,this._config.encoding));xe||this._chunkLoaded({target:{result:he}})},this._chunkLoaded=function(Ae){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Ae.target.result)},this._chunkError=function(){this._sendError(ae.error)}}function Y(te){var ae;G.call(this,te=te||{}),this.stream=function(ue){return ae=ue,this._nextChunk()},this._nextChunk=function(){var ue,xe;if(!this._finished)return ue=this._config.chunkSize,ae=ue?(xe=ae.substring(0,ue),ae.substring(ue)):(xe=ae,""),this._finished=!ae,this.parseChunk(xe)}}function W(te){G.call(this,te=te||{});var ae=[],ue=!0,xe=!1;this.pause=function(){G.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){G.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Ae){this._input=Ae,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){xe&&ae.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),ae.length?this.parseChunk(ae.shift()):ue=!0},this._streamData=me(function(Ae){try{ae.push(typeof Ae=="string"?Ae:Ae.toString(this._config.encoding)),ue&&(ue=!1,this._checkIsFinished(),this.parseChunk(ae.shift()))}catch(he){this._streamError(he)}},this),this._streamError=me(function(Ae){this._streamCleanUp(),this._sendError(Ae)},this),this._streamEnd=me(function(){this._streamCleanUp(),xe=!0,this._streamData("")},this),this._streamCleanUp=me(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Q(te){var ae,ue,xe,Ae,he=Math.pow(2,53),Se=-he,Pe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,oe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,de=this,ye=0,we=0,ze=!1,ce=!1,be=[],ve={data:[],errors:[],meta:{}};function je(Ie){return te.skipEmptyLines==="greedy"?Ie.join("").trim()==="":Ie.length===1&&Ie[0].length===0}function $e(){if(ve&&xe&&(ke("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+U.DefaultDelimiter+"'"),xe=!1),te.skipEmptyLines&&(ve.data=ve.data.filter(function(De){return!je(De)})),Be()){let De=function(Ve,Ke){le(te.transformHeader)&&(Ve=te.transformHeader(Ve,Ke)),be.push(Ve)};if(ve)if(Array.isArray(ve.data[0])){for(var Ie=0;Be()&&Ie<ve.data.length;Ie++)ve.data[Ie].forEach(De);ve.data.splice(0,1)}else ve.data.forEach(De)}function Le(De,Ve){for(var Ke=te.header?{}:[],qe=0;qe<De.length;qe++){var Qe=qe,Xe=De[qe],Xe=((At,We)=>(ft=>(te.dynamicTypingFunction&&te.dynamicTyping[ft]===void 0&&(te.dynamicTyping[ft]=te.dynamicTypingFunction(ft)),(te.dynamicTyping[ft]||te.dynamicTyping)===!0))(At)?We==="true"||We==="TRUE"||We!=="false"&&We!=="FALSE"&&((ft=>{if(Pe.test(ft)&&(ft=parseFloat(ft),Se<ft&&ft<he))return 1})(We)?parseFloat(We):oe.test(We)?new Date(We):We===""?null:We):We)(Qe=te.header?qe>=be.length?"__parsed_extra":be[qe]:Qe,Xe=te.transform?te.transform(Xe,Qe):Xe);Qe==="__parsed_extra"?(Ke[Qe]=Ke[Qe]||[],Ke[Qe].push(Xe)):Ke[Qe]=Xe}return te.header&&(qe>be.length?ke("FieldMismatch","TooManyFields","Too many fields: expected "+be.length+" fields but parsed "+qe,we+Ve):qe<be.length&&ke("FieldMismatch","TooFewFields","Too few fields: expected "+be.length+" fields but parsed "+qe,we+Ve)),Ke}var He;ve&&(te.header||te.dynamicTyping||te.transform)&&(He=1,!ve.data.length||Array.isArray(ve.data[0])?(ve.data=ve.data.map(Le),He=ve.data.length):ve.data=Le(ve.data,0),te.header&&ve.meta&&(ve.meta.fields=be),we+=He)}function Be(){return te.header&&be.length===0}function ke(Ie,Le,He,De){Ie={type:Ie,code:Le,message:He},De!==void 0&&(Ie.row=De),ve.errors.push(Ie)}le(te.step)&&(Ae=te.step,te.step=function(Ie){ve=Ie,Be()?$e():($e(),ve.data.length!==0&&(ye+=Ie.data.length,te.preview&&ye>te.preview?ue.abort():(ve.data=ve.data[0],Ae(ve,de))))}),this.parse=function(Ie,Le,He){var De=te.quoteChar||'"',De=(te.newline||(te.newline=this.guessLineEndings(Ie,De)),xe=!1,te.delimiter?le(te.delimiter)&&(te.delimiter=te.delimiter(Ie),ve.meta.delimiter=te.delimiter):((De=((Ve,Ke,qe,Qe,Xe)=>{var At,We,ft,sr;Xe=Xe||[",","	","|",";",U.RECORD_SEP,U.UNIT_SEP];for(var Sr=0;Sr<Xe.length;Sr++){for(var ir,bn=Xe[Sr],ct=0,ar=0,St=0,jt=(ft=void 0,new ee({comments:Qe,delimiter:bn,newline:Ke,preview:10}).parse(Ve)),Ut=0;Ut<jt.data.length;Ut++)qe&&je(jt.data[Ut])?St++:(ir=jt.data[Ut].length,ar+=ir,ft===void 0?ft=ir:0<ir&&(ct+=Math.abs(ir-ft),ft=ir));0<jt.data.length&&(ar/=jt.data.length-St),(We===void 0||ct<=We)&&(sr===void 0||sr<ar)&&1.99<ar&&(We=ct,At=bn,sr=ar)}return{successful:!!(te.delimiter=At),bestDelimiter:At}})(Ie,te.newline,te.skipEmptyLines,te.comments,te.delimitersToGuess)).successful?te.delimiter=De.bestDelimiter:(xe=!0,te.delimiter=U.DefaultDelimiter),ve.meta.delimiter=te.delimiter),fe(te));return te.preview&&te.header&&De.preview++,ae=Ie,ue=new ee(De),ve=ue.parse(ae,Le,He),$e(),ze?{meta:{paused:!0}}:ve||{meta:{paused:!1}}},this.paused=function(){return ze},this.pause=function(){ze=!0,ue.abort(),ae=le(te.chunk)?"":ae.substring(ue.getCharIndex())},this.resume=function(){de.streamer._halted?(ze=!1,de.streamer.parseChunk(ae,!0)):setTimeout(de.resume,3)},this.aborted=function(){return ce},this.abort=function(){ce=!0,ue.abort(),ve.meta.aborted=!0,le(te.complete)&&te.complete(ve),ae=""},this.guessLineEndings=function(Ve,De){Ve=Ve.substring(0,1048576);var De=new RegExp(J(De)+"([^]*?)"+J(De),"gm"),He=(Ve=Ve.replace(De,"")).split("\r"),De=Ve.split(`
`),Ve=1<De.length&&De[0].length<He[0].length;if(He.length===1||Ve)return`
`;for(var Ke=0,qe=0;qe<He.length;qe++)He[qe][0]===`
`&&Ke++;return Ke>=He.length/2?`\r
`:"\r"}}function J(te){return te.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ee(te){var ae=(te=te||{}).delimiter,ue=te.newline,xe=te.comments,Ae=te.step,he=te.preview,Se=te.fastMode,Pe=null,oe=!1,de=te.quoteChar==null?'"':te.quoteChar,ye=de;if(te.escapeChar!==void 0&&(ye=te.escapeChar),(typeof ae!="string"||-1<U.BAD_DELIMITERS.indexOf(ae))&&(ae=","),xe===ae)throw new Error("Comment character same as delimiter");xe===!0?xe="#":(typeof xe!="string"||-1<U.BAD_DELIMITERS.indexOf(xe))&&(xe=!1),ue!==`
`&&ue!=="\r"&&ue!==`\r
`&&(ue=`
`);var we=0,ze=!1;this.parse=function(ce,be,ve){if(typeof ce!="string")throw new Error("Input must be a string");var je=ce.length,$e=ae.length,Be=ue.length,ke=xe.length,Ie=le(Ae),Le=[],He=[],De=[],Ve=we=0;if(!ce)return ct();if(Se||Se!==!1&&ce.indexOf(de)===-1){for(var Ke=ce.split(ue),qe=0;qe<Ke.length;qe++){if(De=Ke[qe],we+=De.length,qe!==Ke.length-1)we+=ue.length;else if(ve)return ct();if(!xe||De.substring(0,ke)!==xe){if(Ie){if(Le=[],sr(De.split(ae)),ar(),ze)return ct()}else sr(De.split(ae));if(he&&he<=qe)return Le=Le.slice(0,he),ct(!0)}}return ct()}for(var Qe=ce.indexOf(ae,we),Xe=ce.indexOf(ue,we),At=new RegExp(J(ye)+J(de),"g"),We=ce.indexOf(de,we);;)if(ce[we]===de)for(We=we,we++;;){if((We=ce.indexOf(de,We+1))===-1)return ve||He.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Le.length,index:we}),ir();if(We===je-1)return ir(ce.substring(we,We).replace(At,de));if(de===ye&&ce[We+1]===ye)We++;else if(de===ye||We===0||ce[We-1]!==ye){Qe!==-1&&Qe<We+1&&(Qe=ce.indexOf(ae,We+1));var ft=Sr((Xe=Xe!==-1&&Xe<We+1?ce.indexOf(ue,We+1):Xe)===-1?Qe:Math.min(Qe,Xe));if(ce.substr(We+1+ft,$e)===ae){De.push(ce.substring(we,We).replace(At,de)),ce[we=We+1+ft+$e]!==de&&(We=ce.indexOf(de,we)),Qe=ce.indexOf(ae,we),Xe=ce.indexOf(ue,we);break}if(ft=Sr(Xe),ce.substring(We+1+ft,We+1+ft+Be)===ue){if(De.push(ce.substring(we,We).replace(At,de)),bn(We+1+ft+Be),Qe=ce.indexOf(ae,we),We=ce.indexOf(de,we),Ie&&(ar(),ze))return ct();if(he&&Le.length>=he)return ct(!0);break}He.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Le.length,index:we}),We++}}else if(xe&&De.length===0&&ce.substring(we,we+ke)===xe){if(Xe===-1)return ct();we=Xe+Be,Xe=ce.indexOf(ue,we),Qe=ce.indexOf(ae,we)}else if(Qe!==-1&&(Qe<Xe||Xe===-1))De.push(ce.substring(we,Qe)),we=Qe+$e,Qe=ce.indexOf(ae,we);else{if(Xe===-1)break;if(De.push(ce.substring(we,Xe)),bn(Xe+Be),Ie&&(ar(),ze))return ct();if(he&&Le.length>=he)return ct(!0)}return ir();function sr(St){Le.push(St),Ve=we}function Sr(St){var jt=0;return jt=St!==-1&&(St=ce.substring(We+1,St))&&St.trim()===""?St.length:jt}function ir(St){return ve||(St===void 0&&(St=ce.substring(we)),De.push(St),we=je,sr(De),Ie&&ar()),ct()}function bn(St){we=St,sr(De),De=[],Xe=ce.indexOf(ue,we)}function ct(St){if(te.header&&!be&&Le.length&&!oe){var jt=Le[0],Ut=Object.create(null),Cs=new Set(jt);let As=!1;for(let Zr=0;Zr<jt.length;Zr++){let or=jt[Zr];if(Ut[or=le(te.transformHeader)?te.transformHeader(or,Zr):or]){let yr,Lt=Ut[or];for(;yr=or+"_"+Lt,Lt++,Cs.has(yr););Cs.add(yr),jt[Zr]=yr,Ut[or]++,As=!0,(Pe=Pe===null?{}:Pe)[yr]=or}else Ut[or]=1,jt[Zr]=or;Cs.add(or)}As&&console.warn("Duplicate headers found and renamed."),oe=!0}return{data:Le,errors:He,meta:{delimiter:ae,linebreak:ue,aborted:ze,truncated:!!St,cursor:Ve+(be||0),renamedHeaders:Pe}}}function ar(){Ae(ct()),Le=[],He=[]}},this.abort=function(){ze=!0},this.getCharIndex=function(){return we}}function ne(te){var ae=te.data,ue=I[ae.workerId],xe=!1;if(ae.error)ue.userError(ae.error,ae.file);else if(ae.results&&ae.results.data){var Ae={abort:function(){xe=!0,se(ae.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ie,resume:ie};if(le(ue.userStep)){for(var he=0;he<ae.results.data.length&&(ue.userStep({data:ae.results.data[he],errors:ae.results.errors,meta:ae.results.meta},Ae),!xe);he++);delete ae.results}else le(ue.userChunk)&&(ue.userChunk(ae.results,Ae,ae.file),delete ae.results)}ae.finished&&!xe&&se(ae.workerId,ae.results)}function se(te,ae){var ue=I[te];le(ue.userComplete)&&ue.userComplete(ae),ue.terminate(),delete I[te]}function ie(){throw new Error("Not implemented.")}function fe(te){if(typeof te!="object"||te===null)return te;var ae,ue=Array.isArray(te)?[]:{};for(ae in te)ue[ae]=fe(te[ae]);return ue}function me(te,ae){return function(){te.apply(ae,arguments)}}function le(te){return typeof te=="function"}return U.parse=function(te,ae){var ue=(ae=ae||{}).dynamicTyping||!1;if(le(ue)&&(ae.dynamicTypingFunction=ue,ue={}),ae.dynamicTyping=ue,ae.transform=!!le(ae.transform)&&ae.transform,!ae.worker||!U.WORKERS_SUPPORTED)return ue=null,U.NODE_STREAM_INPUT,typeof te=="string"?(te=(xe=>xe.charCodeAt(0)!==65279?xe:xe.slice(1))(te),ue=new(ae.download?F:Y)(ae)):te.readable===!0&&le(te.read)&&le(te.on)?ue=new W(ae):(A.File&&te instanceof File||te instanceof Object)&&(ue=new q(ae)),ue.stream(te);(ue=(()=>{var xe;return!!U.WORKERS_SUPPORTED&&(xe=(()=>{var Ae=A.URL||A.webkitURL||null,he=C.toString();return U.BLOB_URL||(U.BLOB_URL=Ae.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",he,")();"],{type:"text/javascript"})))})(),(xe=new A.Worker(xe)).onmessage=ne,xe.id=B++,I[xe.id]=xe)})()).userStep=ae.step,ue.userChunk=ae.chunk,ue.userComplete=ae.complete,ue.userError=ae.error,ae.step=le(ae.step),ae.chunk=le(ae.chunk),ae.complete=le(ae.complete),ae.error=le(ae.error),delete ae.worker,ue.postMessage({input:te,config:ae,workerId:ue.id})},U.unparse=function(te,ae){var ue=!1,xe=!0,Ae=",",he=`\r
`,Se='"',Pe=Se+Se,oe=!1,de=null,ye=!1,we=((()=>{if(typeof ae=="object"){if(typeof ae.delimiter!="string"||U.BAD_DELIMITERS.filter(function(be){return ae.delimiter.indexOf(be)!==-1}).length||(Ae=ae.delimiter),typeof ae.quotes!="boolean"&&typeof ae.quotes!="function"&&!Array.isArray(ae.quotes)||(ue=ae.quotes),typeof ae.skipEmptyLines!="boolean"&&typeof ae.skipEmptyLines!="string"||(oe=ae.skipEmptyLines),typeof ae.newline=="string"&&(he=ae.newline),typeof ae.quoteChar=="string"&&(Se=ae.quoteChar),typeof ae.header=="boolean"&&(xe=ae.header),Array.isArray(ae.columns)){if(ae.columns.length===0)throw new Error("Option columns is empty");de=ae.columns}ae.escapeChar!==void 0&&(Pe=ae.escapeChar+Se),ae.escapeFormulae instanceof RegExp?ye=ae.escapeFormulae:typeof ae.escapeFormulae=="boolean"&&ae.escapeFormulae&&(ye=/^[=+\-@\t\r].*$/)}})(),new RegExp(J(Se),"g"));if(typeof te=="string"&&(te=JSON.parse(te)),Array.isArray(te)){if(!te.length||Array.isArray(te[0]))return ze(null,te,oe);if(typeof te[0]=="object")return ze(de||Object.keys(te[0]),te,oe)}else if(typeof te=="object")return typeof te.data=="string"&&(te.data=JSON.parse(te.data)),Array.isArray(te.data)&&(te.fields||(te.fields=te.meta&&te.meta.fields||de),te.fields||(te.fields=Array.isArray(te.data[0])?te.fields:typeof te.data[0]=="object"?Object.keys(te.data[0]):[]),Array.isArray(te.data[0])||typeof te.data[0]=="object"||(te.data=[te.data])),ze(te.fields||[],te.data||[],oe);throw new Error("Unable to serialize unrecognized input");function ze(be,ve,je){var $e="",Be=(typeof be=="string"&&(be=JSON.parse(be)),typeof ve=="string"&&(ve=JSON.parse(ve)),Array.isArray(be)&&0<be.length),ke=!Array.isArray(ve[0]);if(Be&&xe){for(var Ie=0;Ie<be.length;Ie++)0<Ie&&($e+=Ae),$e+=ce(be[Ie],Ie);0<ve.length&&($e+=he)}for(var Le=0;Le<ve.length;Le++){var He=(Be?be:ve[Le]).length,De=!1,Ve=Be?Object.keys(ve[Le]).length===0:ve[Le].length===0;if(je&&!Be&&(De=je==="greedy"?ve[Le].join("").trim()==="":ve[Le].length===1&&ve[Le][0].length===0),je==="greedy"&&Be){for(var Ke=[],qe=0;qe<He;qe++){var Qe=ke?be[qe]:qe;Ke.push(ve[Le][Qe])}De=Ke.join("").trim()===""}if(!De){for(var Xe=0;Xe<He;Xe++){0<Xe&&!Ve&&($e+=Ae);var At=Be&&ke?be[Xe]:Xe;$e+=ce(ve[Le][At],Xe)}Le<ve.length-1&&(!je||0<He&&!Ve)&&($e+=he)}}return $e}function ce(be,ve){var je,$e;return be==null?"":be.constructor===Date?JSON.stringify(be).slice(1,25):($e=!1,ye&&typeof be=="string"&&ye.test(be)&&(be="'"+be,$e=!0),je=be.toString().replace(we,Pe),($e=$e||ue===!0||typeof ue=="function"&&ue(be,ve)||Array.isArray(ue)&&ue[ve]||((Be,ke)=>{for(var Ie=0;Ie<ke.length;Ie++)if(-1<Be.indexOf(ke[Ie]))return!0;return!1})(je,U.BAD_DELIMITERS)||-1<je.indexOf(Ae)||je.charAt(0)===" "||je.charAt(je.length-1)===" ")?Se+je+Se:je)}},U.RECORD_SEP="",U.UNIT_SEP="",U.BYTE_ORDER_MARK="\uFEFF",U.BAD_DELIMITERS=["\r",`
`,'"',U.BYTE_ORDER_MARK],U.WORKERS_SUPPORTED=!O&&!!A.Worker,U.NODE_STREAM_INPUT=1,U.LocalChunkSize=10485760,U.RemoteChunkSize=5242880,U.DefaultDelimiter=",",U.Parser=ee,U.ParserHandle=Q,U.NetworkStreamer=F,U.FileStreamer=q,U.StringStreamer=Y,U.ReadableStreamStreamer=W,A.jQuery&&((P=A.jQuery).fn.parse=function(te){var ae=te.config||{},ue=[];return this.each(function(he){if(!(P(this).prop("tagName").toUpperCase()==="INPUT"&&P(this).attr("type").toLowerCase()==="file"&&A.FileReader)||!this.files||this.files.length===0)return!0;for(var Se=0;Se<this.files.length;Se++)ue.push({file:this.files[Se],inputElem:this,instanceConfig:P.extend({},ae)})}),xe(),this;function xe(){if(ue.length===0)le(te.complete)&&te.complete();else{var he,Se,Pe,oe,de=ue[0];if(le(te.before)){var ye=te.before(de.file,de.inputElem);if(typeof ye=="object"){if(ye.action==="abort")return he="AbortError",Se=de.file,Pe=de.inputElem,oe=ye.reason,void(le(te.error)&&te.error({name:he},Se,Pe,oe));if(ye.action==="skip")return void Ae();typeof ye.config=="object"&&(de.instanceConfig=P.extend(de.instanceConfig,ye.config))}else if(ye==="skip")return void Ae()}var we=de.instanceConfig.complete;de.instanceConfig.complete=function(ze){le(we)&&we(ze,de.file,de.inputElem),Ae()},U.parse(de.file,de.instanceConfig)}}function Ae(){ue.splice(0,1),xe()}}),z&&(A.onmessage=function(te){te=te.data,U.WORKER_ID===void 0&&te&&(U.WORKER_ID=te.workerId),typeof te.input=="string"?A.postMessage({workerId:U.WORKER_ID,results:U.parse(te.input,te.config),finished:!0}):(A.File&&te.input instanceof File||te.input instanceof Object)&&(te=U.parse(te.input,te.config))&&A.postMessage({workerId:U.WORKER_ID,results:te,finished:!0})}),(F.prototype=Object.create(G.prototype)).constructor=F,(q.prototype=Object.create(G.prototype)).constructor=q,(Y.prototype=Object.create(Y.prototype)).constructor=Y,(W.prototype=Object.create(G.prototype)).constructor=W,U})})(papaparse_min$1)),papaparse_min$1.exports}var papaparse_minExports=requirePapaparse_min();const Papa=getDefaultExportFromCjs(papaparse_minExports),PATH_SEPARATOR="__";function pathToColumn(E){return"param"+PATH_SEPARATOR+E.replace(/\./g,PATH_SEPARATOR)}function columnToPath(E){return E.startsWith("param"+PATH_SEPARATOR)?E.slice(("param"+PATH_SEPARATOR).length).replace(new RegExp(PATH_SEPARATOR,"g"),"."):E}function batchSnapshotsToCSV(E){if(E.length===0)return"";const _=new Set;for(const O of E)for(const z of Object.keys(O.sampled_params))_.add(z);const C=Array.from(_).sort(),A=[];for(const O of E)for(const z of O.cells){const I={run_index:O.run_index,seed:O.seed,time_h:O.time_h,cell_id:z.id,cell_type:z.type,pos_x:z.pos_x,pos_y:z.pos_y,A_x:z.A_x,A_y:z.A_y,B_x:z.B_x,B_y:z.B_y,has_A:z.has_A,has_B:z.has_B,phase:z.phase,age:z.age,apical_neighbors:z.apical_neighbors,basal_neighbors:z.basal_neighbors};for(const B of C)I[pathToColumn(B)]=O.sampled_params[B]??"";A.push(I)}const P=["run_index","seed","time_h",...C.map(pathToColumn),"cell_id","cell_type","pos_x","pos_y","A_x","A_y","B_x","B_y","has_A","has_B","phase","age","apical_neighbors","basal_neighbors"];return Papa.unparse(A,{columns:P})}function csvToBatchSnapshots(E){const _=Papa.parse(E,{header:!0,dynamicTyping:!1,skipEmptyLines:!0});_.errors.length>0&&console.warn("CSV parse warnings:",_.errors);const C=new Map,A=_.meta.fields?.filter(O=>O.startsWith("param"+PATH_SEPARATOR))??[];for(const O of _.data){const z=parseInt(O.run_index,10),I=parseInt(O.seed,10),B=parseFloat(O.time_h),U=`${z}-${I}-${B}`;if(!C.has(U)){const q={};for(const Y of A){const W=O[Y];W!==""&&W!==void 0&&(q[columnToPath(Y)]=parseFloat(W))}C.set(U,{run_index:z,seed:I,time_h:B,sampled_params:q,cells:[]})}const G=C.get(U),F={id:parseInt(O.cell_id,10),type:O.cell_type,pos_x:parseFloat(O.pos_x),pos_y:parseFloat(O.pos_y),A_x:parseFloat(O.A_x),A_y:parseFloat(O.A_y),B_x:parseFloat(O.B_x),B_y:parseFloat(O.B_y),has_A:O.has_A==="true",has_B:O.has_B==="true",phase:parseInt(O.phase,10),age:parseFloat(O.age),apical_neighbors:O.apical_neighbors??"",basal_neighbors:O.basal_neighbors??""};G.cells.push(F)}const P=Array.from(C.values());return P.sort((O,z)=>O.run_index!==z.run_index?O.run_index-z.run_index:O.time_h-z.time_h),P}function createBatchDataFromSnapshots(E){const _=new Set;for(const z of E)for(const I of Object.keys(z.sampled_params))_.add(I);const C=new Set;for(const z of E)C.add(z.time_h);const A=Array.from(C).sort((z,I)=>z-I),P=new Set;for(const z of E)P.add(`${z.run_index}-${z.seed}`);return{config:{parameter_ranges:Array.from(_).map(z=>({path:z,min:0,max:0,steps:0})),time_samples:{start:A[0]??0,end:A[A.length-1]??48,step:A.length>1?A[1]-A[0]:12},seeds_per_config:1,sampling_mode:"grid"},snapshots:E,completed_runs:P.size,total_runs:P.size}}function statisticsToCSV(E,_){const C=_.map(A=>{const P={};return E.forEach((O,z)=>{P[O]=A[z]}),P});return Papa.unparse(C,{columns:E})}function downloadCSV(E,_){const C=new Blob([E],{type:"text/csv;charset=utf-8;"}),A=URL.createObjectURL(C),P=document.createElement("a");P.href=A,P.download=_,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(A)}function readFileAsText(E){return new Promise((_,C)=>{const A=new FileReader;A.onload=()=>_(A.result),A.onerror=()=>C(A.error),A.readAsText(E)})}function getNeighbors(E,_,C){const A=[];for(const P of _)P.l===E?A.push(P.r):P.r===E&&A.push(P.l);return A.map(P=>C[P]?.id??P).join(",")}function createCellSnapshot(E,_,C,A){const P=E.cells[_];return{id:P.id,type:P.typeIndex,pos_x:P.pos.x,pos_y:P.pos.y,A_x:P.A.x,A_y:P.A.y,B_x:P.B.x,B_y:P.B.y,has_A:P.has_A,has_B:P.has_B,phase:P.phase,age:E.t-P.birth_time,apical_neighbors:getNeighbors(_,C,E.cells),basal_neighbors:getNeighbors(_,A,E.cells)}}function createBatchSnapshot(E,_,C,A,P){const O=[];for(let z=0;z<P.cells.length;z++)O.push(createCellSnapshot(P,z,P.ap_links,P.ba_links));return{run_index:E,seed:_,time_h:C,sampled_params:A,cells:O}}function runSingleSimulation(E,_,C,A,P,O){const z=JSON.parse(JSON.stringify(E));for(const[G,F]of Object.entries(_))setNestedValue(z,G,F);z.general.random_seed=C;const I=new SimulationEngine({params:z});I.init();const B=[];let U=0;if(A.length>0&&A[0]<=0){const G=createBatchSnapshot(P,C,0,_,I.getState());B.push(G),O?.onSnapshot?.(G),U=1}for(;!I.isComplete()&&U<A.length;){I.step();const G=I.getState();for(;U<A.length&&G.t>=A[U];){const F=createBatchSnapshot(P,C,A[U],_,G);B.push(F),O?.onSnapshot?.(F),U++}}return B}function runBatch(E,_,C){const A=generateParameterConfigs(_.parameter_ranges,_.sampling_mode,_.random_sample_count),P=getTimeSamples(_.time_samples),O=A.length*_.seeds_per_config,z=[];let I=0;for(const U of A)for(let G=0;G<_.seeds_per_config;G++){const F=E.general.random_seed+G;C?.onProgress?.({current_run:I,total_runs:O,current_config:U,is_running:!0,is_complete:!1});const q=runSingleSimulation(E,U,F,P,I,C);z.push(...q),I++}const B={config:_,snapshots:z,completed_runs:O,total_runs:O};return C?.onProgress?.({current_run:O,total_runs:O,current_config:{},is_running:!1,is_complete:!0}),C?.onComplete?.(B),B}function computeTotalRuns(E,_){return generateParameterConfigs(E,"grid").length*_}function useSimulation(E={}){const{params:_=DEFAULT_PARAMS,autoInit:C=!0}=E,[A,P]=reactExports.useState(_),[O,z]=reactExports.useState(null),[I,B]=reactExports.useState(!1),U=reactExports.useRef(null),G=reactExports.useRef(null);reactExports.useEffect(()=>(U.current=new SimulationEngine({params:A}),C&&(U.current.init(),z({...U.current.getState()})),()=>{G.current&&cancelAnimationFrame(G.current)}),[A,C]),reactExports.useEffect(()=>{if(!I||!U.current)return;let J=performance.now();const ee=40,ne=se=>{if(!U.current||!I)return;if(se-J>=ee){if(J=se,U.current.isComplete()){B(!1);return}U.current.step(),z({...U.current.getState()})}G.current=requestAnimationFrame(ne)};return G.current=requestAnimationFrame(ne),()=>{G.current&&cancelAnimationFrame(G.current)}},[I]);const F=reactExports.useCallback(()=>{B(!0)},[]),q=reactExports.useCallback(()=>{B(!1)},[]),Y=reactExports.useCallback(()=>{B(!1),U.current&&(U.current.reset(),z({...U.current.getState()}))},[]),W=reactExports.useCallback(()=>{U.current&&!U.current.isComplete()&&(U.current.step(),z({...U.current.getState()}))},[]),Q=reactExports.useCallback(J=>{B(!1),P(J)},[]);return{state:O,params:A,isRunning:I,isComplete:U.current?.isComplete()??!1,time:O?.t??0,stepCount:O?.step_count??0,start:F,pause:q,reset:Y,step:W,setParams:Q}}const Input=reactExports.forwardRef(({className:E,type:_,...C},A)=>jsxRuntimeExports.jsx("input",{type:_,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",E),ref:A,...C}));Input.displayName="Input";var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((E,_)=>{const C=createSlot$3(`Primitive.${_}`),A=reactExports.forwardRef((P,O)=>{const{asChild:z,...I}=P,B=z?C:_;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(B,{...I,ref:O})});return A.displayName=`Primitive.${_}`,{...E,[_]:A}},{}),NAME$2="Label",Label$2=reactExports.forwardRef((E,_)=>jsxRuntimeExports.jsx(Primitive.label,{...E,ref:_,onMouseDown:C=>{C.target.closest("button, input, select, textarea")||(E.onMouseDown?.(C),!C.defaultPrevented&&C.detail>1&&C.preventDefault())}}));Label$2.displayName=NAME$2;var Root$3=Label$2;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label$1=reactExports.forwardRef(({className:E,..._},C)=>jsxRuntimeExports.jsx(Root$3,{ref:C,className:cn(labelVariants(),E),..._}));Label$1.displayName=Root$3.displayName;function usePrevious(E){const _=reactExports.useRef({value:E,previous:E});return reactExports.useMemo(()=>(_.current.value!==E&&(_.current.previous=_.current.value,_.current.value=E),_.current.previous),[E])}function useSize(E){const[_,C]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(E){C({width:E.offsetWidth,height:E.offsetHeight});const A=new ResizeObserver(P=>{if(!Array.isArray(P)||!P.length)return;const O=P[0];let z,I;if("borderBoxSize"in O){const B=O.borderBoxSize,U=Array.isArray(B)?B[0]:B;z=U.inlineSize,I=U.blockSize}else z=E.offsetWidth,I=E.offsetHeight;C({width:z,height:I})});return A.observe(E,{box:"border-box"}),()=>A.unobserve(E)}else C(void 0)},[E]),_}var CHECKBOX_NAME="Checkbox",[createCheckboxContext]=createContextScope$1(CHECKBOX_NAME),[CheckboxProviderImpl,useCheckboxContext]=createCheckboxContext(CHECKBOX_NAME);function CheckboxProvider(E){const{__scopeCheckbox:_,checked:C,children:A,defaultChecked:P,disabled:O,form:z,name:I,onCheckedChange:B,required:U,value:G="on",internal_do_not_use_render:F}=E,[q,Y]=useControllableState({prop:C,defaultProp:P??!1,onChange:B,caller:CHECKBOX_NAME}),[W,Q]=reactExports.useState(null),[J,ee]=reactExports.useState(null),ne=reactExports.useRef(!1),se=W?!!z||!!W.closest("form"):!0,ie={checked:q,disabled:O,setChecked:Y,control:W,setControl:Q,name:I,form:z,value:G,hasConsumerStoppedPropagationRef:ne,required:U,defaultChecked:isIndeterminate(P)?!1:P,isFormControl:se,bubbleInput:J,setBubbleInput:ee};return jsxRuntimeExports.jsx(CheckboxProviderImpl,{scope:_,...ie,children:isFunction(F)?F(ie):A})}var TRIGGER_NAME$3="CheckboxTrigger",CheckboxTrigger=reactExports.forwardRef(({__scopeCheckbox:E,onKeyDown:_,onClick:C,...A},P)=>{const{control:O,value:z,disabled:I,checked:B,required:U,setControl:G,setChecked:F,hasConsumerStoppedPropagationRef:q,isFormControl:Y,bubbleInput:W}=useCheckboxContext(TRIGGER_NAME$3,E),Q=useComposedRefs(P,G),J=reactExports.useRef(B);return reactExports.useEffect(()=>{const ee=O?.form;if(ee){const ne=()=>F(J.current);return ee.addEventListener("reset",ne),()=>ee.removeEventListener("reset",ne)}},[O,F]),jsxRuntimeExports.jsx(Primitive$3.button,{type:"button",role:"checkbox","aria-checked":isIndeterminate(B)?"mixed":B,"aria-required":U,"data-state":getState$2(B),"data-disabled":I?"":void 0,disabled:I,value:z,...A,ref:Q,onKeyDown:composeEventHandlers(_,ee=>{ee.key==="Enter"&&ee.preventDefault()}),onClick:composeEventHandlers(C,ee=>{F(ne=>isIndeterminate(ne)?!0:!ne),W&&Y&&(q.current=ee.isPropagationStopped(),q.current||ee.stopPropagation())})})});CheckboxTrigger.displayName=TRIGGER_NAME$3;var Checkbox$1=reactExports.forwardRef((E,_)=>{const{__scopeCheckbox:C,name:A,checked:P,defaultChecked:O,required:z,disabled:I,value:B,onCheckedChange:U,form:G,...F}=E;return jsxRuntimeExports.jsx(CheckboxProvider,{__scopeCheckbox:C,checked:P,defaultChecked:O,disabled:I,required:z,onCheckedChange:U,name:A,form:G,value:B,internal_do_not_use_render:({isFormControl:q})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckboxTrigger,{...F,ref:_,__scopeCheckbox:C}),q&&jsxRuntimeExports.jsx(CheckboxBubbleInput,{__scopeCheckbox:C})]})})});Checkbox$1.displayName=CHECKBOX_NAME;var INDICATOR_NAME="CheckboxIndicator",CheckboxIndicator=reactExports.forwardRef((E,_)=>{const{__scopeCheckbox:C,forceMount:A,...P}=E,O=useCheckboxContext(INDICATOR_NAME,C);return jsxRuntimeExports.jsx(Presence,{present:A||isIndeterminate(O.checked)||O.checked===!0,children:jsxRuntimeExports.jsx(Primitive$3.span,{"data-state":getState$2(O.checked),"data-disabled":O.disabled?"":void 0,...P,ref:_,style:{pointerEvents:"none",...E.style}})})});CheckboxIndicator.displayName=INDICATOR_NAME;var BUBBLE_INPUT_NAME$1="CheckboxBubbleInput",CheckboxBubbleInput=reactExports.forwardRef(({__scopeCheckbox:E,..._},C)=>{const{control:A,hasConsumerStoppedPropagationRef:P,checked:O,defaultChecked:z,required:I,disabled:B,name:U,value:G,form:F,bubbleInput:q,setBubbleInput:Y}=useCheckboxContext(BUBBLE_INPUT_NAME$1,E),W=useComposedRefs(C,Y),Q=usePrevious(O),J=useSize(A);reactExports.useEffect(()=>{const ne=q;if(!ne)return;const se=window.HTMLInputElement.prototype,fe=Object.getOwnPropertyDescriptor(se,"checked").set,me=!P.current;if(Q!==O&&fe){const le=new Event("click",{bubbles:me});ne.indeterminate=isIndeterminate(O),fe.call(ne,isIndeterminate(O)?!1:O),ne.dispatchEvent(le)}},[q,Q,O,P]);const ee=reactExports.useRef(isIndeterminate(O)?!1:O);return jsxRuntimeExports.jsx(Primitive$3.input,{type:"checkbox","aria-hidden":!0,defaultChecked:z??ee.current,required:I,disabled:B,name:U,value:G,form:F,..._,tabIndex:-1,ref:W,style:{..._.style,...J,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});CheckboxBubbleInput.displayName=BUBBLE_INPUT_NAME$1;function isFunction(E){return typeof E=="function"}function isIndeterminate(E){return E==="indeterminate"}function getState$2(E){return isIndeterminate(E)?"indeterminate":E?"checked":"unchecked"}const Checkbox=reactExports.forwardRef(({className:E,..._},C)=>jsxRuntimeExports.jsx(Checkbox$1,{ref:C,className:cn("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",E),..._,children:jsxRuntimeExports.jsx(CheckboxIndicator,{className:cn("flex items-center justify-center text-current"),children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}));Checkbox.displayName=Checkbox$1.displayName;function ParameterInput({label:E,path:_,value:C,onChange:A,disabled:P}){const O=z=>{A(_,z)};if(typeof C=="boolean")return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:_,checked:C,onCheckedChange:z=>O(z===!0),disabled:P}),jsxRuntimeExports.jsx(Label$1,{htmlFor:_,className:"text-sm font-normal cursor-pointer",children:E})]});if(typeof C=="number")return jsxRuntimeExports.jsxs("div",{className:"grid gap-1.5",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:_,className:"text-sm",children:E}),jsxRuntimeExports.jsx(Input,{id:_,type:"number",value:C,step:"any",onChange:z=>O(parseFloat(z.target.value)||0),disabled:P,className:"h-8 text-sm"})]});if(typeof C=="string")return jsxRuntimeExports.jsxs("div",{className:"grid gap-1.5",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:_,className:"text-sm",children:E}),jsxRuntimeExports.jsx(Input,{id:_,type:"text",value:C,onChange:z=>O(z.target.value),disabled:P,className:"h-8 text-sm"})]});if(C!==null&&typeof C=="object"&&"r"in C&&"g"in C&&"b"in C){const z=C,I=`#${z.r.toString(16).padStart(2,"0")}${z.g.toString(16).padStart(2,"0")}${z.b.toString(16).padStart(2,"0")}`;return jsxRuntimeExports.jsxs("div",{className:"grid gap-1.5",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:_,className:"text-sm",children:E}),jsxRuntimeExports.jsx(Input,{id:_,type:"text",value:I,onChange:B=>{const U=B.target.value.match(/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i);U&&O({r:parseInt(U[1],16),g:parseInt(U[2],16),b:parseInt(U[3],16)})},disabled:P,className:"h-8 text-sm font-mono",placeholder:"#rrggbb"})]})}return jsxRuntimeExports.jsxs("div",{className:"grid gap-1.5",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground",children:E}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"(unsupported type)"})]})}var COLLAPSIBLE_NAME="Collapsible",[createCollapsibleContext,createCollapsibleScope]=createContextScope$1(COLLAPSIBLE_NAME),[CollapsibleProvider,useCollapsibleContext]=createCollapsibleContext(COLLAPSIBLE_NAME),Collapsible=reactExports.forwardRef((E,_)=>{const{__scopeCollapsible:C,open:A,defaultOpen:P,disabled:O,onOpenChange:z,...I}=E,[B,U]=useControllableState({prop:A,defaultProp:P??!1,onChange:z,caller:COLLAPSIBLE_NAME});return jsxRuntimeExports.jsx(CollapsibleProvider,{scope:C,disabled:O,contentId:useId(),open:B,onOpenToggle:reactExports.useCallback(()=>U(G=>!G),[U]),children:jsxRuntimeExports.jsx(Primitive$3.div,{"data-state":getState$1(B),"data-disabled":O?"":void 0,...I,ref:_})})});Collapsible.displayName=COLLAPSIBLE_NAME;var TRIGGER_NAME$2="CollapsibleTrigger",CollapsibleTrigger=reactExports.forwardRef((E,_)=>{const{__scopeCollapsible:C,...A}=E,P=useCollapsibleContext(TRIGGER_NAME$2,C);return jsxRuntimeExports.jsx(Primitive$3.button,{type:"button","aria-controls":P.contentId,"aria-expanded":P.open||!1,"data-state":getState$1(P.open),"data-disabled":P.disabled?"":void 0,disabled:P.disabled,...A,ref:_,onClick:composeEventHandlers(E.onClick,P.onOpenToggle)})});CollapsibleTrigger.displayName=TRIGGER_NAME$2;var CONTENT_NAME$3="CollapsibleContent",CollapsibleContent=reactExports.forwardRef((E,_)=>{const{forceMount:C,...A}=E,P=useCollapsibleContext(CONTENT_NAME$3,E.__scopeCollapsible);return jsxRuntimeExports.jsx(Presence,{present:C||P.open,children:({present:O})=>jsxRuntimeExports.jsx(CollapsibleContentImpl,{...A,ref:_,present:O})})});CollapsibleContent.displayName=CONTENT_NAME$3;var CollapsibleContentImpl=reactExports.forwardRef((E,_)=>{const{__scopeCollapsible:C,present:A,children:P,...O}=E,z=useCollapsibleContext(CONTENT_NAME$3,C),[I,B]=reactExports.useState(A),U=reactExports.useRef(null),G=useComposedRefs(_,U),F=reactExports.useRef(0),q=F.current,Y=reactExports.useRef(0),W=Y.current,Q=z.open||I,J=reactExports.useRef(Q),ee=reactExports.useRef(void 0);return reactExports.useEffect(()=>{const ne=requestAnimationFrame(()=>J.current=!1);return()=>cancelAnimationFrame(ne)},[]),useLayoutEffect2(()=>{const ne=U.current;if(ne){ee.current=ee.current||{transitionDuration:ne.style.transitionDuration,animationName:ne.style.animationName},ne.style.transitionDuration="0s",ne.style.animationName="none";const se=ne.getBoundingClientRect();F.current=se.height,Y.current=se.width,J.current||(ne.style.transitionDuration=ee.current.transitionDuration,ne.style.animationName=ee.current.animationName),B(A)}},[z.open,A]),jsxRuntimeExports.jsx(Primitive$3.div,{"data-state":getState$1(z.open),"data-disabled":z.disabled?"":void 0,id:z.contentId,hidden:!Q,...O,ref:G,style:{"--radix-collapsible-content-height":q?`${q}px`:void 0,"--radix-collapsible-content-width":W?`${W}px`:void 0,...E.style},children:Q&&P})});function getState$1(E){return E?"open":"closed"}var Root$2=Collapsible,Trigger$1=CollapsibleTrigger,Content$1=CollapsibleContent,ACCORDION_NAME="Accordion",ACCORDION_KEYS=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(ACCORDION_NAME),[createAccordionContext]=createContextScope$1(ACCORDION_NAME,[createCollectionScope$1,createCollapsibleScope]),useCollapsibleScope=createCollapsibleScope(),Accordion$1=React.forwardRef((E,_)=>{const{type:C,...A}=E,P=A,O=A;return jsxRuntimeExports.jsx(Collection$1.Provider,{scope:E.__scopeAccordion,children:C==="multiple"?jsxRuntimeExports.jsx(AccordionImplMultiple,{...O,ref:_}):jsxRuntimeExports.jsx(AccordionImplSingle,{...P,ref:_})})});Accordion$1.displayName=ACCORDION_NAME;var[AccordionValueProvider,useAccordionValueContext]=createAccordionContext(ACCORDION_NAME),[AccordionCollapsibleProvider,useAccordionCollapsibleContext]=createAccordionContext(ACCORDION_NAME,{collapsible:!1}),AccordionImplSingle=React.forwardRef((E,_)=>{const{value:C,defaultValue:A,onValueChange:P=()=>{},collapsible:O=!1,...z}=E,[I,B]=useControllableState({prop:C,defaultProp:A??"",onChange:P,caller:ACCORDION_NAME});return jsxRuntimeExports.jsx(AccordionValueProvider,{scope:E.__scopeAccordion,value:React.useMemo(()=>I?[I]:[],[I]),onItemOpen:B,onItemClose:React.useCallback(()=>O&&B(""),[O,B]),children:jsxRuntimeExports.jsx(AccordionCollapsibleProvider,{scope:E.__scopeAccordion,collapsible:O,children:jsxRuntimeExports.jsx(AccordionImpl,{...z,ref:_})})})}),AccordionImplMultiple=React.forwardRef((E,_)=>{const{value:C,defaultValue:A,onValueChange:P=()=>{},...O}=E,[z,I]=useControllableState({prop:C,defaultProp:A??[],onChange:P,caller:ACCORDION_NAME}),B=React.useCallback(G=>I((F=[])=>[...F,G]),[I]),U=React.useCallback(G=>I((F=[])=>F.filter(q=>q!==G)),[I]);return jsxRuntimeExports.jsx(AccordionValueProvider,{scope:E.__scopeAccordion,value:z,onItemOpen:B,onItemClose:U,children:jsxRuntimeExports.jsx(AccordionCollapsibleProvider,{scope:E.__scopeAccordion,collapsible:!0,children:jsxRuntimeExports.jsx(AccordionImpl,{...O,ref:_})})})}),[AccordionImplProvider,useAccordionContext]=createAccordionContext(ACCORDION_NAME),AccordionImpl=React.forwardRef((E,_)=>{const{__scopeAccordion:C,disabled:A,dir:P,orientation:O="vertical",...z}=E,I=React.useRef(null),B=useComposedRefs(I,_),U=useCollection$1(C),F=useDirection(P)==="ltr",q=composeEventHandlers(E.onKeyDown,Y=>{if(!ACCORDION_KEYS.includes(Y.key))return;const W=Y.target,Q=U().filter(te=>!te.ref.current?.disabled),J=Q.findIndex(te=>te.ref.current===W),ee=Q.length;if(J===-1)return;Y.preventDefault();let ne=J;const se=0,ie=ee-1,fe=()=>{ne=J+1,ne>ie&&(ne=se)},me=()=>{ne=J-1,ne<se&&(ne=ie)};switch(Y.key){case"Home":ne=se;break;case"End":ne=ie;break;case"ArrowRight":O==="horizontal"&&(F?fe():me());break;case"ArrowDown":O==="vertical"&&fe();break;case"ArrowLeft":O==="horizontal"&&(F?me():fe());break;case"ArrowUp":O==="vertical"&&me();break}const le=ne%ee;Q[le].ref.current?.focus()});return jsxRuntimeExports.jsx(AccordionImplProvider,{scope:C,disabled:A,direction:P,orientation:O,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:C,children:jsxRuntimeExports.jsx(Primitive$3.div,{...z,"data-orientation":O,ref:B,onKeyDown:A?void 0:q})})})}),ITEM_NAME$1="AccordionItem",[AccordionItemProvider,useAccordionItemContext]=createAccordionContext(ITEM_NAME$1),AccordionItem$1=React.forwardRef((E,_)=>{const{__scopeAccordion:C,value:A,...P}=E,O=useAccordionContext(ITEM_NAME$1,C),z=useAccordionValueContext(ITEM_NAME$1,C),I=useCollapsibleScope(C),B=useId(),U=A&&z.value.includes(A)||!1,G=O.disabled||E.disabled;return jsxRuntimeExports.jsx(AccordionItemProvider,{scope:C,open:U,disabled:G,triggerId:B,children:jsxRuntimeExports.jsx(Root$2,{"data-orientation":O.orientation,"data-state":getState(U),...I,...P,ref:_,disabled:G,open:U,onOpenChange:F=>{F?z.onItemOpen(A):z.onItemClose(A)}})})});AccordionItem$1.displayName=ITEM_NAME$1;var HEADER_NAME="AccordionHeader",AccordionHeader=React.forwardRef((E,_)=>{const{__scopeAccordion:C,...A}=E,P=useAccordionContext(ACCORDION_NAME,C),O=useAccordionItemContext(HEADER_NAME,C);return jsxRuntimeExports.jsx(Primitive$3.h3,{"data-orientation":P.orientation,"data-state":getState(O.open),"data-disabled":O.disabled?"":void 0,...A,ref:_})});AccordionHeader.displayName=HEADER_NAME;var TRIGGER_NAME$1="AccordionTrigger",AccordionTrigger$1=React.forwardRef((E,_)=>{const{__scopeAccordion:C,...A}=E,P=useAccordionContext(ACCORDION_NAME,C),O=useAccordionItemContext(TRIGGER_NAME$1,C),z=useAccordionCollapsibleContext(TRIGGER_NAME$1,C),I=useCollapsibleScope(C);return jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:C,children:jsxRuntimeExports.jsx(Trigger$1,{"aria-disabled":O.open&&!z.collapsible||void 0,"data-orientation":P.orientation,id:O.triggerId,...I,...A,ref:_})})});AccordionTrigger$1.displayName=TRIGGER_NAME$1;var CONTENT_NAME$2="AccordionContent",AccordionContent$1=React.forwardRef((E,_)=>{const{__scopeAccordion:C,...A}=E,P=useAccordionContext(ACCORDION_NAME,C),O=useAccordionItemContext(CONTENT_NAME$2,C),z=useCollapsibleScope(C);return jsxRuntimeExports.jsx(Content$1,{role:"region","aria-labelledby":O.triggerId,"data-orientation":P.orientation,...z,...A,ref:_,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...E.style}})});AccordionContent$1.displayName=CONTENT_NAME$2;function getState(E){return E?"open":"closed"}var Root2$2=Accordion$1,Item$1=AccordionItem$1,Header=AccordionHeader,Trigger2=AccordionTrigger$1,Content2$1=AccordionContent$1;const Accordion=Root2$2,AccordionItem=reactExports.forwardRef(({className:E,..._},C)=>jsxRuntimeExports.jsx(Item$1,{ref:C,className:cn("border-b",E),..._}));AccordionItem.displayName="AccordionItem";const AccordionTrigger=reactExports.forwardRef(({className:E,children:_,...C},A)=>jsxRuntimeExports.jsx(Header,{className:"flex",children:jsxRuntimeExports.jsxs(Trigger2,{ref:A,className:cn("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",E),...C,children:[_,jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));AccordionTrigger.displayName=Trigger2.displayName;const AccordionContent=reactExports.forwardRef(({className:E,children:_,...C},A)=>jsxRuntimeExports.jsx(Content2$1,{ref:A,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...C,children:jsxRuntimeExports.jsx("div",{className:cn("pb-4 pt-0",E),children:_})}));AccordionContent.displayName=Content2$1.displayName;const PARAM_LABELS={N_init:"Initial cells",N_emt:"EMT cells",w_init:"Initial width",h_init:"Initial height",w_screen:"Screen width",h_screen:"Screen height",curvature:"Curvature",t_end:"End time (h)",dt:"Time step",random_seed:"Random seed",R_hard:"Hard radius",R_soft:"Soft radius",repulsion_stiffness:"Repulsion stiffness",apical_junction_init:"Apical junction init",apical_junction_max:"Apical junction max",basal_max_dist:"Basal max distance",straightness:"Straightness",inm_stiffness:"INM stiffness",dt_INM:"INM time scale",color:"Color",division_time_range:"Division time range",k_A:"Apical spring",k_B:"Basal spring",k_AA:"Apical-apical spring",k_S:"Straightness spring",has_inm:"Has INM",running_speed:"Running speed",emt_time_A:"EMT time (apical)",emt_time_B:"EMT time (basal)",emt_time_S:"EMT time (straight)",emt_time_P:"EMT time (polarity)"};function getLabel(E){return PARAM_LABELS[E]??E.replace(/_/g," ")}function isSimpleValue(E){return E==null?!1:typeof E=="boolean"||typeof E=="number"||typeof E=="string"||typeof E=="object"&&"r"in E&&"g"in E&&"b"in E?!0:(typeof E=="object"&&"min"in E&&"max"in E,!1)}function isRange(E){return E!==null&&typeof E=="object"&&"min"in E&&"max"in E}function ParameterGroup({title:E,groupKey:_,params:C,basePath:A,onChange:P,disabled:O}){const z=Object.entries(C);return jsxRuntimeExports.jsxs(AccordionItem,{value:_,children:[jsxRuntimeExports.jsx(AccordionTrigger,{className:"text-sm",children:E}),jsxRuntimeExports.jsx(AccordionContent,{children:jsxRuntimeExports.jsx("div",{className:"grid gap-3 py-2",children:z.map(([I,B])=>{const U=A?`${A}.${I}`:I;return isSimpleValue(B)?jsxRuntimeExports.jsx(ParameterInput,{label:getLabel(I),path:U,value:B,onChange:P,disabled:O},U):isRange(B)?jsxRuntimeExports.jsxs("div",{className:"grid gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:getLabel(I)}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsx(ParameterInput,{label:"Min",path:`${U}.min`,value:B.min,onChange:P,disabled:O}),jsxRuntimeExports.jsx(ParameterInput,{label:"Max",path:`${U}.max`,value:B.max,onChange:P,disabled:O})]})]},U):null})})})]})}function clamp$1(E,[_,C]){return Math.min(C,Math.max(_,E))}function useStateMachine(E,_){return reactExports.useReducer((C,A)=>_[C][A]??C,E)}var SCROLL_AREA_NAME="ScrollArea",[createScrollAreaContext]=createContextScope$1(SCROLL_AREA_NAME),[ScrollAreaProvider,useScrollAreaContext]=createScrollAreaContext(SCROLL_AREA_NAME),ScrollArea$1=reactExports.forwardRef((E,_)=>{const{__scopeScrollArea:C,type:A="hover",dir:P,scrollHideDelay:O=600,...z}=E,[I,B]=reactExports.useState(null),[U,G]=reactExports.useState(null),[F,q]=reactExports.useState(null),[Y,W]=reactExports.useState(null),[Q,J]=reactExports.useState(null),[ee,ne]=reactExports.useState(0),[se,ie]=reactExports.useState(0),[fe,me]=reactExports.useState(!1),[le,te]=reactExports.useState(!1),ae=useComposedRefs(_,xe=>B(xe)),ue=useDirection(P);return jsxRuntimeExports.jsx(ScrollAreaProvider,{scope:C,type:A,dir:ue,scrollHideDelay:O,scrollArea:I,viewport:U,onViewportChange:G,content:F,onContentChange:q,scrollbarX:Y,onScrollbarXChange:W,scrollbarXEnabled:fe,onScrollbarXEnabledChange:me,scrollbarY:Q,onScrollbarYChange:J,scrollbarYEnabled:le,onScrollbarYEnabledChange:te,onCornerWidthChange:ne,onCornerHeightChange:ie,children:jsxRuntimeExports.jsx(Primitive$3.div,{dir:ue,...z,ref:ae,style:{position:"relative","--radix-scroll-area-corner-width":ee+"px","--radix-scroll-area-corner-height":se+"px",...E.style}})})});ScrollArea$1.displayName=SCROLL_AREA_NAME;var VIEWPORT_NAME$1="ScrollAreaViewport",ScrollAreaViewport=reactExports.forwardRef((E,_)=>{const{__scopeScrollArea:C,children:A,nonce:P,...O}=E,z=useScrollAreaContext(VIEWPORT_NAME$1,C),I=reactExports.useRef(null),B=useComposedRefs(_,I,z.onViewportChange);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:P}),jsxRuntimeExports.jsx(Primitive$3.div,{"data-radix-scroll-area-viewport":"",...O,ref:B,style:{overflowX:z.scrollbarXEnabled?"scroll":"hidden",overflowY:z.scrollbarYEnabled?"scroll":"hidden",...E.style},children:jsxRuntimeExports.jsx("div",{ref:z.onContentChange,style:{minWidth:"100%",display:"table"},children:A})})]})});ScrollAreaViewport.displayName=VIEWPORT_NAME$1;var SCROLLBAR_NAME="ScrollAreaScrollbar",ScrollAreaScrollbar=reactExports.forwardRef((E,_)=>{const{forceMount:C,...A}=E,P=useScrollAreaContext(SCROLLBAR_NAME,E.__scopeScrollArea),{onScrollbarXEnabledChange:O,onScrollbarYEnabledChange:z}=P,I=E.orientation==="horizontal";return reactExports.useEffect(()=>(I?O(!0):z(!0),()=>{I?O(!1):z(!1)}),[I,O,z]),P.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{...A,ref:_,forceMount:C}):P.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{...A,ref:_,forceMount:C}):P.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{...A,ref:_,forceMount:C}):P.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{...A,ref:_}):null});ScrollAreaScrollbar.displayName=SCROLLBAR_NAME;var ScrollAreaScrollbarHover=reactExports.forwardRef((E,_)=>{const{forceMount:C,...A}=E,P=useScrollAreaContext(SCROLLBAR_NAME,E.__scopeScrollArea),[O,z]=reactExports.useState(!1);return reactExports.useEffect(()=>{const I=P.scrollArea;let B=0;if(I){const U=()=>{window.clearTimeout(B),z(!0)},G=()=>{B=window.setTimeout(()=>z(!1),P.scrollHideDelay)};return I.addEventListener("pointerenter",U),I.addEventListener("pointerleave",G),()=>{window.clearTimeout(B),I.removeEventListener("pointerenter",U),I.removeEventListener("pointerleave",G)}}},[P.scrollArea,P.scrollHideDelay]),jsxRuntimeExports.jsx(Presence,{present:C||O,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":O?"visible":"hidden",...A,ref:_})})}),ScrollAreaScrollbarScroll=reactExports.forwardRef((E,_)=>{const{forceMount:C,...A}=E,P=useScrollAreaContext(SCROLLBAR_NAME,E.__scopeScrollArea),O=E.orientation==="horizontal",z=useDebounceCallback(()=>B("SCROLL_END"),100),[I,B]=useStateMachine("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(I==="idle"){const U=window.setTimeout(()=>B("HIDE"),P.scrollHideDelay);return()=>window.clearTimeout(U)}},[I,P.scrollHideDelay,B]),reactExports.useEffect(()=>{const U=P.viewport,G=O?"scrollLeft":"scrollTop";if(U){let F=U[G];const q=()=>{const Y=U[G];F!==Y&&(B("SCROLL"),z()),F=Y};return U.addEventListener("scroll",q),()=>U.removeEventListener("scroll",q)}},[P.viewport,O,B,z]),jsxRuntimeExports.jsx(Presence,{present:C||I!=="hidden",children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":I==="hidden"?"hidden":"visible",...A,ref:_,onPointerEnter:composeEventHandlers(E.onPointerEnter,()=>B("POINTER_ENTER")),onPointerLeave:composeEventHandlers(E.onPointerLeave,()=>B("POINTER_LEAVE"))})})}),ScrollAreaScrollbarAuto=reactExports.forwardRef((E,_)=>{const C=useScrollAreaContext(SCROLLBAR_NAME,E.__scopeScrollArea),{forceMount:A,...P}=E,[O,z]=reactExports.useState(!1),I=E.orientation==="horizontal",B=useDebounceCallback(()=>{if(C.viewport){const U=C.viewport.offsetWidth<C.viewport.scrollWidth,G=C.viewport.offsetHeight<C.viewport.scrollHeight;z(I?U:G)}},10);return useResizeObserver(C.viewport,B),useResizeObserver(C.content,B),jsxRuntimeExports.jsx(Presence,{present:A||O,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":O?"visible":"hidden",...P,ref:_})})}),ScrollAreaScrollbarVisible=reactExports.forwardRef((E,_)=>{const{orientation:C="vertical",...A}=E,P=useScrollAreaContext(SCROLLBAR_NAME,E.__scopeScrollArea),O=reactExports.useRef(null),z=reactExports.useRef(0),[I,B]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),U=getThumbRatio(I.viewport,I.content),G={...A,sizes:I,onSizesChange:B,hasThumb:U>0&&U<1,onThumbChange:q=>O.current=q,onThumbPointerUp:()=>z.current=0,onThumbPointerDown:q=>z.current=q};function F(q,Y){return getScrollPositionFromPointer(q,z.current,I,Y)}return C==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...G,ref:_,onThumbPositionChange:()=>{if(P.viewport&&O.current){const q=P.viewport.scrollLeft,Y=getThumbOffsetFromScroll(q,I,P.dir);O.current.style.transform=`translate3d(${Y}px, 0, 0)`}},onWheelScroll:q=>{P.viewport&&(P.viewport.scrollLeft=q)},onDragScroll:q=>{P.viewport&&(P.viewport.scrollLeft=F(q,P.dir))}}):C==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...G,ref:_,onThumbPositionChange:()=>{if(P.viewport&&O.current){const q=P.viewport.scrollTop,Y=getThumbOffsetFromScroll(q,I);O.current.style.transform=`translate3d(0, ${Y}px, 0)`}},onWheelScroll:q=>{P.viewport&&(P.viewport.scrollTop=q)},onDragScroll:q=>{P.viewport&&(P.viewport.scrollTop=F(q))}}):null}),ScrollAreaScrollbarX=reactExports.forwardRef((E,_)=>{const{sizes:C,onSizesChange:A,...P}=E,O=useScrollAreaContext(SCROLLBAR_NAME,E.__scopeScrollArea),[z,I]=reactExports.useState(),B=reactExports.useRef(null),U=useComposedRefs(_,B,O.onScrollbarXChange);return reactExports.useEffect(()=>{B.current&&I(getComputedStyle(B.current))},[B]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"horizontal",...P,ref:U,sizes:C,style:{bottom:0,left:O.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:O.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":getThumbSize(C)+"px",...E.style},onThumbPointerDown:G=>E.onThumbPointerDown(G.x),onDragScroll:G=>E.onDragScroll(G.x),onWheelScroll:(G,F)=>{if(O.viewport){const q=O.viewport.scrollLeft+G.deltaX;E.onWheelScroll(q),isScrollingWithinScrollbarBounds(q,F)&&G.preventDefault()}},onResize:()=>{B.current&&O.viewport&&z&&A({content:O.viewport.scrollWidth,viewport:O.viewport.offsetWidth,scrollbar:{size:B.current.clientWidth,paddingStart:toInt(z.paddingLeft),paddingEnd:toInt(z.paddingRight)}})}})}),ScrollAreaScrollbarY=reactExports.forwardRef((E,_)=>{const{sizes:C,onSizesChange:A,...P}=E,O=useScrollAreaContext(SCROLLBAR_NAME,E.__scopeScrollArea),[z,I]=reactExports.useState(),B=reactExports.useRef(null),U=useComposedRefs(_,B,O.onScrollbarYChange);return reactExports.useEffect(()=>{B.current&&I(getComputedStyle(B.current))},[B]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"vertical",...P,ref:U,sizes:C,style:{top:0,right:O.dir==="ltr"?0:void 0,left:O.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":getThumbSize(C)+"px",...E.style},onThumbPointerDown:G=>E.onThumbPointerDown(G.y),onDragScroll:G=>E.onDragScroll(G.y),onWheelScroll:(G,F)=>{if(O.viewport){const q=O.viewport.scrollTop+G.deltaY;E.onWheelScroll(q),isScrollingWithinScrollbarBounds(q,F)&&G.preventDefault()}},onResize:()=>{B.current&&O.viewport&&z&&A({content:O.viewport.scrollHeight,viewport:O.viewport.offsetHeight,scrollbar:{size:B.current.clientHeight,paddingStart:toInt(z.paddingTop),paddingEnd:toInt(z.paddingBottom)}})}})}),[ScrollbarProvider,useScrollbarContext]=createScrollAreaContext(SCROLLBAR_NAME),ScrollAreaScrollbarImpl=reactExports.forwardRef((E,_)=>{const{__scopeScrollArea:C,sizes:A,hasThumb:P,onThumbChange:O,onThumbPointerUp:z,onThumbPointerDown:I,onThumbPositionChange:B,onDragScroll:U,onWheelScroll:G,onResize:F,...q}=E,Y=useScrollAreaContext(SCROLLBAR_NAME,C),[W,Q]=reactExports.useState(null),J=useComposedRefs(_,ae=>Q(ae)),ee=reactExports.useRef(null),ne=reactExports.useRef(""),se=Y.viewport,ie=A.content-A.viewport,fe=useCallbackRef$1(G),me=useCallbackRef$1(B),le=useDebounceCallback(F,10);function te(ae){if(ee.current){const ue=ae.clientX-ee.current.left,xe=ae.clientY-ee.current.top;U({x:ue,y:xe})}}return reactExports.useEffect(()=>{const ae=ue=>{const xe=ue.target;W?.contains(xe)&&fe(ue,ie)};return document.addEventListener("wheel",ae,{passive:!1}),()=>document.removeEventListener("wheel",ae,{passive:!1})},[se,W,ie,fe]),reactExports.useEffect(me,[A,me]),useResizeObserver(W,le),useResizeObserver(Y.content,le),jsxRuntimeExports.jsx(ScrollbarProvider,{scope:C,scrollbar:W,hasThumb:P,onThumbChange:useCallbackRef$1(O),onThumbPointerUp:useCallbackRef$1(z),onThumbPositionChange:me,onThumbPointerDown:useCallbackRef$1(I),children:jsxRuntimeExports.jsx(Primitive$3.div,{...q,ref:J,style:{position:"absolute",...q.style},onPointerDown:composeEventHandlers(E.onPointerDown,ae=>{ae.button===0&&(ae.target.setPointerCapture(ae.pointerId),ee.current=W.getBoundingClientRect(),ne.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",Y.viewport&&(Y.viewport.style.scrollBehavior="auto"),te(ae))}),onPointerMove:composeEventHandlers(E.onPointerMove,te),onPointerUp:composeEventHandlers(E.onPointerUp,ae=>{const ue=ae.target;ue.hasPointerCapture(ae.pointerId)&&ue.releasePointerCapture(ae.pointerId),document.body.style.webkitUserSelect=ne.current,Y.viewport&&(Y.viewport.style.scrollBehavior=""),ee.current=null})})})}),THUMB_NAME="ScrollAreaThumb",ScrollAreaThumb=reactExports.forwardRef((E,_)=>{const{forceMount:C,...A}=E,P=useScrollbarContext(THUMB_NAME,E.__scopeScrollArea);return jsxRuntimeExports.jsx(Presence,{present:C||P.hasThumb,children:jsxRuntimeExports.jsx(ScrollAreaThumbImpl,{ref:_,...A})})}),ScrollAreaThumbImpl=reactExports.forwardRef((E,_)=>{const{__scopeScrollArea:C,style:A,...P}=E,O=useScrollAreaContext(THUMB_NAME,C),z=useScrollbarContext(THUMB_NAME,C),{onThumbPositionChange:I}=z,B=useComposedRefs(_,F=>z.onThumbChange(F)),U=reactExports.useRef(void 0),G=useDebounceCallback(()=>{U.current&&(U.current(),U.current=void 0)},100);return reactExports.useEffect(()=>{const F=O.viewport;if(F){const q=()=>{if(G(),!U.current){const Y=addUnlinkedScrollListener(F,I);U.current=Y,I()}};return I(),F.addEventListener("scroll",q),()=>F.removeEventListener("scroll",q)}},[O.viewport,G,I]),jsxRuntimeExports.jsx(Primitive$3.div,{"data-state":z.hasThumb?"visible":"hidden",...P,ref:B,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...A},onPointerDownCapture:composeEventHandlers(E.onPointerDownCapture,F=>{const Y=F.target.getBoundingClientRect(),W=F.clientX-Y.left,Q=F.clientY-Y.top;z.onThumbPointerDown({x:W,y:Q})}),onPointerUp:composeEventHandlers(E.onPointerUp,z.onThumbPointerUp)})});ScrollAreaThumb.displayName=THUMB_NAME;var CORNER_NAME="ScrollAreaCorner",ScrollAreaCorner=reactExports.forwardRef((E,_)=>{const C=useScrollAreaContext(CORNER_NAME,E.__scopeScrollArea),A=!!(C.scrollbarX&&C.scrollbarY);return C.type!=="scroll"&&A?jsxRuntimeExports.jsx(ScrollAreaCornerImpl,{...E,ref:_}):null});ScrollAreaCorner.displayName=CORNER_NAME;var ScrollAreaCornerImpl=reactExports.forwardRef((E,_)=>{const{__scopeScrollArea:C,...A}=E,P=useScrollAreaContext(CORNER_NAME,C),[O,z]=reactExports.useState(0),[I,B]=reactExports.useState(0),U=!!(O&&I);return useResizeObserver(P.scrollbarX,()=>{const G=P.scrollbarX?.offsetHeight||0;P.onCornerHeightChange(G),B(G)}),useResizeObserver(P.scrollbarY,()=>{const G=P.scrollbarY?.offsetWidth||0;P.onCornerWidthChange(G),z(G)}),U?jsxRuntimeExports.jsx(Primitive$3.div,{...A,ref:_,style:{width:O,height:I,position:"absolute",right:P.dir==="ltr"?0:void 0,left:P.dir==="rtl"?0:void 0,bottom:0,...E.style}}):null});function toInt(E){return E?parseInt(E,10):0}function getThumbRatio(E,_){const C=E/_;return isNaN(C)?0:C}function getThumbSize(E){const _=getThumbRatio(E.viewport,E.content),C=E.scrollbar.paddingStart+E.scrollbar.paddingEnd,A=(E.scrollbar.size-C)*_;return Math.max(A,18)}function getScrollPositionFromPointer(E,_,C,A="ltr"){const P=getThumbSize(C),O=P/2,z=_||O,I=P-z,B=C.scrollbar.paddingStart+z,U=C.scrollbar.size-C.scrollbar.paddingEnd-I,G=C.content-C.viewport,F=A==="ltr"?[0,G]:[G*-1,0];return linearScale([B,U],F)(E)}function getThumbOffsetFromScroll(E,_,C="ltr"){const A=getThumbSize(_),P=_.scrollbar.paddingStart+_.scrollbar.paddingEnd,O=_.scrollbar.size-P,z=_.content-_.viewport,I=O-A,B=C==="ltr"?[0,z]:[z*-1,0],U=clamp$1(E,B);return linearScale([0,z],[0,I])(U)}function linearScale(E,_){return C=>{if(E[0]===E[1]||_[0]===_[1])return _[0];const A=(_[1]-_[0])/(E[1]-E[0]);return _[0]+A*(C-E[0])}}function isScrollingWithinScrollbarBounds(E,_){return E>0&&E<_}var addUnlinkedScrollListener=(E,_=()=>{})=>{let C={left:E.scrollLeft,top:E.scrollTop},A=0;return(function P(){const O={left:E.scrollLeft,top:E.scrollTop},z=C.left!==O.left,I=C.top!==O.top;(z||I)&&_(),C=O,A=window.requestAnimationFrame(P)})(),()=>window.cancelAnimationFrame(A)};function useDebounceCallback(E,_){const C=useCallbackRef$1(E),A=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(A.current),[]),reactExports.useCallback(()=>{window.clearTimeout(A.current),A.current=window.setTimeout(C,_)},[C,_])}function useResizeObserver(E,_){const C=useCallbackRef$1(_);useLayoutEffect2(()=>{let A=0;if(E){const P=new ResizeObserver(()=>{cancelAnimationFrame(A),A=window.requestAnimationFrame(C)});return P.observe(E),()=>{window.cancelAnimationFrame(A),P.unobserve(E)}}},[E,C])}var Root$1=ScrollArea$1,Viewport$1=ScrollAreaViewport,Corner=ScrollAreaCorner;const ScrollArea=reactExports.forwardRef(({className:E,children:_,...C},A)=>jsxRuntimeExports.jsxs(Root$1,{ref:A,className:cn("relative overflow-hidden",E),...C,children:[jsxRuntimeExports.jsx(Viewport$1,{className:"h-full w-full rounded-[inherit]",children:_}),jsxRuntimeExports.jsx(ScrollBar,{}),jsxRuntimeExports.jsx(Corner,{})]}));ScrollArea.displayName=Root$1.displayName;const ScrollBar=reactExports.forwardRef(({className:E,orientation:_="vertical",...C},A)=>jsxRuntimeExports.jsx(ScrollAreaScrollbar,{ref:A,orientation:_,className:cn("flex touch-none select-none transition-colors",_==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",_==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",E),...C,children:jsxRuntimeExports.jsx(ScrollAreaThumb,{className:"relative flex-1 rounded-full bg-border"})}));ScrollBar.displayName=ScrollAreaScrollbar.displayName;function ParameterPanel({params:E,onChange:_,disabled:C}){const A=reactExports.useRef(null),P=(I,B)=>{const U=JSON.parse(JSON.stringify(E));setNestedValue(U,I,B),_(U)},O=async I=>{const B=I.target.files?.[0];if(B){try{const U=await B.text(),G=parseTomlWithDefaults(U);_(G)}catch(U){console.error("Failed to parse TOML:",U),alert("Failed to parse TOML file. Check console for details.")}A.current&&(A.current.value="")}},z=()=>{const I=toToml(E),B=new Blob([I],{type:"text/plain"}),U=URL.createObjectURL(B),G=document.createElement("a");G.href=U,G.download="simulation_params.toml",document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(U)};return jsxRuntimeExports.jsxs(Card,{className:"h-full",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Parameters"})}),jsxRuntimeExports.jsxs(CardContent,{className:"p-0",children:[jsxRuntimeExports.jsx(ScrollArea,{className:"h-[400px] px-4",children:jsxRuntimeExports.jsxs(Accordion,{type:"multiple",defaultValue:["general"],className:"w-full",children:[jsxRuntimeExports.jsx(ParameterGroup,{title:"General",groupKey:"general",params:E.general,basePath:"general",onChange:P,disabled:C}),jsxRuntimeExports.jsx(ParameterGroup,{title:"Cell Properties",groupKey:"cell_prop",params:E.cell_prop,basePath:"cell_prop",onChange:P,disabled:C}),jsxRuntimeExports.jsx(ParameterGroup,{title:"Control Cells",groupKey:"control",params:E.cell_types.control,basePath:"cell_types.control",onChange:P,disabled:C}),jsxRuntimeExports.jsx(ParameterGroup,{title:"EMT Cells",groupKey:"emt",params:E.cell_types.emt,basePath:"cell_types.emt",onChange:P,disabled:C})]})}),jsxRuntimeExports.jsx(Separator$1,{}),jsxRuntimeExports.jsxs("div",{className:"p-4 flex gap-2",children:[jsxRuntimeExports.jsx("input",{ref:A,type:"file",accept:".toml",onChange:O,className:"hidden"}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>A.current?.click(),children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-2"}),"Load TOML"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"flex-1",onClick:z,children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Save TOML"]})]})]})]})}function SingleSimulationTab({params:E,onParamsChange:_}){const{state:C,isRunning:A,isComplete:P,time:O,start:z,pause:I,reset:B,step:U,setParams:G}=useSimulation({params:E}),F=W=>{_(W),G(W)},q=()=>{console.log("Screenshot not yet implemented")},Y=()=>{console.log("CSV export not yet implemented")};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Card,{className:"overflow-hidden",children:jsxRuntimeExports.jsx(SimulationCanvas,{state:C,params:E,width:900,height:350,className:"w-full"})}),jsxRuntimeExports.jsx(SimulationControls,{isRunning:A,isComplete:P,time:O,endTime:E.general.t_end,onStart:z,onPause:I,onReset:B,onStep:U}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(ParameterPanel,{params:E,onChange:F,disabled:A}),jsxRuntimeExports.jsx(StatsPanel,{state:C,params:E,onScreenshot:q,onExportCSV:Y})]})]})}function useEscapeKeydown(E,_=globalThis?.document){const C=useCallbackRef$1(E);reactExports.useEffect(()=>{const A=P=>{P.key==="Escape"&&C(P)};return _.addEventListener("keydown",A,{capture:!0}),()=>_.removeEventListener("keydown",A,{capture:!0})},[C,_])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((E,_)=>{const{disableOutsidePointerEvents:C=!1,onEscapeKeyDown:A,onPointerDownOutside:P,onFocusOutside:O,onInteractOutside:z,onDismiss:I,...B}=E,U=reactExports.useContext(DismissableLayerContext),[G,F]=reactExports.useState(null),q=G?.ownerDocument??globalThis?.document,[,Y]=reactExports.useState({}),W=useComposedRefs(_,le=>F(le)),Q=Array.from(U.layers),[J]=[...U.layersWithOutsidePointerEventsDisabled].slice(-1),ee=Q.indexOf(J),ne=G?Q.indexOf(G):-1,se=U.layersWithOutsidePointerEventsDisabled.size>0,ie=ne>=ee,fe=usePointerDownOutside(le=>{const te=le.target,ae=[...U.branches].some(ue=>ue.contains(te));!ie||ae||(P?.(le),z?.(le),le.defaultPrevented||I?.())},q),me=useFocusOutside(le=>{const te=le.target;[...U.branches].some(ue=>ue.contains(te))||(O?.(le),z?.(le),le.defaultPrevented||I?.())},q);return useEscapeKeydown(le=>{ne===U.layers.size-1&&(A?.(le),!le.defaultPrevented&&I&&(le.preventDefault(),I()))},q),reactExports.useEffect(()=>{if(G)return C&&(U.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=q.body.style.pointerEvents,q.body.style.pointerEvents="none"),U.layersWithOutsidePointerEventsDisabled.add(G)),U.layers.add(G),dispatchUpdate(),()=>{C&&U.layersWithOutsidePointerEventsDisabled.size===1&&(q.body.style.pointerEvents=originalBodyPointerEvents)}},[G,q,C,U]),reactExports.useEffect(()=>()=>{G&&(U.layers.delete(G),U.layersWithOutsidePointerEventsDisabled.delete(G),dispatchUpdate())},[G,U]),reactExports.useEffect(()=>{const le=()=>Y({});return document.addEventListener(CONTEXT_UPDATE,le),()=>document.removeEventListener(CONTEXT_UPDATE,le)},[]),jsxRuntimeExports.jsx(Primitive$3.div,{...B,ref:W,style:{pointerEvents:se?ie?"auto":"none":void 0,...E.style},onFocusCapture:composeEventHandlers(E.onFocusCapture,me.onFocusCapture),onBlurCapture:composeEventHandlers(E.onBlurCapture,me.onBlurCapture),onPointerDownCapture:composeEventHandlers(E.onPointerDownCapture,fe.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((E,_)=>{const C=reactExports.useContext(DismissableLayerContext),A=reactExports.useRef(null),P=useComposedRefs(_,A);return reactExports.useEffect(()=>{const O=A.current;if(O)return C.branches.add(O),()=>{C.branches.delete(O)}},[C.branches]),jsxRuntimeExports.jsx(Primitive$3.div,{...E,ref:P})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(E,_=globalThis?.document){const C=useCallbackRef$1(E),A=reactExports.useRef(!1),P=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const O=I=>{if(I.target&&!A.current){let B=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,C,U,{discrete:!0})};const U={originalEvent:I};I.pointerType==="touch"?(_.removeEventListener("click",P.current),P.current=B,_.addEventListener("click",P.current,{once:!0})):B()}else _.removeEventListener("click",P.current);A.current=!1},z=window.setTimeout(()=>{_.addEventListener("pointerdown",O)},0);return()=>{window.clearTimeout(z),_.removeEventListener("pointerdown",O),_.removeEventListener("click",P.current)}},[_,C]),{onPointerDownCapture:()=>A.current=!0}}function useFocusOutside(E,_=globalThis?.document){const C=useCallbackRef$1(E),A=reactExports.useRef(!1);return reactExports.useEffect(()=>{const P=O=>{O.target&&!A.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,C,{originalEvent:O},{discrete:!1})};return _.addEventListener("focusin",P),()=>_.removeEventListener("focusin",P)},[_,C]),{onFocusCapture:()=>A.current=!0,onBlurCapture:()=>A.current=!1}}function dispatchUpdate(){const E=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(E)}function handleAndDispatchCustomEvent(E,_,C,{discrete:A}){const P=C.originalEvent.target,O=new CustomEvent(E,{bubbles:!1,cancelable:!0,detail:C});_&&P.addEventListener(E,_,{once:!0}),A?dispatchDiscreteCustomEvent(P,O):P.dispatchEvent(O)}var count=0;function useFocusGuards(){reactExports.useEffect(()=>{const E=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",E[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",E[1]??createFocusGuard()),count++,()=>{count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(_=>_.remove()),count--}},[])}function createFocusGuard(){const E=document.createElement("span");return E.setAttribute("data-radix-focus-guard",""),E.tabIndex=0,E.style.outline="none",E.style.opacity="0",E.style.position="fixed",E.style.pointerEvents="none",E}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((E,_)=>{const{loop:C=!1,trapped:A=!1,onMountAutoFocus:P,onUnmountAutoFocus:O,...z}=E,[I,B]=reactExports.useState(null),U=useCallbackRef$1(P),G=useCallbackRef$1(O),F=reactExports.useRef(null),q=useComposedRefs(_,Q=>B(Q)),Y=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(A){let Q=function(se){if(Y.paused||!I)return;const ie=se.target;I.contains(ie)?F.current=ie:focus(F.current,{select:!0})},J=function(se){if(Y.paused||!I)return;const ie=se.relatedTarget;ie!==null&&(I.contains(ie)||focus(F.current,{select:!0}))},ee=function(se){if(document.activeElement===document.body)for(const fe of se)fe.removedNodes.length>0&&focus(I)};document.addEventListener("focusin",Q),document.addEventListener("focusout",J);const ne=new MutationObserver(ee);return I&&ne.observe(I,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",Q),document.removeEventListener("focusout",J),ne.disconnect()}}},[A,I,Y.paused]),reactExports.useEffect(()=>{if(I){focusScopesStack.add(Y);const Q=document.activeElement;if(!I.contains(Q)){const ee=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS);I.addEventListener(AUTOFOCUS_ON_MOUNT,U),I.dispatchEvent(ee),ee.defaultPrevented||(focusFirst(removeLinks(getTabbableCandidates(I)),{select:!0}),document.activeElement===Q&&focus(I))}return()=>{I.removeEventListener(AUTOFOCUS_ON_MOUNT,U),setTimeout(()=>{const ee=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS);I.addEventListener(AUTOFOCUS_ON_UNMOUNT,G),I.dispatchEvent(ee),ee.defaultPrevented||focus(Q??document.body,{select:!0}),I.removeEventListener(AUTOFOCUS_ON_UNMOUNT,G),focusScopesStack.remove(Y)},0)}}},[I,U,G,Y]);const W=reactExports.useCallback(Q=>{if(!C&&!A||Y.paused)return;const J=Q.key==="Tab"&&!Q.altKey&&!Q.ctrlKey&&!Q.metaKey,ee=document.activeElement;if(J&&ee){const ne=Q.currentTarget,[se,ie]=getTabbableEdges(ne);se&&ie?!Q.shiftKey&&ee===ie?(Q.preventDefault(),C&&focus(se,{select:!0})):Q.shiftKey&&ee===se&&(Q.preventDefault(),C&&focus(ie,{select:!0})):ee===ne&&Q.preventDefault()}},[C,A,Y.paused]);return jsxRuntimeExports.jsx(Primitive$3.div,{tabIndex:-1,...z,ref:q,onKeyDown:W})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst(E,{select:_=!1}={}){const C=document.activeElement;for(const A of E)if(focus(A,{select:_}),document.activeElement!==C)return}function getTabbableEdges(E){const _=getTabbableCandidates(E),C=findVisible(_,E),A=findVisible(_.reverse(),E);return[C,A]}function getTabbableCandidates(E){const _=[],C=document.createTreeWalker(E,NodeFilter.SHOW_ELEMENT,{acceptNode:A=>{const P=A.tagName==="INPUT"&&A.type==="hidden";return A.disabled||A.hidden||P?NodeFilter.FILTER_SKIP:A.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;C.nextNode();)_.push(C.currentNode);return _}function findVisible(E,_){for(const C of E)if(!isHidden(C,{upTo:_}))return C}function isHidden(E,{upTo:_}){if(getComputedStyle(E).visibility==="hidden")return!0;for(;E;){if(_!==void 0&&E===_)return!1;if(getComputedStyle(E).display==="none")return!0;E=E.parentElement}return!1}function isSelectableInput(E){return E instanceof HTMLInputElement&&"select"in E}function focus(E,{select:_=!1}={}){if(E&&E.focus){const C=document.activeElement;E.focus({preventScroll:!0}),E!==C&&isSelectableInput(E)&&_&&E.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let E=[];return{add(_){const C=E[0];_!==C&&C?.pause(),E=arrayRemove(E,_),E.unshift(_)},remove(_){E=arrayRemove(E,_),E[0]?.resume()}}}function arrayRemove(E,_){const C=[...E],A=C.indexOf(_);return A!==-1&&C.splice(A,1),C}function removeLinks(E){return E.filter(_=>_.tagName!=="A")}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=E=>({x:E,y:E}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(E,_,C){return max(E,min(_,C))}function evaluate(E,_){return typeof E=="function"?E(_):E}function getSide(E){return E.split("-")[0]}function getAlignment(E){return E.split("-")[1]}function getOppositeAxis(E){return E==="x"?"y":"x"}function getAxisLength(E){return E==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(E){return yAxisSides.has(getSide(E))?"y":"x"}function getAlignmentAxis(E){return getOppositeAxis(getSideAxis(E))}function getAlignmentSides(E,_,C){C===void 0&&(C=!1);const A=getAlignment(E),P=getAlignmentAxis(E),O=getAxisLength(P);let z=P==="x"?A===(C?"end":"start")?"right":"left":A==="start"?"bottom":"top";return _.reference[O]>_.floating[O]&&(z=getOppositePlacement(z)),[z,getOppositePlacement(z)]}function getExpandedPlacements(E){const _=getOppositePlacement(E);return[getOppositeAlignmentPlacement(E),_,getOppositeAlignmentPlacement(_)]}function getOppositeAlignmentPlacement(E){return E.replace(/start|end/g,_=>oppositeAlignmentMap[_])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(E,_,C){switch(E){case"top":case"bottom":return C?_?rlPlacement:lrPlacement:_?lrPlacement:rlPlacement;case"left":case"right":return _?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(E,_,C,A){const P=getAlignment(E);let O=getSideList(getSide(E),C==="start",A);return P&&(O=O.map(z=>z+"-"+P),_&&(O=O.concat(O.map(getOppositeAlignmentPlacement)))),O}function getOppositePlacement(E){return E.replace(/left|right|bottom|top/g,_=>oppositeSideMap[_])}function expandPaddingObject(E){return{top:0,right:0,bottom:0,left:0,...E}}function getPaddingObject(E){return typeof E!="number"?expandPaddingObject(E):{top:E,right:E,bottom:E,left:E}}function rectToClientRect(E){const{x:_,y:C,width:A,height:P}=E;return{width:A,height:P,top:C,left:_,right:_+A,bottom:C+P,x:_,y:C}}function computeCoordsFromPlacement(E,_,C){let{reference:A,floating:P}=E;const O=getSideAxis(_),z=getAlignmentAxis(_),I=getAxisLength(z),B=getSide(_),U=O==="y",G=A.x+A.width/2-P.width/2,F=A.y+A.height/2-P.height/2,q=A[I]/2-P[I]/2;let Y;switch(B){case"top":Y={x:G,y:A.y-P.height};break;case"bottom":Y={x:G,y:A.y+A.height};break;case"right":Y={x:A.x+A.width,y:F};break;case"left":Y={x:A.x-P.width,y:F};break;default:Y={x:A.x,y:A.y}}switch(getAlignment(_)){case"start":Y[z]-=q*(C&&U?-1:1);break;case"end":Y[z]+=q*(C&&U?-1:1);break}return Y}const computePosition$1=async(E,_,C)=>{const{placement:A="bottom",strategy:P="absolute",middleware:O=[],platform:z}=C,I=O.filter(Boolean),B=await(z.isRTL==null?void 0:z.isRTL(_));let U=await z.getElementRects({reference:E,floating:_,strategy:P}),{x:G,y:F}=computeCoordsFromPlacement(U,A,B),q=A,Y={},W=0;for(let Q=0;Q<I.length;Q++){const{name:J,fn:ee}=I[Q],{x:ne,y:se,data:ie,reset:fe}=await ee({x:G,y:F,initialPlacement:A,placement:q,strategy:P,middlewareData:Y,rects:U,platform:z,elements:{reference:E,floating:_}});G=ne??G,F=se??F,Y={...Y,[J]:{...Y[J],...ie}},fe&&W<=50&&(W++,typeof fe=="object"&&(fe.placement&&(q=fe.placement),fe.rects&&(U=fe.rects===!0?await z.getElementRects({reference:E,floating:_,strategy:P}):fe.rects),{x:G,y:F}=computeCoordsFromPlacement(U,q,B)),Q=-1)}return{x:G,y:F,placement:q,strategy:P,middlewareData:Y}};async function detectOverflow(E,_){var C;_===void 0&&(_={});const{x:A,y:P,platform:O,rects:z,elements:I,strategy:B}=E,{boundary:U="clippingAncestors",rootBoundary:G="viewport",elementContext:F="floating",altBoundary:q=!1,padding:Y=0}=evaluate(_,E),W=getPaddingObject(Y),J=I[q?F==="floating"?"reference":"floating":F],ee=rectToClientRect(await O.getClippingRect({element:(C=await(O.isElement==null?void 0:O.isElement(J)))==null||C?J:J.contextElement||await(O.getDocumentElement==null?void 0:O.getDocumentElement(I.floating)),boundary:U,rootBoundary:G,strategy:B})),ne=F==="floating"?{x:A,y:P,width:z.floating.width,height:z.floating.height}:z.reference,se=await(O.getOffsetParent==null?void 0:O.getOffsetParent(I.floating)),ie=await(O.isElement==null?void 0:O.isElement(se))?await(O.getScale==null?void 0:O.getScale(se))||{x:1,y:1}:{x:1,y:1},fe=rectToClientRect(O.convertOffsetParentRelativeRectToViewportRelativeRect?await O.convertOffsetParentRelativeRectToViewportRelativeRect({elements:I,rect:ne,offsetParent:se,strategy:B}):ne);return{top:(ee.top-fe.top+W.top)/ie.y,bottom:(fe.bottom-ee.bottom+W.bottom)/ie.y,left:(ee.left-fe.left+W.left)/ie.x,right:(fe.right-ee.right+W.right)/ie.x}}const arrow$3=E=>({name:"arrow",options:E,async fn(_){const{x:C,y:A,placement:P,rects:O,platform:z,elements:I,middlewareData:B}=_,{element:U,padding:G=0}=evaluate(E,_)||{};if(U==null)return{};const F=getPaddingObject(G),q={x:C,y:A},Y=getAlignmentAxis(P),W=getAxisLength(Y),Q=await z.getDimensions(U),J=Y==="y",ee=J?"top":"left",ne=J?"bottom":"right",se=J?"clientHeight":"clientWidth",ie=O.reference[W]+O.reference[Y]-q[Y]-O.floating[W],fe=q[Y]-O.reference[Y],me=await(z.getOffsetParent==null?void 0:z.getOffsetParent(U));let le=me?me[se]:0;(!le||!await(z.isElement==null?void 0:z.isElement(me)))&&(le=I.floating[se]||O.floating[W]);const te=ie/2-fe/2,ae=le/2-Q[W]/2-1,ue=min(F[ee],ae),xe=min(F[ne],ae),Ae=ue,he=le-Q[W]-xe,Se=le/2-Q[W]/2+te,Pe=clamp(Ae,Se,he),oe=!B.arrow&&getAlignment(P)!=null&&Se!==Pe&&O.reference[W]/2-(Se<Ae?ue:xe)-Q[W]/2<0,de=oe?Se<Ae?Se-Ae:Se-he:0;return{[Y]:q[Y]+de,data:{[Y]:Pe,centerOffset:Se-Pe-de,...oe&&{alignmentOffset:de}},reset:oe}}}),flip$2=function(E){return E===void 0&&(E={}),{name:"flip",options:E,async fn(_){var C,A;const{placement:P,middlewareData:O,rects:z,initialPlacement:I,platform:B,elements:U}=_,{mainAxis:G=!0,crossAxis:F=!0,fallbackPlacements:q,fallbackStrategy:Y="bestFit",fallbackAxisSideDirection:W="none",flipAlignment:Q=!0,...J}=evaluate(E,_);if((C=O.arrow)!=null&&C.alignmentOffset)return{};const ee=getSide(P),ne=getSideAxis(I),se=getSide(I)===I,ie=await(B.isRTL==null?void 0:B.isRTL(U.floating)),fe=q||(se||!Q?[getOppositePlacement(I)]:getExpandedPlacements(I)),me=W!=="none";!q&&me&&fe.push(...getOppositeAxisPlacements(I,Q,W,ie));const le=[I,...fe],te=await detectOverflow(_,J),ae=[];let ue=((A=O.flip)==null?void 0:A.overflows)||[];if(G&&ae.push(te[ee]),F){const Se=getAlignmentSides(P,z,ie);ae.push(te[Se[0]],te[Se[1]])}if(ue=[...ue,{placement:P,overflows:ae}],!ae.every(Se=>Se<=0)){var xe,Ae;const Se=(((xe=O.flip)==null?void 0:xe.index)||0)+1,Pe=le[Se];if(Pe&&(!(F==="alignment"?ne!==getSideAxis(Pe):!1)||ue.every(ye=>getSideAxis(ye.placement)===ne?ye.overflows[0]>0:!0)))return{data:{index:Se,overflows:ue},reset:{placement:Pe}};let oe=(Ae=ue.filter(de=>de.overflows[0]<=0).sort((de,ye)=>de.overflows[1]-ye.overflows[1])[0])==null?void 0:Ae.placement;if(!oe)switch(Y){case"bestFit":{var he;const de=(he=ue.filter(ye=>{if(me){const we=getSideAxis(ye.placement);return we===ne||we==="y"}return!0}).map(ye=>[ye.placement,ye.overflows.filter(we=>we>0).reduce((we,ze)=>we+ze,0)]).sort((ye,we)=>ye[1]-we[1])[0])==null?void 0:he[0];de&&(oe=de);break}case"initialPlacement":oe=I;break}if(P!==oe)return{reset:{placement:oe}}}return{}}}};function getSideOffsets(E,_){return{top:E.top-_.height,right:E.right-_.width,bottom:E.bottom-_.height,left:E.left-_.width}}function isAnySideFullyClipped(E){return sides.some(_=>E[_]>=0)}const hide$2=function(E){return E===void 0&&(E={}),{name:"hide",options:E,async fn(_){const{rects:C}=_,{strategy:A="referenceHidden",...P}=evaluate(E,_);switch(A){case"referenceHidden":{const O=await detectOverflow(_,{...P,elementContext:"reference"}),z=getSideOffsets(O,C.reference);return{data:{referenceHiddenOffsets:z,referenceHidden:isAnySideFullyClipped(z)}}}case"escaped":{const O=await detectOverflow(_,{...P,altBoundary:!0}),z=getSideOffsets(O,C.floating);return{data:{escapedOffsets:z,escaped:isAnySideFullyClipped(z)}}}default:return{}}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(E,_){const{placement:C,platform:A,elements:P}=E,O=await(A.isRTL==null?void 0:A.isRTL(P.floating)),z=getSide(C),I=getAlignment(C),B=getSideAxis(C)==="y",U=originSides.has(z)?-1:1,G=O&&B?-1:1,F=evaluate(_,E);let{mainAxis:q,crossAxis:Y,alignmentAxis:W}=typeof F=="number"?{mainAxis:F,crossAxis:0,alignmentAxis:null}:{mainAxis:F.mainAxis||0,crossAxis:F.crossAxis||0,alignmentAxis:F.alignmentAxis};return I&&typeof W=="number"&&(Y=I==="end"?W*-1:W),B?{x:Y*G,y:q*U}:{x:q*U,y:Y*G}}const offset$2=function(E){return E===void 0&&(E=0),{name:"offset",options:E,async fn(_){var C,A;const{x:P,y:O,placement:z,middlewareData:I}=_,B=await convertValueToCoords(_,E);return z===((C=I.offset)==null?void 0:C.placement)&&(A=I.arrow)!=null&&A.alignmentOffset?{}:{x:P+B.x,y:O+B.y,data:{...B,placement:z}}}}},shift$2=function(E){return E===void 0&&(E={}),{name:"shift",options:E,async fn(_){const{x:C,y:A,placement:P}=_,{mainAxis:O=!0,crossAxis:z=!1,limiter:I={fn:J=>{let{x:ee,y:ne}=J;return{x:ee,y:ne}}},...B}=evaluate(E,_),U={x:C,y:A},G=await detectOverflow(_,B),F=getSideAxis(getSide(P)),q=getOppositeAxis(F);let Y=U[q],W=U[F];if(O){const J=q==="y"?"top":"left",ee=q==="y"?"bottom":"right",ne=Y+G[J],se=Y-G[ee];Y=clamp(ne,Y,se)}if(z){const J=F==="y"?"top":"left",ee=F==="y"?"bottom":"right",ne=W+G[J],se=W-G[ee];W=clamp(ne,W,se)}const Q=I.fn({..._,[q]:Y,[F]:W});return{...Q,data:{x:Q.x-C,y:Q.y-A,enabled:{[q]:O,[F]:z}}}}}},limitShift$2=function(E){return E===void 0&&(E={}),{options:E,fn(_){const{x:C,y:A,placement:P,rects:O,middlewareData:z}=_,{offset:I=0,mainAxis:B=!0,crossAxis:U=!0}=evaluate(E,_),G={x:C,y:A},F=getSideAxis(P),q=getOppositeAxis(F);let Y=G[q],W=G[F];const Q=evaluate(I,_),J=typeof Q=="number"?{mainAxis:Q,crossAxis:0}:{mainAxis:0,crossAxis:0,...Q};if(B){const se=q==="y"?"height":"width",ie=O.reference[q]-O.floating[se]+J.mainAxis,fe=O.reference[q]+O.reference[se]-J.mainAxis;Y<ie?Y=ie:Y>fe&&(Y=fe)}if(U){var ee,ne;const se=q==="y"?"width":"height",ie=originSides.has(getSide(P)),fe=O.reference[F]-O.floating[se]+(ie&&((ee=z.offset)==null?void 0:ee[F])||0)+(ie?0:J.crossAxis),me=O.reference[F]+O.reference[se]+(ie?0:((ne=z.offset)==null?void 0:ne[F])||0)-(ie?J.crossAxis:0);W<fe?W=fe:W>me&&(W=me)}return{[q]:Y,[F]:W}}}},size$2=function(E){return E===void 0&&(E={}),{name:"size",options:E,async fn(_){var C,A;const{placement:P,rects:O,platform:z,elements:I}=_,{apply:B=()=>{},...U}=evaluate(E,_),G=await detectOverflow(_,U),F=getSide(P),q=getAlignment(P),Y=getSideAxis(P)==="y",{width:W,height:Q}=O.floating;let J,ee;F==="top"||F==="bottom"?(J=F,ee=q===(await(z.isRTL==null?void 0:z.isRTL(I.floating))?"start":"end")?"left":"right"):(ee=F,J=q==="end"?"top":"bottom");const ne=Q-G.top-G.bottom,se=W-G.left-G.right,ie=min(Q-G[J],ne),fe=min(W-G[ee],se),me=!_.middlewareData.shift;let le=ie,te=fe;if((C=_.middlewareData.shift)!=null&&C.enabled.x&&(te=se),(A=_.middlewareData.shift)!=null&&A.enabled.y&&(le=ne),me&&!q){const ue=max(G.left,0),xe=max(G.right,0),Ae=max(G.top,0),he=max(G.bottom,0);Y?te=W-2*(ue!==0||xe!==0?ue+xe:max(G.left,G.right)):le=Q-2*(Ae!==0||he!==0?Ae+he:max(G.top,G.bottom))}await B({..._,availableWidth:te,availableHeight:le});const ae=await z.getDimensions(I.floating);return W!==ae.width||Q!==ae.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(E){return isNode(E)?(E.nodeName||"").toLowerCase():"#document"}function getWindow(E){var _;return(E==null||(_=E.ownerDocument)==null?void 0:_.defaultView)||window}function getDocumentElement(E){var _;return(_=(isNode(E)?E.ownerDocument:E.document)||window.document)==null?void 0:_.documentElement}function isNode(E){return hasWindow()?E instanceof Node||E instanceof getWindow(E).Node:!1}function isElement(E){return hasWindow()?E instanceof Element||E instanceof getWindow(E).Element:!1}function isHTMLElement(E){return hasWindow()?E instanceof HTMLElement||E instanceof getWindow(E).HTMLElement:!1}function isShadowRoot(E){return!hasWindow()||typeof ShadowRoot>"u"?!1:E instanceof ShadowRoot||E instanceof getWindow(E).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(E){const{overflow:_,overflowX:C,overflowY:A,display:P}=getComputedStyle$1(E);return/auto|scroll|overlay|hidden|clip/.test(_+A+C)&&!invalidOverflowDisplayValues.has(P)}const tableElements=new Set(["table","td","th"]);function isTableElement(E){return tableElements.has(getNodeName(E))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(E){return topLayerSelectors.some(_=>{try{return E.matches(_)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(E){const _=isWebKit(),C=isElement(E)?getComputedStyle$1(E):E;return transformProperties.some(A=>C[A]?C[A]!=="none":!1)||(C.containerType?C.containerType!=="normal":!1)||!_&&(C.backdropFilter?C.backdropFilter!=="none":!1)||!_&&(C.filter?C.filter!=="none":!1)||willChangeValues.some(A=>(C.willChange||"").includes(A))||containValues.some(A=>(C.contain||"").includes(A))}function getContainingBlock(E){let _=getParentNode(E);for(;isHTMLElement(_)&&!isLastTraversableNode(_);){if(isContainingBlock(_))return _;if(isTopLayer(_))return null;_=getParentNode(_)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(E){return lastTraversableNodeNames.has(getNodeName(E))}function getComputedStyle$1(E){return getWindow(E).getComputedStyle(E)}function getNodeScroll(E){return isElement(E)?{scrollLeft:E.scrollLeft,scrollTop:E.scrollTop}:{scrollLeft:E.scrollX,scrollTop:E.scrollY}}function getParentNode(E){if(getNodeName(E)==="html")return E;const _=E.assignedSlot||E.parentNode||isShadowRoot(E)&&E.host||getDocumentElement(E);return isShadowRoot(_)?_.host:_}function getNearestOverflowAncestor(E){const _=getParentNode(E);return isLastTraversableNode(_)?E.ownerDocument?E.ownerDocument.body:E.body:isHTMLElement(_)&&isOverflowElement(_)?_:getNearestOverflowAncestor(_)}function getOverflowAncestors(E,_,C){var A;_===void 0&&(_=[]),C===void 0&&(C=!0);const P=getNearestOverflowAncestor(E),O=P===((A=E.ownerDocument)==null?void 0:A.body),z=getWindow(P);if(O){const I=getFrameElement(z);return _.concat(z,z.visualViewport||[],isOverflowElement(P)?P:[],I&&C?getOverflowAncestors(I):[])}return _.concat(P,getOverflowAncestors(P,[],C))}function getFrameElement(E){return E.parent&&Object.getPrototypeOf(E.parent)?E.frameElement:null}function getCssDimensions(E){const _=getComputedStyle$1(E);let C=parseFloat(_.width)||0,A=parseFloat(_.height)||0;const P=isHTMLElement(E),O=P?E.offsetWidth:C,z=P?E.offsetHeight:A,I=round(C)!==O||round(A)!==z;return I&&(C=O,A=z),{width:C,height:A,$:I}}function unwrapElement(E){return isElement(E)?E:E.contextElement}function getScale(E){const _=unwrapElement(E);if(!isHTMLElement(_))return createCoords(1);const C=_.getBoundingClientRect(),{width:A,height:P,$:O}=getCssDimensions(_);let z=(O?round(C.width):C.width)/A,I=(O?round(C.height):C.height)/P;return(!z||!Number.isFinite(z))&&(z=1),(!I||!Number.isFinite(I))&&(I=1),{x:z,y:I}}const noOffsets=createCoords(0);function getVisualOffsets(E){const _=getWindow(E);return!isWebKit()||!_.visualViewport?noOffsets:{x:_.visualViewport.offsetLeft,y:_.visualViewport.offsetTop}}function shouldAddVisualOffsets(E,_,C){return _===void 0&&(_=!1),!C||_&&C!==getWindow(E)?!1:_}function getBoundingClientRect(E,_,C,A){_===void 0&&(_=!1),C===void 0&&(C=!1);const P=E.getBoundingClientRect(),O=unwrapElement(E);let z=createCoords(1);_&&(A?isElement(A)&&(z=getScale(A)):z=getScale(E));const I=shouldAddVisualOffsets(O,C,A)?getVisualOffsets(O):createCoords(0);let B=(P.left+I.x)/z.x,U=(P.top+I.y)/z.y,G=P.width/z.x,F=P.height/z.y;if(O){const q=getWindow(O),Y=A&&isElement(A)?getWindow(A):A;let W=q,Q=getFrameElement(W);for(;Q&&A&&Y!==W;){const J=getScale(Q),ee=Q.getBoundingClientRect(),ne=getComputedStyle$1(Q),se=ee.left+(Q.clientLeft+parseFloat(ne.paddingLeft))*J.x,ie=ee.top+(Q.clientTop+parseFloat(ne.paddingTop))*J.y;B*=J.x,U*=J.y,G*=J.x,F*=J.y,B+=se,U+=ie,W=getWindow(Q),Q=getFrameElement(W)}}return rectToClientRect({width:G,height:F,x:B,y:U})}function getWindowScrollBarX(E,_){const C=getNodeScroll(E).scrollLeft;return _?_.left+C:getBoundingClientRect(getDocumentElement(E)).left+C}function getHTMLOffset(E,_){const C=E.getBoundingClientRect(),A=C.left+_.scrollLeft-getWindowScrollBarX(E,C),P=C.top+_.scrollTop;return{x:A,y:P}}function convertOffsetParentRelativeRectToViewportRelativeRect(E){let{elements:_,rect:C,offsetParent:A,strategy:P}=E;const O=P==="fixed",z=getDocumentElement(A),I=_?isTopLayer(_.floating):!1;if(A===z||I&&O)return C;let B={scrollLeft:0,scrollTop:0},U=createCoords(1);const G=createCoords(0),F=isHTMLElement(A);if((F||!F&&!O)&&((getNodeName(A)!=="body"||isOverflowElement(z))&&(B=getNodeScroll(A)),isHTMLElement(A))){const Y=getBoundingClientRect(A);U=getScale(A),G.x=Y.x+A.clientLeft,G.y=Y.y+A.clientTop}const q=z&&!F&&!O?getHTMLOffset(z,B):createCoords(0);return{width:C.width*U.x,height:C.height*U.y,x:C.x*U.x-B.scrollLeft*U.x+G.x+q.x,y:C.y*U.y-B.scrollTop*U.y+G.y+q.y}}function getClientRects(E){return Array.from(E.getClientRects())}function getDocumentRect(E){const _=getDocumentElement(E),C=getNodeScroll(E),A=E.ownerDocument.body,P=max(_.scrollWidth,_.clientWidth,A.scrollWidth,A.clientWidth),O=max(_.scrollHeight,_.clientHeight,A.scrollHeight,A.clientHeight);let z=-C.scrollLeft+getWindowScrollBarX(E);const I=-C.scrollTop;return getComputedStyle$1(A).direction==="rtl"&&(z+=max(_.clientWidth,A.clientWidth)-P),{width:P,height:O,x:z,y:I}}const SCROLLBAR_MAX=25;function getViewportRect(E,_){const C=getWindow(E),A=getDocumentElement(E),P=C.visualViewport;let O=A.clientWidth,z=A.clientHeight,I=0,B=0;if(P){O=P.width,z=P.height;const G=isWebKit();(!G||G&&_==="fixed")&&(I=P.offsetLeft,B=P.offsetTop)}const U=getWindowScrollBarX(A);if(U<=0){const G=A.ownerDocument,F=G.body,q=getComputedStyle(F),Y=G.compatMode==="CSS1Compat"&&parseFloat(q.marginLeft)+parseFloat(q.marginRight)||0,W=Math.abs(A.clientWidth-F.clientWidth-Y);W<=SCROLLBAR_MAX&&(O-=W)}else U<=SCROLLBAR_MAX&&(O+=U);return{width:O,height:z,x:I,y:B}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(E,_){const C=getBoundingClientRect(E,!0,_==="fixed"),A=C.top+E.clientTop,P=C.left+E.clientLeft,O=isHTMLElement(E)?getScale(E):createCoords(1),z=E.clientWidth*O.x,I=E.clientHeight*O.y,B=P*O.x,U=A*O.y;return{width:z,height:I,x:B,y:U}}function getClientRectFromClippingAncestor(E,_,C){let A;if(_==="viewport")A=getViewportRect(E,C);else if(_==="document")A=getDocumentRect(getDocumentElement(E));else if(isElement(_))A=getInnerBoundingClientRect(_,C);else{const P=getVisualOffsets(E);A={x:_.x-P.x,y:_.y-P.y,width:_.width,height:_.height}}return rectToClientRect(A)}function hasFixedPositionAncestor(E,_){const C=getParentNode(E);return C===_||!isElement(C)||isLastTraversableNode(C)?!1:getComputedStyle$1(C).position==="fixed"||hasFixedPositionAncestor(C,_)}function getClippingElementAncestors(E,_){const C=_.get(E);if(C)return C;let A=getOverflowAncestors(E,[],!1).filter(I=>isElement(I)&&getNodeName(I)!=="body"),P=null;const O=getComputedStyle$1(E).position==="fixed";let z=O?getParentNode(E):E;for(;isElement(z)&&!isLastTraversableNode(z);){const I=getComputedStyle$1(z),B=isContainingBlock(z);!B&&I.position==="fixed"&&(P=null),(O?!B&&!P:!B&&I.position==="static"&&!!P&&absoluteOrFixed.has(P.position)||isOverflowElement(z)&&!B&&hasFixedPositionAncestor(E,z))?A=A.filter(G=>G!==z):P=I,z=getParentNode(z)}return _.set(E,A),A}function getClippingRect(E){let{element:_,boundary:C,rootBoundary:A,strategy:P}=E;const z=[...C==="clippingAncestors"?isTopLayer(_)?[]:getClippingElementAncestors(_,this._c):[].concat(C),A],I=z[0],B=z.reduce((U,G)=>{const F=getClientRectFromClippingAncestor(_,G,P);return U.top=max(F.top,U.top),U.right=min(F.right,U.right),U.bottom=min(F.bottom,U.bottom),U.left=max(F.left,U.left),U},getClientRectFromClippingAncestor(_,I,P));return{width:B.right-B.left,height:B.bottom-B.top,x:B.left,y:B.top}}function getDimensions(E){const{width:_,height:C}=getCssDimensions(E);return{width:_,height:C}}function getRectRelativeToOffsetParent(E,_,C){const A=isHTMLElement(_),P=getDocumentElement(_),O=C==="fixed",z=getBoundingClientRect(E,!0,O,_);let I={scrollLeft:0,scrollTop:0};const B=createCoords(0);function U(){B.x=getWindowScrollBarX(P)}if(A||!A&&!O)if((getNodeName(_)!=="body"||isOverflowElement(P))&&(I=getNodeScroll(_)),A){const Y=getBoundingClientRect(_,!0,O,_);B.x=Y.x+_.clientLeft,B.y=Y.y+_.clientTop}else P&&U();O&&!A&&P&&U();const G=P&&!A&&!O?getHTMLOffset(P,I):createCoords(0),F=z.left+I.scrollLeft-B.x-G.x,q=z.top+I.scrollTop-B.y-G.y;return{x:F,y:q,width:z.width,height:z.height}}function isStaticPositioned(E){return getComputedStyle$1(E).position==="static"}function getTrueOffsetParent(E,_){if(!isHTMLElement(E)||getComputedStyle$1(E).position==="fixed")return null;if(_)return _(E);let C=E.offsetParent;return getDocumentElement(E)===C&&(C=C.ownerDocument.body),C}function getOffsetParent(E,_){const C=getWindow(E);if(isTopLayer(E))return C;if(!isHTMLElement(E)){let P=getParentNode(E);for(;P&&!isLastTraversableNode(P);){if(isElement(P)&&!isStaticPositioned(P))return P;P=getParentNode(P)}return C}let A=getTrueOffsetParent(E,_);for(;A&&isTableElement(A)&&isStaticPositioned(A);)A=getTrueOffsetParent(A,_);return A&&isLastTraversableNode(A)&&isStaticPositioned(A)&&!isContainingBlock(A)?C:A||getContainingBlock(E)||C}const getElementRects=async function(E){const _=this.getOffsetParent||getOffsetParent,C=this.getDimensions,A=await C(E.floating);return{reference:getRectRelativeToOffsetParent(E.reference,await _(E.floating),E.strategy),floating:{x:0,y:0,width:A.width,height:A.height}}};function isRTL(E){return getComputedStyle$1(E).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(E,_){return E.x===_.x&&E.y===_.y&&E.width===_.width&&E.height===_.height}function observeMove(E,_){let C=null,A;const P=getDocumentElement(E);function O(){var I;clearTimeout(A),(I=C)==null||I.disconnect(),C=null}function z(I,B){I===void 0&&(I=!1),B===void 0&&(B=1),O();const U=E.getBoundingClientRect(),{left:G,top:F,width:q,height:Y}=U;if(I||_(),!q||!Y)return;const W=floor(F),Q=floor(P.clientWidth-(G+q)),J=floor(P.clientHeight-(F+Y)),ee=floor(G),se={rootMargin:-W+"px "+-Q+"px "+-J+"px "+-ee+"px",threshold:max(0,min(1,B))||1};let ie=!0;function fe(me){const le=me[0].intersectionRatio;if(le!==B){if(!ie)return z();le?z(!1,le):A=setTimeout(()=>{z(!1,1e-7)},1e3)}le===1&&!rectsAreEqual(U,E.getBoundingClientRect())&&z(),ie=!1}try{C=new IntersectionObserver(fe,{...se,root:P.ownerDocument})}catch{C=new IntersectionObserver(fe,se)}C.observe(E)}return z(!0),O}function autoUpdate(E,_,C,A){A===void 0&&(A={});const{ancestorScroll:P=!0,ancestorResize:O=!0,elementResize:z=typeof ResizeObserver=="function",layoutShift:I=typeof IntersectionObserver=="function",animationFrame:B=!1}=A,U=unwrapElement(E),G=P||O?[...U?getOverflowAncestors(U):[],...getOverflowAncestors(_)]:[];G.forEach(ee=>{P&&ee.addEventListener("scroll",C,{passive:!0}),O&&ee.addEventListener("resize",C)});const F=U&&I?observeMove(U,C):null;let q=-1,Y=null;z&&(Y=new ResizeObserver(ee=>{let[ne]=ee;ne&&ne.target===U&&Y&&(Y.unobserve(_),cancelAnimationFrame(q),q=requestAnimationFrame(()=>{var se;(se=Y)==null||se.observe(_)})),C()}),U&&!B&&Y.observe(U),Y.observe(_));let W,Q=B?getBoundingClientRect(E):null;B&&J();function J(){const ee=getBoundingClientRect(E);Q&&!rectsAreEqual(Q,ee)&&C(),Q=ee,W=requestAnimationFrame(J)}return C(),()=>{var ee;G.forEach(ne=>{P&&ne.removeEventListener("scroll",C),O&&ne.removeEventListener("resize",C)}),F?.(),(ee=Y)==null||ee.disconnect(),Y=null,B&&cancelAnimationFrame(W)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(E,_,C)=>{const A=new Map,P={platform,...C},O={...P.platform,_c:A};return computePosition$1(E,_,{...P,platform:O})};var isClient=typeof document<"u",noop=function E(){},index=isClient?reactExports.useLayoutEffect:noop;function deepEqual(E,_){if(E===_)return!0;if(typeof E!=typeof _)return!1;if(typeof E=="function"&&E.toString()===_.toString())return!0;let C,A,P;if(E&&_&&typeof E=="object"){if(Array.isArray(E)){if(C=E.length,C!==_.length)return!1;for(A=C;A--!==0;)if(!deepEqual(E[A],_[A]))return!1;return!0}if(P=Object.keys(E),C=P.length,C!==Object.keys(_).length)return!1;for(A=C;A--!==0;)if(!{}.hasOwnProperty.call(_,P[A]))return!1;for(A=C;A--!==0;){const O=P[A];if(!(O==="_owner"&&E.$$typeof)&&!deepEqual(E[O],_[O]))return!1}return!0}return E!==E&&_!==_}function getDPR(E){return typeof window>"u"?1:(E.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(E,_){const C=getDPR(E);return Math.round(_*C)/C}function useLatestRef(E){const _=reactExports.useRef(E);return index(()=>{_.current=E}),_}function useFloating(E){E===void 0&&(E={});const{placement:_="bottom",strategy:C="absolute",middleware:A=[],platform:P,elements:{reference:O,floating:z}={},transform:I=!0,whileElementsMounted:B,open:U}=E,[G,F]=reactExports.useState({x:0,y:0,strategy:C,placement:_,middlewareData:{},isPositioned:!1}),[q,Y]=reactExports.useState(A);deepEqual(q,A)||Y(A);const[W,Q]=reactExports.useState(null),[J,ee]=reactExports.useState(null),ne=reactExports.useCallback(ye=>{ye!==me.current&&(me.current=ye,Q(ye))},[]),se=reactExports.useCallback(ye=>{ye!==le.current&&(le.current=ye,ee(ye))},[]),ie=O||W,fe=z||J,me=reactExports.useRef(null),le=reactExports.useRef(null),te=reactExports.useRef(G),ae=B!=null,ue=useLatestRef(B),xe=useLatestRef(P),Ae=useLatestRef(U),he=reactExports.useCallback(()=>{if(!me.current||!le.current)return;const ye={placement:_,strategy:C,middleware:q};xe.current&&(ye.platform=xe.current),computePosition(me.current,le.current,ye).then(we=>{const ze={...we,isPositioned:Ae.current!==!1};Se.current&&!deepEqual(te.current,ze)&&(te.current=ze,reactDomExports.flushSync(()=>{F(ze)}))})},[q,_,C,xe,Ae]);index(()=>{U===!1&&te.current.isPositioned&&(te.current.isPositioned=!1,F(ye=>({...ye,isPositioned:!1})))},[U]);const Se=reactExports.useRef(!1);index(()=>(Se.current=!0,()=>{Se.current=!1}),[]),index(()=>{if(ie&&(me.current=ie),fe&&(le.current=fe),ie&&fe){if(ue.current)return ue.current(ie,fe,he);he()}},[ie,fe,he,ue,ae]);const Pe=reactExports.useMemo(()=>({reference:me,floating:le,setReference:ne,setFloating:se}),[ne,se]),oe=reactExports.useMemo(()=>({reference:ie,floating:fe}),[ie,fe]),de=reactExports.useMemo(()=>{const ye={position:C,left:0,top:0};if(!oe.floating)return ye;const we=roundByDPR(oe.floating,G.x),ze=roundByDPR(oe.floating,G.y);return I?{...ye,transform:"translate("+we+"px, "+ze+"px)",...getDPR(oe.floating)>=1.5&&{willChange:"transform"}}:{position:C,left:we,top:ze}},[C,I,oe.floating,G.x,G.y]);return reactExports.useMemo(()=>({...G,update:he,refs:Pe,elements:oe,floatingStyles:de}),[G,he,Pe,oe,de])}const arrow$1=E=>{function _(C){return{}.hasOwnProperty.call(C,"current")}return{name:"arrow",options:E,fn(C){const{element:A,padding:P}=typeof E=="function"?E(C):E;return A&&_(A)?A.current!=null?arrow$2({element:A.current,padding:P}).fn(C):{}:A?arrow$2({element:A,padding:P}).fn(C):{}}}},offset=(E,_)=>({...offset$1(E),options:[E,_]}),shift=(E,_)=>({...shift$1(E),options:[E,_]}),limitShift=(E,_)=>({...limitShift$1(E),options:[E,_]}),flip=(E,_)=>({...flip$1(E),options:[E,_]}),size=(E,_)=>({...size$1(E),options:[E,_]}),hide=(E,_)=>({...hide$1(E),options:[E,_]}),arrow=(E,_)=>({...arrow$1(E),options:[E,_]});var NAME$1="Arrow",Arrow$1=reactExports.forwardRef((E,_)=>{const{children:C,width:A=10,height:P=5,...O}=E;return jsxRuntimeExports.jsx(Primitive$3.svg,{...O,ref:_,width:A,height:P,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:E.asChild?C:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$1;var Root=Arrow$1,POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope$1(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=E=>{const{__scopePopper:_,children:C}=E,[A,P]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:_,anchor:A,onAnchorChange:P,children:C})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME="PopperAnchor",PopperAnchor=reactExports.forwardRef((E,_)=>{const{__scopePopper:C,virtualRef:A,...P}=E,O=usePopperContext(ANCHOR_NAME,C),z=reactExports.useRef(null),I=useComposedRefs(_,z),B=reactExports.useRef(null);return reactExports.useEffect(()=>{const U=B.current;B.current=A?.current||z.current,U!==B.current&&O.onAnchorChange(B.current)}),A?null:jsxRuntimeExports.jsx(Primitive$3.div,{...P,ref:I})});PopperAnchor.displayName=ANCHOR_NAME;var CONTENT_NAME$1="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$1),PopperContent=reactExports.forwardRef((E,_)=>{const{__scopePopper:C,side:A="bottom",sideOffset:P=0,align:O="center",alignOffset:z=0,arrowPadding:I=0,avoidCollisions:B=!0,collisionBoundary:U=[],collisionPadding:G=0,sticky:F="partial",hideWhenDetached:q=!1,updatePositionStrategy:Y="optimized",onPlaced:W,...Q}=E,J=usePopperContext(CONTENT_NAME$1,C),[ee,ne]=reactExports.useState(null),se=useComposedRefs(_,ke=>ne(ke)),[ie,fe]=reactExports.useState(null),me=useSize(ie),le=me?.width??0,te=me?.height??0,ae=A+(O!=="center"?"-"+O:""),ue=typeof G=="number"?G:{top:0,right:0,bottom:0,left:0,...G},xe=Array.isArray(U)?U:[U],Ae=xe.length>0,he={padding:ue,boundary:xe.filter(isNotNull),altBoundary:Ae},{refs:Se,floatingStyles:Pe,placement:oe,isPositioned:de,middlewareData:ye}=useFloating({strategy:"fixed",placement:ae,whileElementsMounted:(...ke)=>autoUpdate(...ke,{animationFrame:Y==="always"}),elements:{reference:J.anchor},middleware:[offset({mainAxis:P+te,alignmentAxis:z}),B&&shift({mainAxis:!0,crossAxis:!1,limiter:F==="partial"?limitShift():void 0,...he}),B&&flip({...he}),size({...he,apply:({elements:ke,rects:Ie,availableWidth:Le,availableHeight:He})=>{const{width:De,height:Ve}=Ie.reference,Ke=ke.floating.style;Ke.setProperty("--radix-popper-available-width",`${Le}px`),Ke.setProperty("--radix-popper-available-height",`${He}px`),Ke.setProperty("--radix-popper-anchor-width",`${De}px`),Ke.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),ie&&arrow({element:ie,padding:I}),transformOrigin({arrowWidth:le,arrowHeight:te}),q&&hide({strategy:"referenceHidden",...he})]}),[we,ze]=getSideAndAlignFromPlacement(oe),ce=useCallbackRef$1(W);useLayoutEffect2(()=>{de&&ce?.()},[de,ce]);const be=ye.arrow?.x,ve=ye.arrow?.y,je=ye.arrow?.centerOffset!==0,[$e,Be]=reactExports.useState();return useLayoutEffect2(()=>{ee&&Be(window.getComputedStyle(ee).zIndex)},[ee]),jsxRuntimeExports.jsx("div",{ref:Se.setFloating,"data-radix-popper-content-wrapper":"",style:{...Pe,transform:de?Pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$e,"--radix-popper-transform-origin":[ye.transformOrigin?.x,ye.transformOrigin?.y].join(" "),...ye.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:E.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:C,placedSide:we,onArrowChange:fe,arrowX:be,arrowY:ve,shouldHideArrow:je,children:jsxRuntimeExports.jsx(Primitive$3.div,{"data-side":we,"data-align":ze,...Q,ref:se,style:{...Q.style,animation:de?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$1;var ARROW_NAME$1="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function E(_,C){const{__scopePopper:A,...P}=_,O=useContentContext(ARROW_NAME$1,A),z=OPPOSITE_SIDE[O.placedSide];return jsxRuntimeExports.jsx("span",{ref:O.onArrowChange,style:{position:"absolute",left:O.arrowX,top:O.arrowY,[z]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[O.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[O.placedSide],visibility:O.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root,{...P,ref:C,style:{...P.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$1;function isNotNull(E){return E!==null}var transformOrigin=E=>({name:"transformOrigin",options:E,fn(_){const{placement:C,rects:A,middlewareData:P}=_,z=P.arrow?.centerOffset!==0,I=z?0:E.arrowWidth,B=z?0:E.arrowHeight,[U,G]=getSideAndAlignFromPlacement(C),F={start:"0%",center:"50%",end:"100%"}[G],q=(P.arrow?.x??0)+I/2,Y=(P.arrow?.y??0)+B/2;let W="",Q="";return U==="bottom"?(W=z?F:`${q}px`,Q=`${-B}px`):U==="top"?(W=z?F:`${q}px`,Q=`${A.floating.height+B}px`):U==="right"?(W=`${-B}px`,Q=z?F:`${Y}px`):U==="left"&&(W=`${A.floating.width+B}px`,Q=z?F:`${Y}px`),{data:{x:W,y:Q}}}});function getSideAndAlignFromPlacement(E){const[_,C="center"]=E.split("-");return[_,C]}var Root2$1=Popper,Anchor=PopperAnchor,Content=PopperContent,Arrow=PopperArrow,PORTAL_NAME$1="Portal",Portal$1=reactExports.forwardRef((E,_)=>{const{container:C,...A}=E,[P,O]=reactExports.useState(!1);useLayoutEffect2(()=>O(!0),[]);const z=C||P&&globalThis?.document?.body;return z?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$3.div,{...A,ref:_}),z):null});Portal$1.displayName=PORTAL_NAME$1;function createSlot(E){const _=createSlotClone(E),C=reactExports.forwardRef((A,P)=>{const{children:O,...z}=A,I=reactExports.Children.toArray(O),B=I.find(isSlottable);if(B){const U=B.props.children,G=I.map(F=>F===B?reactExports.Children.count(U)>1?reactExports.Children.only(null):reactExports.isValidElement(U)?U.props.children:null:F);return jsxRuntimeExports.jsx(_,{...z,ref:P,children:reactExports.isValidElement(U)?reactExports.cloneElement(U,void 0,G):null})}return jsxRuntimeExports.jsx(_,{...z,ref:P,children:O})});return C.displayName=`${E}.Slot`,C}function createSlotClone(E){const _=reactExports.forwardRef((C,A)=>{const{children:P,...O}=C;if(reactExports.isValidElement(P)){const z=getElementRef(P),I=mergeProps(O,P.props);return P.type!==reactExports.Fragment&&(I.ref=A?composeRefs(A,z):z),reactExports.cloneElement(P,I)}return reactExports.Children.count(P)>1?reactExports.Children.only(null):null});return _.displayName=`${E}.SlotClone`,_}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(E){return reactExports.isValidElement(E)&&typeof E.type=="function"&&"__radixId"in E.type&&E.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(E,_){const C={..._};for(const A in _){const P=E[A],O=_[A];/^on[A-Z]/.test(A)?P&&O?C[A]=(...I)=>{const B=O(...I);return P(...I),B}:P&&(C[A]=P):A==="style"?C[A]={...P,...O}:A==="className"&&(C[A]=[P,O].filter(Boolean).join(" "))}return{...E,...C}}function getElementRef(E){let _=Object.getOwnPropertyDescriptor(E.props,"ref")?.get,C=_&&"isReactWarning"in _&&_.isReactWarning;return C?E.ref:(_=Object.getOwnPropertyDescriptor(E,"ref")?.get,C=_&&"isReactWarning"in _&&_.isReactWarning,C?E.props.ref:E.props.ref||E.ref)}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((E,_)=>jsxRuntimeExports.jsx(Primitive$3.span,{...E,ref:_,style:{...VISUALLY_HIDDEN_STYLES,...E.style}}));VisuallyHidden.displayName=NAME;var getDefaultParent=function(E){if(typeof document>"u")return null;var _=Array.isArray(E)?E[0]:E;return _.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(E){return E&&(E.host||unwrapHost(E.parentNode))},correctTargets=function(E,_){return _.map(function(C){if(E.contains(C))return C;var A=unwrapHost(C);return A&&E.contains(A)?A:(console.error("aria-hidden",C,"in not contained inside",E,". Doing nothing"),null)}).filter(function(C){return!!C})},applyAttributeToOthers=function(E,_,C,A){var P=correctTargets(_,Array.isArray(E)?E:[E]);markerMap[C]||(markerMap[C]=new WeakMap);var O=markerMap[C],z=[],I=new Set,B=new Set(P),U=function(F){!F||I.has(F)||(I.add(F),U(F.parentNode))};P.forEach(U);var G=function(F){!F||B.has(F)||Array.prototype.forEach.call(F.children,function(q){if(I.has(q))G(q);else try{var Y=q.getAttribute(A),W=Y!==null&&Y!=="false",Q=(counterMap.get(q)||0)+1,J=(O.get(q)||0)+1;counterMap.set(q,Q),O.set(q,J),z.push(q),Q===1&&W&&uncontrolledNodes.set(q,!0),J===1&&q.setAttribute(C,"true"),W||q.setAttribute(A,"true")}catch(ee){console.error("aria-hidden: cannot operate on ",q,ee)}})};return G(_),I.clear(),lockCount++,function(){z.forEach(function(F){var q=counterMap.get(F)-1,Y=O.get(F)-1;counterMap.set(F,q),O.set(F,Y),q||(uncontrolledNodes.has(F)||F.removeAttribute(A),uncontrolledNodes.delete(F)),Y||F.removeAttribute(C)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(E,_,C){C===void 0&&(C="data-aria-hidden");var A=Array.from(Array.isArray(E)?E:[E]),P=getDefaultParent(E);return P?(A.push.apply(A,Array.from(P.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(A,P,C,"aria-hidden")):function(){return null}},__assign=function(){return __assign=Object.assign||function(_){for(var C,A=1,P=arguments.length;A<P;A++){C=arguments[A];for(var O in C)Object.prototype.hasOwnProperty.call(C,O)&&(_[O]=C[O])}return _},__assign.apply(this,arguments)};function __rest(E,_){var C={};for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&_.indexOf(A)<0&&(C[A]=E[A]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,A=Object.getOwnPropertySymbols(E);P<A.length;P++)_.indexOf(A[P])<0&&Object.prototype.propertyIsEnumerable.call(E,A[P])&&(C[A[P]]=E[A[P]]);return C}function __spreadArray(E,_,C){if(C||arguments.length===2)for(var A=0,P=_.length,O;A<P;A++)(O||!(A in _))&&(O||(O=Array.prototype.slice.call(_,0,A)),O[A]=_[A]);return E.concat(O||Array.prototype.slice.call(_))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(E,_){return typeof E=="function"?E(_):E&&(E.current=_),E}function useCallbackRef(E,_){var C=reactExports.useState(function(){return{value:E,callback:_,facade:{get current(){return C.value},set current(A){var P=C.value;P!==A&&(C.value=A,C.callback(A,P))}}}})[0];return C.callback=_,C.facade}var useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(E,_){var C=useCallbackRef(null,function(A){return E.forEach(function(P){return assignRef(P,A)})});return useIsomorphicLayoutEffect(function(){var A=currentValues.get(C);if(A){var P=new Set(A),O=new Set(E),z=C.current;P.forEach(function(I){O.has(I)||assignRef(I,null)}),O.forEach(function(I){P.has(I)||assignRef(I,z)})}currentValues.set(C,E)},[E]),C}function ItoI(E){return E}function innerCreateMedium(E,_){_===void 0&&(_=ItoI);var C=[],A=!1,P={read:function(){if(A)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return C.length?C[C.length-1]:E},useMedium:function(O){var z=_(O,A);return C.push(z),function(){C=C.filter(function(I){return I!==z})}},assignSyncMedium:function(O){for(A=!0;C.length;){var z=C;C=[],z.forEach(O)}C={push:function(I){return O(I)},filter:function(){return C}}},assignMedium:function(O){A=!0;var z=[];if(C.length){var I=C;C=[],I.forEach(O),z=C}var B=function(){var G=z;z=[],G.forEach(O)},U=function(){return Promise.resolve().then(B)};U(),C={push:function(G){z.push(G),U()},filter:function(G){return z=z.filter(G),C}}}};return P}function createSidecarMedium(E){E===void 0&&(E={});var _=innerCreateMedium(null);return _.options=__assign({async:!0,ssr:!1},E),_}var SideCar$1=function(E){var _=E.sideCar,C=__rest(E,["sideCar"]);if(!_)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var A=_.read();if(!A)throw new Error("Sidecar medium not found");return reactExports.createElement(A,__assign({},C))};SideCar$1.isSideCarExport=!0;function exportSidecar(E,_){return E.useMedium(_),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(E,_){var C=reactExports.useRef(null),A=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),P=A[0],O=A[1],z=E.forwardProps,I=E.children,B=E.className,U=E.removeScrollBar,G=E.enabled,F=E.shards,q=E.sideCar,Y=E.noRelative,W=E.noIsolation,Q=E.inert,J=E.allowPinchZoom,ee=E.as,ne=ee===void 0?"div":ee,se=E.gapMode,ie=__rest(E,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),fe=q,me=useMergeRefs([C,_]),le=__assign(__assign({},ie),P);return reactExports.createElement(reactExports.Fragment,null,G&&reactExports.createElement(fe,{sideCar:effectCar,removeScrollBar:U,shards:F,noRelative:Y,noIsolation:W,inert:Q,setCallbacks:O,allowPinchZoom:!!J,lockRef:C,gapMode:se}),z?reactExports.cloneElement(reactExports.Children.only(I),__assign(__assign({},le),{ref:me})):reactExports.createElement(ne,__assign({},le,{className:B,ref:me}),I))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var E=document.createElement("style");E.type="text/css";var _=getNonce();return _&&E.setAttribute("nonce",_),E}function injectStyles(E,_){E.styleSheet?E.styleSheet.cssText=_:E.appendChild(document.createTextNode(_))}function insertStyleTag(E){var _=document.head||document.getElementsByTagName("head")[0];_.appendChild(E)}var stylesheetSingleton=function(){var E=0,_=null;return{add:function(C){E==0&&(_=makeStyleTag())&&(injectStyles(_,C),insertStyleTag(_)),E++},remove:function(){E--,!E&&_&&(_.parentNode&&_.parentNode.removeChild(_),_=null)}}},styleHookSingleton=function(){var E=stylesheetSingleton();return function(_,C){reactExports.useEffect(function(){return E.add(_),function(){E.remove()}},[_&&C])}},styleSingleton=function(){var E=styleHookSingleton(),_=function(C){var A=C.styles,P=C.dynamic;return E(A,P),null};return _},zeroGap={left:0,top:0,right:0,gap:0},parse=function(E){return parseInt(E||"",10)||0},getOffset=function(E){var _=window.getComputedStyle(document.body),C=_[E==="padding"?"paddingLeft":"marginLeft"],A=_[E==="padding"?"paddingTop":"marginTop"],P=_[E==="padding"?"paddingRight":"marginRight"];return[parse(C),parse(A),parse(P)]},getGapWidth=function(E){if(E===void 0&&(E="margin"),typeof window>"u")return zeroGap;var _=getOffset(E),C=document.documentElement.clientWidth,A=window.innerWidth;return{left:_[0],top:_[1],right:_[2],gap:Math.max(0,A-C+_[2]-_[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(E,_,C,A){var P=E.left,O=E.top,z=E.right,I=E.gap;return C===void 0&&(C="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(A,`;
   padding-right: `).concat(I,"px ").concat(A,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(A,`;
    overscroll-behavior: contain;
    `).concat([_&&"position: relative ".concat(A,";"),C==="margin"&&`
    padding-left: `.concat(P,`px;
    padding-top: `).concat(O,`px;
    padding-right: `).concat(z,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(I,"px ").concat(A,`;
    `),C==="padding"&&"padding-right: ".concat(I,"px ").concat(A,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(I,"px ").concat(A,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(I,"px ").concat(A,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(A,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(A,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(I,`px;
  }
`)},getCurrentUseCounter=function(){var E=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(E)?E:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var E=getCurrentUseCounter()-1;E<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,E.toString())}},[])},RemoveScrollBar=function(E){var _=E.noRelative,C=E.noImportant,A=E.gapMode,P=A===void 0?"margin":A;useLockAttribute();var O=reactExports.useMemo(function(){return getGapWidth(P)},[P]);return reactExports.createElement(Style,{styles:getStyles(O,!_,P,C?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(E){return E.tagName==="TEXTAREA"},elementCanBeScrolled=function(E,_){if(!(E instanceof Element))return!1;var C=window.getComputedStyle(E);return C[_]!=="hidden"&&!(C.overflowY===C.overflowX&&!alwaysContainsScroll(E)&&C[_]==="visible")},elementCouldBeVScrolled=function(E){return elementCanBeScrolled(E,"overflowY")},elementCouldBeHScrolled=function(E){return elementCanBeScrolled(E,"overflowX")},locationCouldBeScrolled=function(E,_){var C=_.ownerDocument,A=_;do{typeof ShadowRoot<"u"&&A instanceof ShadowRoot&&(A=A.host);var P=elementCouldBeScrolled(E,A);if(P){var O=getScrollVariables(E,A),z=O[1],I=O[2];if(z>I)return!0}A=A.parentNode}while(A&&A!==C.body);return!1},getVScrollVariables=function(E){var _=E.scrollTop,C=E.scrollHeight,A=E.clientHeight;return[_,C,A]},getHScrollVariables=function(E){var _=E.scrollLeft,C=E.scrollWidth,A=E.clientWidth;return[_,C,A]},elementCouldBeScrolled=function(E,_){return E==="v"?elementCouldBeVScrolled(_):elementCouldBeHScrolled(_)},getScrollVariables=function(E,_){return E==="v"?getVScrollVariables(_):getHScrollVariables(_)},getDirectionFactor=function(E,_){return E==="h"&&_==="rtl"?-1:1},handleScroll=function(E,_,C,A,P){var O=getDirectionFactor(E,window.getComputedStyle(_).direction),z=O*A,I=C.target,B=_.contains(I),U=!1,G=z>0,F=0,q=0;do{if(!I)break;var Y=getScrollVariables(E,I),W=Y[0],Q=Y[1],J=Y[2],ee=Q-J-O*W;(W||ee)&&elementCouldBeScrolled(E,I)&&(F+=ee,q+=W);var ne=I.parentNode;I=ne&&ne.nodeType===Node.DOCUMENT_FRAGMENT_NODE?ne.host:ne}while(!B&&I!==document.body||B&&(_.contains(I)||_===I));return(G&&Math.abs(F)<1||!G&&Math.abs(q)<1)&&(U=!0),U},getTouchXY=function(E){return"changedTouches"in E?[E.changedTouches[0].clientX,E.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(E){return[E.deltaX,E.deltaY]},extractRef=function(E){return E&&"current"in E?E.current:E},deltaCompare=function(E,_){return E[0]===_[0]&&E[1]===_[1]},generateStyle=function(E){return`
  .block-interactivity-`.concat(E,` {pointer-events: none;}
  .allow-interactivity-`).concat(E,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(E){var _=reactExports.useRef([]),C=reactExports.useRef([0,0]),A=reactExports.useRef(),P=reactExports.useState(idCounter++)[0],O=reactExports.useState(styleSingleton)[0],z=reactExports.useRef(E);reactExports.useEffect(function(){z.current=E},[E]),reactExports.useEffect(function(){if(E.inert){document.body.classList.add("block-interactivity-".concat(P));var Q=__spreadArray([E.lockRef.current],(E.shards||[]).map(extractRef),!0).filter(Boolean);return Q.forEach(function(J){return J.classList.add("allow-interactivity-".concat(P))}),function(){document.body.classList.remove("block-interactivity-".concat(P)),Q.forEach(function(J){return J.classList.remove("allow-interactivity-".concat(P))})}}},[E.inert,E.lockRef.current,E.shards]);var I=reactExports.useCallback(function(Q,J){if("touches"in Q&&Q.touches.length===2||Q.type==="wheel"&&Q.ctrlKey)return!z.current.allowPinchZoom;var ee=getTouchXY(Q),ne=C.current,se="deltaX"in Q?Q.deltaX:ne[0]-ee[0],ie="deltaY"in Q?Q.deltaY:ne[1]-ee[1],fe,me=Q.target,le=Math.abs(se)>Math.abs(ie)?"h":"v";if("touches"in Q&&le==="h"&&me.type==="range")return!1;var te=window.getSelection(),ae=te&&te.anchorNode,ue=ae?ae===me||ae.contains(me):!1;if(ue)return!1;var xe=locationCouldBeScrolled(le,me);if(!xe)return!0;if(xe?fe=le:(fe=le==="v"?"h":"v",xe=locationCouldBeScrolled(le,me)),!xe)return!1;if(!A.current&&"changedTouches"in Q&&(se||ie)&&(A.current=fe),!fe)return!0;var Ae=A.current||fe;return handleScroll(Ae,J,Q,Ae==="h"?se:ie)},[]),B=reactExports.useCallback(function(Q){var J=Q;if(!(!lockStack.length||lockStack[lockStack.length-1]!==O)){var ee="deltaY"in J?getDeltaXY(J):getTouchXY(J),ne=_.current.filter(function(fe){return fe.name===J.type&&(fe.target===J.target||J.target===fe.shadowParent)&&deltaCompare(fe.delta,ee)})[0];if(ne&&ne.should){J.cancelable&&J.preventDefault();return}if(!ne){var se=(z.current.shards||[]).map(extractRef).filter(Boolean).filter(function(fe){return fe.contains(J.target)}),ie=se.length>0?I(J,se[0]):!z.current.noIsolation;ie&&J.cancelable&&J.preventDefault()}}},[]),U=reactExports.useCallback(function(Q,J,ee,ne){var se={name:Q,delta:J,target:ee,should:ne,shadowParent:getOutermostShadowParent(ee)};_.current.push(se),setTimeout(function(){_.current=_.current.filter(function(ie){return ie!==se})},1)},[]),G=reactExports.useCallback(function(Q){C.current=getTouchXY(Q),A.current=void 0},[]),F=reactExports.useCallback(function(Q){U(Q.type,getDeltaXY(Q),Q.target,I(Q,E.lockRef.current))},[]),q=reactExports.useCallback(function(Q){U(Q.type,getTouchXY(Q),Q.target,I(Q,E.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(O),E.setCallbacks({onScrollCapture:F,onWheelCapture:F,onTouchMoveCapture:q}),document.addEventListener("wheel",B,nonPassive),document.addEventListener("touchmove",B,nonPassive),document.addEventListener("touchstart",G,nonPassive),function(){lockStack=lockStack.filter(function(Q){return Q!==O}),document.removeEventListener("wheel",B,nonPassive),document.removeEventListener("touchmove",B,nonPassive),document.removeEventListener("touchstart",G,nonPassive)}},[]);var Y=E.removeScrollBar,W=E.inert;return reactExports.createElement(reactExports.Fragment,null,W?reactExports.createElement(O,{styles:generateStyle(P)}):null,Y?reactExports.createElement(RemoveScrollBar,{noRelative:E.noRelative,gapMode:E.gapMode}):null)}function getOutermostShadowParent(E){for(var _=null;E!==null;)E instanceof ShadowRoot&&(_=E.host,E=E.host),E=E.parentNode;return _}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(E,_){return reactExports.createElement(RemoveScroll,__assign({},E,{ref:_,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection,useCollection,createCollectionScope]=createCollection(SELECT_NAME),[createSelectContext]=createContextScope$1(SELECT_NAME,[createCollectionScope,createPopperScope]),usePopperScope=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=E=>{const{__scopeSelect:_,children:C,open:A,defaultOpen:P,onOpenChange:O,value:z,defaultValue:I,onValueChange:B,dir:U,name:G,autoComplete:F,disabled:q,required:Y,form:W}=E,Q=usePopperScope(_),[J,ee]=reactExports.useState(null),[ne,se]=reactExports.useState(null),[ie,fe]=reactExports.useState(!1),me=useDirection(U),[le,te]=useControllableState({prop:A,defaultProp:P??!1,onChange:O,caller:SELECT_NAME}),[ae,ue]=useControllableState({prop:z,defaultProp:I,onChange:B,caller:SELECT_NAME}),xe=reactExports.useRef(null),Ae=J?W||!!J.closest("form"):!0,[he,Se]=reactExports.useState(new Set),Pe=Array.from(he).map(oe=>oe.props.value).join(";");return jsxRuntimeExports.jsx(Root2$1,{...Q,children:jsxRuntimeExports.jsxs(SelectProvider,{required:Y,scope:_,trigger:J,onTriggerChange:ee,valueNode:ne,onValueNodeChange:se,valueNodeHasChildren:ie,onValueNodeHasChildrenChange:fe,contentId:useId(),value:ae,onValueChange:ue,open:le,onOpenChange:te,dir:me,triggerPointerDownPosRef:xe,disabled:q,children:[jsxRuntimeExports.jsx(Collection.Provider,{scope:_,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:E.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(oe=>{Se(de=>new Set(de).add(oe))},[]),onNativeOptionRemove:reactExports.useCallback(oe=>{Se(de=>{const ye=new Set(de);return ye.delete(oe),ye})},[]),children:C})}),Ae?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:Y,tabIndex:-1,name:G,autoComplete:F,value:ae,onChange:oe=>ue(oe.target.value),disabled:q,form:W,children:[ae===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(he)]},Pe):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((E,_)=>{const{__scopeSelect:C,disabled:A=!1,...P}=E,O=usePopperScope(C),z=useSelectContext(TRIGGER_NAME,C),I=z.disabled||A,B=useComposedRefs(_,z.onTriggerChange),U=useCollection(C),G=reactExports.useRef("touch"),[F,q,Y]=useTypeaheadSearch(Q=>{const J=U().filter(se=>!se.disabled),ee=J.find(se=>se.value===z.value),ne=findNextItem(J,Q,ee);ne!==void 0&&z.onValueChange(ne.value)}),W=Q=>{I||(z.onOpenChange(!0),Y()),Q&&(z.triggerPointerDownPosRef.current={x:Math.round(Q.pageX),y:Math.round(Q.pageY)})};return jsxRuntimeExports.jsx(Anchor,{asChild:!0,...O,children:jsxRuntimeExports.jsx(Primitive$3.button,{type:"button",role:"combobox","aria-controls":z.contentId,"aria-expanded":z.open,"aria-required":z.required,"aria-autocomplete":"none",dir:z.dir,"data-state":z.open?"open":"closed",disabled:I,"data-disabled":I?"":void 0,"data-placeholder":shouldShowPlaceholder(z.value)?"":void 0,...P,ref:B,onClick:composeEventHandlers(P.onClick,Q=>{Q.currentTarget.focus(),G.current!=="mouse"&&W(Q)}),onPointerDown:composeEventHandlers(P.onPointerDown,Q=>{G.current=Q.pointerType;const J=Q.target;J.hasPointerCapture(Q.pointerId)&&J.releasePointerCapture(Q.pointerId),Q.button===0&&Q.ctrlKey===!1&&Q.pointerType==="mouse"&&(W(Q),Q.preventDefault())}),onKeyDown:composeEventHandlers(P.onKeyDown,Q=>{const J=F.current!=="";!(Q.ctrlKey||Q.altKey||Q.metaKey)&&Q.key.length===1&&q(Q.key),!(J&&Q.key===" ")&&OPEN_KEYS.includes(Q.key)&&(W(),Q.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((E,_)=>{const{__scopeSelect:C,className:A,style:P,children:O,placeholder:z="",...I}=E,B=useSelectContext(VALUE_NAME,C),{onValueNodeHasChildrenChange:U}=B,G=O!==void 0,F=useComposedRefs(_,B.onValueNodeChange);return useLayoutEffect2(()=>{U(G)},[U,G]),jsxRuntimeExports.jsx(Primitive$3.span,{...I,ref:F,style:{pointerEvents:"none"},children:shouldShowPlaceholder(B.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:z}):O})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((E,_)=>{const{__scopeSelect:C,children:A,...P}=E;return jsxRuntimeExports.jsx(Primitive$3.span,{"aria-hidden":!0,...P,ref:_,children:A||""})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME="SelectPortal",SelectPortal=E=>jsxRuntimeExports.jsx(Portal$1,{asChild:!0,...E});SelectPortal.displayName=PORTAL_NAME;var CONTENT_NAME="SelectContent",SelectContent$1=reactExports.forwardRef((E,_)=>{const C=useSelectContext(CONTENT_NAME,E.__scopeSelect),[A,P]=reactExports.useState();if(useLayoutEffect2(()=>{P(new DocumentFragment)},[]),!C.open){const O=A;return O?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:E.__scopeSelect,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:E.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:E.children})})}),O):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...E,ref:_})});SelectContent$1.displayName=CONTENT_NAME;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME),CONTENT_IMPL_NAME="SelectContentImpl",Slot=createSlot("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((E,_)=>{const{__scopeSelect:C,position:A="item-aligned",onCloseAutoFocus:P,onEscapeKeyDown:O,onPointerDownOutside:z,side:I,sideOffset:B,align:U,alignOffset:G,arrowPadding:F,collisionBoundary:q,collisionPadding:Y,sticky:W,hideWhenDetached:Q,avoidCollisions:J,...ee}=E,ne=useSelectContext(CONTENT_NAME,C),[se,ie]=reactExports.useState(null),[fe,me]=reactExports.useState(null),le=useComposedRefs(_,ke=>ie(ke)),[te,ae]=reactExports.useState(null),[ue,xe]=reactExports.useState(null),Ae=useCollection(C),[he,Se]=reactExports.useState(!1),Pe=reactExports.useRef(!1);reactExports.useEffect(()=>{if(se)return hideOthers(se)},[se]),useFocusGuards();const oe=reactExports.useCallback(ke=>{const[Ie,...Le]=Ae().map(Ve=>Ve.ref.current),[He]=Le.slice(-1),De=document.activeElement;for(const Ve of ke)if(Ve===De||(Ve?.scrollIntoView({block:"nearest"}),Ve===Ie&&fe&&(fe.scrollTop=0),Ve===He&&fe&&(fe.scrollTop=fe.scrollHeight),Ve?.focus(),document.activeElement!==De))return},[Ae,fe]),de=reactExports.useCallback(()=>oe([te,se]),[oe,te,se]);reactExports.useEffect(()=>{he&&de()},[he,de]);const{onOpenChange:ye,triggerPointerDownPosRef:we}=ne;reactExports.useEffect(()=>{if(se){let ke={x:0,y:0};const Ie=He=>{ke={x:Math.abs(Math.round(He.pageX)-(we.current?.x??0)),y:Math.abs(Math.round(He.pageY)-(we.current?.y??0))}},Le=He=>{ke.x<=10&&ke.y<=10?He.preventDefault():se.contains(He.target)||ye(!1),document.removeEventListener("pointermove",Ie),we.current=null};return we.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",Le,{capture:!0})}}},[se,ye,we]),reactExports.useEffect(()=>{const ke=()=>ye(!1);return window.addEventListener("blur",ke),window.addEventListener("resize",ke),()=>{window.removeEventListener("blur",ke),window.removeEventListener("resize",ke)}},[ye]);const[ze,ce]=useTypeaheadSearch(ke=>{const Ie=Ae().filter(De=>!De.disabled),Le=Ie.find(De=>De.ref.current===document.activeElement),He=findNextItem(Ie,ke,Le);He&&setTimeout(()=>He.ref.current.focus())}),be=reactExports.useCallback((ke,Ie,Le)=>{const He=!Pe.current&&!Le;(ne.value!==void 0&&ne.value===Ie||He)&&(ae(ke),He&&(Pe.current=!0))},[ne.value]),ve=reactExports.useCallback(()=>se?.focus(),[se]),je=reactExports.useCallback((ke,Ie,Le)=>{const He=!Pe.current&&!Le;(ne.value!==void 0&&ne.value===Ie||He)&&xe(ke)},[ne.value]),$e=A==="popper"?SelectPopperPosition:SelectItemAlignedPosition,Be=$e===SelectPopperPosition?{side:I,sideOffset:B,align:U,alignOffset:G,arrowPadding:F,collisionBoundary:q,collisionPadding:Y,sticky:W,hideWhenDetached:Q,avoidCollisions:J}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:C,content:se,viewport:fe,onViewportChange:me,itemRefCallback:be,selectedItem:te,onItemLeave:ve,itemTextRefCallback:je,focusSelectedItem:de,selectedItemText:ue,position:A,isPositioned:he,searchRef:ze,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:ne.open,onMountAutoFocus:ke=>{ke.preventDefault()},onUnmountAutoFocus:composeEventHandlers(P,ke=>{ne.trigger?.focus({preventScroll:!0}),ke.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:O,onPointerDownOutside:z,onFocusOutside:ke=>ke.preventDefault(),onDismiss:()=>ne.onOpenChange(!1),children:jsxRuntimeExports.jsx($e,{role:"listbox",id:ne.contentId,"data-state":ne.open?"open":"closed",dir:ne.dir,onContextMenu:ke=>ke.preventDefault(),...ee,...Be,onPlaced:()=>Se(!0),ref:le,style:{display:"flex",flexDirection:"column",outline:"none",...ee.style},onKeyDown:composeEventHandlers(ee.onKeyDown,ke=>{const Ie=ke.ctrlKey||ke.altKey||ke.metaKey;if(ke.key==="Tab"&&ke.preventDefault(),!Ie&&ke.key.length===1&&ce(ke.key),["ArrowUp","ArrowDown","Home","End"].includes(ke.key)){let He=Ae().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(ke.key)&&(He=He.slice().reverse()),["ArrowUp","ArrowDown"].includes(ke.key)){const De=ke.target,Ve=He.indexOf(De);He=He.slice(Ve+1)}setTimeout(()=>oe(He)),ke.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((E,_)=>{const{__scopeSelect:C,onPlaced:A,...P}=E,O=useSelectContext(CONTENT_NAME,C),z=useSelectContentContext(CONTENT_NAME,C),[I,B]=reactExports.useState(null),[U,G]=reactExports.useState(null),F=useComposedRefs(_,le=>G(le)),q=useCollection(C),Y=reactExports.useRef(!1),W=reactExports.useRef(!0),{viewport:Q,selectedItem:J,selectedItemText:ee,focusSelectedItem:ne}=z,se=reactExports.useCallback(()=>{if(O.trigger&&O.valueNode&&I&&U&&Q&&J&&ee){const le=O.trigger.getBoundingClientRect(),te=U.getBoundingClientRect(),ae=O.valueNode.getBoundingClientRect(),ue=ee.getBoundingClientRect();if(O.dir!=="rtl"){const De=ue.left-te.left,Ve=ae.left-De,Ke=le.left-Ve,qe=le.width+Ke,Qe=Math.max(qe,te.width),Xe=window.innerWidth-CONTENT_MARGIN,At=clamp$1(Ve,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,Xe-Qe)]);I.style.minWidth=qe+"px",I.style.left=At+"px"}else{const De=te.right-ue.right,Ve=window.innerWidth-ae.right-De,Ke=window.innerWidth-le.right-Ve,qe=le.width+Ke,Qe=Math.max(qe,te.width),Xe=window.innerWidth-CONTENT_MARGIN,At=clamp$1(Ve,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,Xe-Qe)]);I.style.minWidth=qe+"px",I.style.right=At+"px"}const xe=q(),Ae=window.innerHeight-CONTENT_MARGIN*2,he=Q.scrollHeight,Se=window.getComputedStyle(U),Pe=parseInt(Se.borderTopWidth,10),oe=parseInt(Se.paddingTop,10),de=parseInt(Se.borderBottomWidth,10),ye=parseInt(Se.paddingBottom,10),we=Pe+oe+he+ye+de,ze=Math.min(J.offsetHeight*5,we),ce=window.getComputedStyle(Q),be=parseInt(ce.paddingTop,10),ve=parseInt(ce.paddingBottom,10),je=le.top+le.height/2-CONTENT_MARGIN,$e=Ae-je,Be=J.offsetHeight/2,ke=J.offsetTop+Be,Ie=Pe+oe+ke,Le=we-Ie;if(Ie<=je){const De=xe.length>0&&J===xe[xe.length-1].ref.current;I.style.bottom="0px";const Ve=U.clientHeight-Q.offsetTop-Q.offsetHeight,Ke=Math.max($e,Be+(De?ve:0)+Ve+de),qe=Ie+Ke;I.style.height=qe+"px"}else{const De=xe.length>0&&J===xe[0].ref.current;I.style.top="0px";const Ke=Math.max(je,Pe+Q.offsetTop+(De?be:0)+Be)+Le;I.style.height=Ke+"px",Q.scrollTop=Ie-je+Q.offsetTop}I.style.margin=`${CONTENT_MARGIN}px 0`,I.style.minHeight=ze+"px",I.style.maxHeight=Ae+"px",A?.(),requestAnimationFrame(()=>Y.current=!0)}},[q,O.trigger,O.valueNode,I,U,Q,J,ee,O.dir,A]);useLayoutEffect2(()=>se(),[se]);const[ie,fe]=reactExports.useState();useLayoutEffect2(()=>{U&&fe(window.getComputedStyle(U).zIndex)},[U]);const me=reactExports.useCallback(le=>{le&&W.current===!0&&(se(),ne?.(),W.current=!1)},[se,ne]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:C,contentWrapper:I,shouldExpandOnScrollRef:Y,onScrollButtonChange:me,children:jsxRuntimeExports.jsx("div",{ref:B,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:ie},children:jsxRuntimeExports.jsx(Primitive$3.div,{...P,ref:F,style:{boxSizing:"border-box",maxHeight:"100%",...P.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((E,_)=>{const{__scopeSelect:C,align:A="start",collisionPadding:P=CONTENT_MARGIN,...O}=E,z=usePopperScope(C);return jsxRuntimeExports.jsx(Content,{...z,...O,ref:_,align:A,collisionPadding:P,style:{boxSizing:"border-box",...O.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME,{}),VIEWPORT_NAME="SelectViewport",SelectViewport=reactExports.forwardRef((E,_)=>{const{__scopeSelect:C,nonce:A,...P}=E,O=useSelectContentContext(VIEWPORT_NAME,C),z=useSelectViewportContext(VIEWPORT_NAME,C),I=useComposedRefs(_,O.onViewportChange),B=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:A}),jsxRuntimeExports.jsx(Collection.Slot,{scope:C,children:jsxRuntimeExports.jsx(Primitive$3.div,{"data-radix-select-viewport":"",role:"presentation",...P,ref:I,style:{position:"relative",flex:1,overflow:"hidden auto",...P.style},onScroll:composeEventHandlers(P.onScroll,U=>{const G=U.currentTarget,{contentWrapper:F,shouldExpandOnScrollRef:q}=z;if(q?.current&&F){const Y=Math.abs(B.current-G.scrollTop);if(Y>0){const W=window.innerHeight-CONTENT_MARGIN*2,Q=parseFloat(F.style.minHeight),J=parseFloat(F.style.height),ee=Math.max(Q,J);if(ee<W){const ne=ee+Y,se=Math.min(W,ne),ie=ne-se;F.style.height=se+"px",F.style.bottom==="0px"&&(G.scrollTop=ie>0?ie:0,F.style.justifyContent="flex-end")}}}B.current=G.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME;var GROUP_NAME="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME),SelectGroup=reactExports.forwardRef((E,_)=>{const{__scopeSelect:C,...A}=E,P=useId();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:C,id:P,children:jsxRuntimeExports.jsx(Primitive$3.div,{role:"group","aria-labelledby":P,...A,ref:_})})});SelectGroup.displayName=GROUP_NAME;var LABEL_NAME="SelectLabel",SelectLabel$1=reactExports.forwardRef((E,_)=>{const{__scopeSelect:C,...A}=E,P=useSelectGroupContext(LABEL_NAME,C);return jsxRuntimeExports.jsx(Primitive$3.div,{id:P.id,...A,ref:_})});SelectLabel$1.displayName=LABEL_NAME;var ITEM_NAME="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME),SelectItem$1=reactExports.forwardRef((E,_)=>{const{__scopeSelect:C,value:A,disabled:P=!1,textValue:O,...z}=E,I=useSelectContext(ITEM_NAME,C),B=useSelectContentContext(ITEM_NAME,C),U=I.value===A,[G,F]=reactExports.useState(O??""),[q,Y]=reactExports.useState(!1),W=useComposedRefs(_,ne=>B.itemRefCallback?.(ne,A,P)),Q=useId(),J=reactExports.useRef("touch"),ee=()=>{P||(I.onValueChange(A),I.onOpenChange(!1))};if(A==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:C,value:A,disabled:P,textId:Q,isSelected:U,onItemTextChange:reactExports.useCallback(ne=>{F(se=>se||(ne?.textContent??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:C,value:A,disabled:P,textValue:G,children:jsxRuntimeExports.jsx(Primitive$3.div,{role:"option","aria-labelledby":Q,"data-highlighted":q?"":void 0,"aria-selected":U&&q,"data-state":U?"checked":"unchecked","aria-disabled":P||void 0,"data-disabled":P?"":void 0,tabIndex:P?void 0:-1,...z,ref:W,onFocus:composeEventHandlers(z.onFocus,()=>Y(!0)),onBlur:composeEventHandlers(z.onBlur,()=>Y(!1)),onClick:composeEventHandlers(z.onClick,()=>{J.current!=="mouse"&&ee()}),onPointerUp:composeEventHandlers(z.onPointerUp,()=>{J.current==="mouse"&&ee()}),onPointerDown:composeEventHandlers(z.onPointerDown,ne=>{J.current=ne.pointerType}),onPointerMove:composeEventHandlers(z.onPointerMove,ne=>{J.current=ne.pointerType,P?B.onItemLeave?.():J.current==="mouse"&&ne.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(z.onPointerLeave,ne=>{ne.currentTarget===document.activeElement&&B.onItemLeave?.()}),onKeyDown:composeEventHandlers(z.onKeyDown,ne=>{B.searchRef?.current!==""&&ne.key===" "||(SELECTION_KEYS.includes(ne.key)&&ee(),ne.key===" "&&ne.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((E,_)=>{const{__scopeSelect:C,className:A,style:P,...O}=E,z=useSelectContext(ITEM_TEXT_NAME,C),I=useSelectContentContext(ITEM_TEXT_NAME,C),B=useSelectItemContext(ITEM_TEXT_NAME,C),U=useSelectNativeOptionsContext(ITEM_TEXT_NAME,C),[G,F]=reactExports.useState(null),q=useComposedRefs(_,ee=>F(ee),B.onItemTextChange,ee=>I.itemTextRefCallback?.(ee,B.value,B.disabled)),Y=G?.textContent,W=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:B.value,disabled:B.disabled,children:Y},B.value),[B.disabled,B.value,Y]),{onNativeOptionAdd:Q,onNativeOptionRemove:J}=U;return useLayoutEffect2(()=>(Q(W),()=>J(W)),[Q,J,W]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive$3.span,{id:B.textId,...O,ref:q}),B.isSelected&&z.valueNode&&!z.valueNodeHasChildren?reactDomExports.createPortal(O.children,z.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((E,_)=>{const{__scopeSelect:C,...A}=E;return useSelectItemContext(ITEM_INDICATOR_NAME,C).isSelected?jsxRuntimeExports.jsx(Primitive$3.span,{"aria-hidden":!0,...A,ref:_}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((E,_)=>{const C=useSelectContentContext(SCROLL_UP_BUTTON_NAME,E.__scopeSelect),A=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,E.__scopeSelect),[P,O]=reactExports.useState(!1),z=useComposedRefs(_,A.onScrollButtonChange);return useLayoutEffect2(()=>{if(C.viewport&&C.isPositioned){let I=function(){const U=B.scrollTop>0;O(U)};const B=C.viewport;return I(),B.addEventListener("scroll",I),()=>B.removeEventListener("scroll",I)}},[C.viewport,C.isPositioned]),P?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...E,ref:z,onAutoScroll:()=>{const{viewport:I,selectedItem:B}=C;I&&B&&(I.scrollTop=I.scrollTop-B.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((E,_)=>{const C=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,E.__scopeSelect),A=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,E.__scopeSelect),[P,O]=reactExports.useState(!1),z=useComposedRefs(_,A.onScrollButtonChange);return useLayoutEffect2(()=>{if(C.viewport&&C.isPositioned){let I=function(){const U=B.scrollHeight-B.clientHeight,G=Math.ceil(B.scrollTop)<U;O(G)};const B=C.viewport;return I(),B.addEventListener("scroll",I),()=>B.removeEventListener("scroll",I)}},[C.viewport,C.isPositioned]),P?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...E,ref:z,onAutoScroll:()=>{const{viewport:I,selectedItem:B}=C;I&&B&&(I.scrollTop=I.scrollTop+B.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((E,_)=>{const{__scopeSelect:C,onAutoScroll:A,...P}=E,O=useSelectContentContext("SelectScrollButton",C),z=reactExports.useRef(null),I=useCollection(C),B=reactExports.useCallback(()=>{z.current!==null&&(window.clearInterval(z.current),z.current=null)},[]);return reactExports.useEffect(()=>()=>B(),[B]),useLayoutEffect2(()=>{I().find(G=>G.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[I]),jsxRuntimeExports.jsx(Primitive$3.div,{"aria-hidden":!0,...P,ref:_,style:{flexShrink:0,...P.style},onPointerDown:composeEventHandlers(P.onPointerDown,()=>{z.current===null&&(z.current=window.setInterval(A,50))}),onPointerMove:composeEventHandlers(P.onPointerMove,()=>{O.onItemLeave?.(),z.current===null&&(z.current=window.setInterval(A,50))}),onPointerLeave:composeEventHandlers(P.onPointerLeave,()=>{B()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator$1=reactExports.forwardRef((E,_)=>{const{__scopeSelect:C,...A}=E;return jsxRuntimeExports.jsx(Primitive$3.div,{"aria-hidden":!0,...A,ref:_})});SelectSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME="SelectArrow",SelectArrow=reactExports.forwardRef((E,_)=>{const{__scopeSelect:C,...A}=E,P=usePopperScope(C),O=useSelectContext(ARROW_NAME,C),z=useSelectContentContext(ARROW_NAME,C);return O.open&&z.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...P,...A,ref:_}):null});SelectArrow.displayName=ARROW_NAME;var BUBBLE_INPUT_NAME="SelectBubbleInput",SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:E,value:_,...C},A)=>{const P=reactExports.useRef(null),O=useComposedRefs(A,P),z=usePrevious(_);return reactExports.useEffect(()=>{const I=P.current;if(!I)return;const B=window.HTMLSelectElement.prototype,G=Object.getOwnPropertyDescriptor(B,"value").set;if(z!==_&&G){const F=new Event("change",{bubbles:!0});G.call(I,_),I.dispatchEvent(F)}},[z,_]),jsxRuntimeExports.jsx(Primitive$3.select,{...C,style:{...VISUALLY_HIDDEN_STYLES,...C.style},ref:O,defaultValue:_})});SelectBubbleInput.displayName=BUBBLE_INPUT_NAME;function shouldShowPlaceholder(E){return E===""||E===void 0}function useTypeaheadSearch(E){const _=useCallbackRef$1(E),C=reactExports.useRef(""),A=reactExports.useRef(0),P=reactExports.useCallback(z=>{const I=C.current+z;_(I),(function B(U){C.current=U,window.clearTimeout(A.current),U!==""&&(A.current=window.setTimeout(()=>B(""),1e3))})(I)},[_]),O=reactExports.useCallback(()=>{C.current="",window.clearTimeout(A.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(A.current),[]),[C,P,O]}function findNextItem(E,_,C){const P=_.length>1&&Array.from(_).every(U=>U===_[0])?_[0]:_,O=C?E.indexOf(C):-1;let z=wrapArray(E,Math.max(O,0));P.length===1&&(z=z.filter(U=>U!==C));const B=z.find(U=>U.textValue.toLowerCase().startsWith(P.toLowerCase()));return B!==C?B:void 0}function wrapArray(E,_){return E.map((C,A)=>E[(_+A)%E.length])}var Root2=Select$1,Trigger=SelectTrigger$1,Value=SelectValue$1,Icon=SelectIcon,Portal=SelectPortal,Content2=SelectContent$1,Viewport=SelectViewport,Label=SelectLabel$1,Item=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1,Separator=SelectSeparator$1;const Select=Root2,SelectValue=Value,SelectTrigger=reactExports.forwardRef(({className:E,children:_,...C},A)=>jsxRuntimeExports.jsxs(Trigger,{ref:A,className:cn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",E),...C,children:[_,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));SelectTrigger.displayName=Trigger.displayName;const SelectScrollUpButton=reactExports.forwardRef(({className:E,..._},C)=>jsxRuntimeExports.jsx(ScrollUpButton,{ref:C,className:cn("flex cursor-default items-center justify-center py-1",E),..._,children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}));SelectScrollUpButton.displayName=ScrollUpButton.displayName;const SelectScrollDownButton=reactExports.forwardRef(({className:E,..._},C)=>jsxRuntimeExports.jsx(ScrollDownButton,{ref:C,className:cn("flex cursor-default items-center justify-center py-1",E),..._,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}));SelectScrollDownButton.displayName=ScrollDownButton.displayName;const SelectContent=reactExports.forwardRef(({className:E,children:_,position:C="popper",...A},P)=>jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsxs(Content2,{ref:P,className:cn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",C==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",E),position:C,...A,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport,{className:cn("p-1",C==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:_}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=Content2.displayName;const SelectLabel=reactExports.forwardRef(({className:E,..._},C)=>jsxRuntimeExports.jsx(Label,{ref:C,className:cn("py-1.5 pl-8 pr-2 text-sm font-semibold",E),..._}));SelectLabel.displayName=Label.displayName;const SelectItem=reactExports.forwardRef(({className:E,children:_,...C},A)=>jsxRuntimeExports.jsxs(Item,{ref:A,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",E),...C,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:_})]}));SelectItem.displayName=Item.displayName;const SelectSeparator=reactExports.forwardRef(({className:E,..._},C)=>jsxRuntimeExports.jsx(Separator,{ref:C,className:cn("-mx-1 my-1 h-px bg-muted",E),..._}));SelectSeparator.displayName=Separator.displayName;const AVAILABLE_PARAMS=[{path:"general.N_emt",label:"N_emt (EMT cell count)"},{path:"general.N_init",label:"N_init (Initial cells)"},{path:"general.curvature",label:"Curvature"},{path:"general.random_seed",label:"Random seed"},{path:"cell_prop.R_hard",label:"R_hard (Hard radius)"},{path:"cell_prop.R_soft",label:"R_soft (Soft radius)"},{path:"cell_prop.repulsion_stiffness",label:"Repulsion stiffness"},{path:"cell_types.emt.k_A",label:"EMT k_A (Apical spring)"},{path:"cell_types.emt.k_B",label:"EMT k_B (Basal spring)"},{path:"cell_types.emt.k_AA",label:"EMT k_AA (Apical-apical)"},{path:"cell_types.emt.k_S",label:"EMT k_S (Straightness)"},{path:"cell_types.emt.running_speed",label:"EMT Running speed"},{path:"cell_types.emt.emt_time_A.min",label:"EMT time_A min"},{path:"cell_types.emt.emt_time_A.max",label:"EMT time_A max"},{path:"cell_types.emt.emt_time_B.min",label:"EMT time_B min"},{path:"cell_types.emt.emt_time_B.max",label:"EMT time_B max"},{path:"cell_types.control.k_A",label:"Control k_A"},{path:"cell_types.control.k_B",label:"Control k_B"}];function ParameterRangeList({ranges:E,onChange:_,disabled:C}){const A=new Set(E.map(B=>B.path)),P=AVAILABLE_PARAMS.filter(B=>!A.has(B.path)),O=B=>{_([...E,{path:B,min:0,max:1,steps:3}])},z=B=>{_(E.filter((U,G)=>G!==B))},I=(B,U,G)=>{const F=[...E];U==="path"?F[B]={...F[B],[U]:G}:F[B]={...F[B],[U]:Number(G)},_(F)};return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Parameter Ranges"}),jsxRuntimeExports.jsxs(Select,{onValueChange:O,disabled:C||P.length===0,children:[jsxRuntimeExports.jsxs(SelectTrigger,{className:"w-[200px] h-8",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-1"}),jsxRuntimeExports.jsx(SelectValue,{placeholder:"Add parameter"})]}),jsxRuntimeExports.jsx(SelectContent,{children:P.map(B=>jsxRuntimeExports.jsx(SelectItem,{value:B.path,children:B.label},B.path))})]})]}),E.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground py-4 text-center",children:"No parameter ranges defined. Add parameters to sweep."}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:E.map((B,U)=>{const G=AVAILABLE_PARAMS.find(F=>F.path===B.path);return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-md bg-muted/50",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium flex-1 truncate",title:B.path,children:G?.label??B.path}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Min:"}),jsxRuntimeExports.jsx(Input,{type:"number",value:B.min,onChange:F=>I(U,"min",F.target.value),disabled:C,className:"w-16 h-7 text-xs",step:"any"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Max:"}),jsxRuntimeExports.jsx(Input,{type:"number",value:B.max,onChange:F=>I(U,"max",F.target.value),disabled:C,className:"w-16 h-7 text-xs",step:"any"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Steps:"}),jsxRuntimeExports.jsx(Input,{type:"number",value:B.steps,onChange:F=>I(U,"steps",F.target.value),disabled:C,className:"w-14 h-7 text-xs",min:1})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>z(U),disabled:C,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]},B.path)})})]})}function TimeSampleConfig({config:E,onChange:_,disabled:C}){const A=(O,z)=>{_({...E,[O]:parseFloat(z)||0})},P=Math.max(0,Math.floor((E.end-E.start)/E.step)+1);return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Time Samples"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"time-start",className:"text-xs text-muted-foreground",children:"Start (h)"}),jsxRuntimeExports.jsx(Input,{id:"time-start",type:"number",value:E.start,onChange:O=>A("start",O.target.value),disabled:C,className:"h-8",min:0,step:"any"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"time-end",className:"text-xs text-muted-foreground",children:"End (h)"}),jsxRuntimeExports.jsx(Input,{id:"time-end",type:"number",value:E.end,onChange:O=>A("end",O.target.value),disabled:C,className:"h-8",min:0,step:"any"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"time-step",className:"text-xs text-muted-foreground",children:"Step (h)"}),jsxRuntimeExports.jsx(Input,{id:"time-step",type:"number",value:E.step,onChange:O=>A("step",O.target.value),disabled:C,className:"h-8",min:.1,step:"any"})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[P," time point",P!==1?"s":"",": ",E.start,"h",P>1&&`  ${E.end}h`]})]})}function StatisticSelector({selected:E,onChange:_,disabled:C}){const A=new Set(E),P=(I,B)=>{_(B?[...E,I]:E.filter(U=>U!==I))},O=()=>{_(AVAILABLE_STATISTICS.map(I=>I.id))},z=()=>{_([])};return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Statistics to Compute"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:O,disabled:C,className:"text-xs text-primary hover:underline disabled:opacity-50",children:"Select All"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"|"}),jsxRuntimeExports.jsx("button",{onClick:z,disabled:C,className:"text-xs text-primary hover:underline disabled:opacity-50",children:"Clear"})]})]}),jsxRuntimeExports.jsx(ScrollArea,{className:"h-[200px] border rounded-md p-3",children:jsxRuntimeExports.jsx("div",{className:"space-y-2",children:AVAILABLE_STATISTICS.map(I=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:I.id,checked:A.has(I.id),onCheckedChange:B=>P(I.id,B===!0),disabled:C}),jsxRuntimeExports.jsxs("div",{className:"grid gap-0.5 leading-none",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:I.id,className:"text-sm font-normal cursor-pointer",children:I.label}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:I.description})]})]},I.id))})}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.length," of ",AVAILABLE_STATISTICS.length," selected"]})]})}function ResultsTable({columns:E,rows:_}){return E.length===0||_.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No results to display. Run batch or compute statistics."}):jsxRuntimeExports.jsx(ScrollArea,{className:"h-[300px] border rounded-md",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"sticky top-0 bg-muted",children:jsxRuntimeExports.jsx("tr",{children:E.map((C,A)=>jsxRuntimeExports.jsx("th",{className:"text-left px-3 py-2 font-medium border-b whitespace-nowrap",children:C},A))})}),jsxRuntimeExports.jsx("tbody",{children:_.map((C,A)=>jsxRuntimeExports.jsx("tr",{className:"border-b last:border-0 hover:bg-muted/50",children:C.map((P,O)=>jsxRuntimeExports.jsx("td",{className:"px-3 py-1.5 whitespace-nowrap font-mono text-xs",children:typeof P=="number"?P.toFixed(4):P},O))},A))})]})})}function BatchTab({baseParams:E}){const[_,C]=reactExports.useState([]),[A,P]=reactExports.useState({start:0,end:48,step:12}),[O,z]=reactExports.useState(1),[I,B]=reactExports.useState(null),[U,G]=reactExports.useState(null),[F,q]=reactExports.useState(!1),Y=reactExports.useRef(!1),[W,Q]=reactExports.useState(["n_cells_total","n_cells_emt","avg_y_all","avg_y_emt"]),[J,ee]=reactExports.useState("time_series"),[ne,se]=reactExports.useState([]),[ie,fe]=reactExports.useState([]),me=reactExports.useRef(null),le=computeTotalRuns(_,O),te=getTimeSamples(A),ae=le*te.length,ue=reactExports.useCallback(()=>{q(!0),Y.current=!1,setTimeout(()=>{try{const de=runBatch(E,{parameter_ranges:_,time_samples:A,seeds_per_config:O,sampling_mode:"grid"},{onProgress:ye=>{Y.current||G(ye)}});Y.current||(B(de),se([]),fe([]))}catch(de){console.error("Batch run failed:",de),alert("Batch run failed. Check console for details.")}finally{q(!1),G(null)}},50)},[E,_,A,O]),xe=reactExports.useCallback(()=>{Y.current=!0},[]),Ae=async de=>{const ye=de.target.files?.[0];if(ye){try{const we=await readFileAsText(ye),ze=csvToBatchSnapshots(we),ce=createBatchDataFromSnapshots(ze);B(ce),se([]),fe([])}catch(we){console.error("Failed to load batch CSV:",we),alert("Failed to load batch CSV. Check console for details.")}me.current&&(me.current.value="")}},he=()=>{if(!I)return;const de=batchSnapshotsToCSV(I.snapshots);downloadCSV(de,"batch_snapshots.csv")},Se=()=>{if(!I||W.length===0)return;const de=new Set;for(const be of I.snapshots)for(const ve of Object.keys(be.sampled_params))de.add(ve);const ye=Array.from(de).sort(),we=[...ye,"seed","time_h",...W];let ze;if(J==="terminal"){const be=new Map;for(const ve of I.snapshots){const je=`${ve.run_index}-${ve.seed}`,$e=be.get(je);(!$e||ve.time_h>$e.time_h)&&be.set(je,ve)}ze=Array.from(be.values())}else ze=I.snapshots;const ce=[];for(const be of ze){const ve=computeStatistics(be,W),je=[...ye.map($e=>be.sampled_params[$e]??""),be.seed,be.time_h,...W.map($e=>ve[$e]??0)];ce.push(je)}se(we),fe(ce)},Pe=()=>{if(ne.length===0||ie.length===0)return;const de=statisticsToCSV(ne,ie);downloadCSV(de,"batch_statistics.csv")},oe=U?U.current_run/U.total_runs*100:0;return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Run New Batch"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Base parameters from Single Simulation tab will be used."}),jsxRuntimeExports.jsx(ParameterRangeList,{ranges:_,onChange:C,disabled:F}),jsxRuntimeExports.jsx(Separator$1,{}),jsxRuntimeExports.jsx(TimeSampleConfig,{config:A,onChange:P,disabled:F}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"seeds",className:"text-sm",children:"Seeds per configuration"}),jsxRuntimeExports.jsx(Input,{id:"seeds",type:"number",value:O,onChange:de=>z(Math.max(1,parseInt(de.target.value)||1)),disabled:F,className:"w-24 h-8",min:1})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total: ",le," run",le!==1?"s":"","  ",te.length," time point",te.length!==1?"s":""," = ",ae," snapshot",ae!==1?"s":""]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:F?jsxRuntimeExports.jsxs(Button,{onClick:xe,variant:"destructive",size:"sm",children:[jsxRuntimeExports.jsx(Square,{className:"h-4 w-4 mr-1"}),"Stop"]}):jsxRuntimeExports.jsxs(Button,{onClick:ue,size:"sm",disabled:_.length===0&&O<=1,children:[jsxRuntimeExports.jsx(Play,{className:"h-4 w-4 mr-1"}),"Run Batch"]})}),F&&U&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Progress,{value:oe,className:"h-2"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[U.current_run," / ",U.total_runs," runs"]})]})]})]}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"pt-4",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx("input",{ref:me,type:"file",accept:".csv",onChange:Ae,className:"hidden"}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>me.current?.click(),disabled:F,children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-1"}),"Load Batch CSV"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:he,disabled:!I||F,children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-1"}),"Save Batch CSV"]}),I&&jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:[I.snapshots.length," snapshots loaded"]})]})})}),I&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Compute Statistics"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx(StatisticSelector,{selected:W,onChange:Q,disabled:F}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm",children:"Output:"}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"outputMode",checked:J==="time_series",onChange:()=>ee("time_series"),disabled:F}),"Time Series"]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"outputMode",checked:J==="terminal",onChange:()=>ee("terminal"),disabled:F}),"Terminal Only"]})]}),jsxRuntimeExports.jsx(Button,{onClick:Se,size:"sm",disabled:W.length===0||F,children:"Compute"})]})]}),ie.length>0&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"pb-3 flex-row items-center justify-between",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Results"}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:Pe,children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"h-4 w-4 mr-1"}),"Export CSV"]})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(ResultsTable,{columns:ne,rows:ie}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[ie.length," row",ie.length!==1?"s":""]})]})]})]})}function App(){const[E,_]=reactExports.useState(DEFAULT_PARAMS);return jsxRuntimeExports.jsx(AppLayout,{children:jsxRuntimeExports.jsxs(Tabs,{defaultValue:"single",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"mb-4",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"single",children:"Single Simulation"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"batch",children:"Batch Simulations"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"single",children:jsxRuntimeExports.jsx(SingleSimulationTab,{params:E,onParamsChange:_})}),jsxRuntimeExports.jsx(TabsContent,{value:"batch",children:jsxRuntimeExports.jsx(BatchTab,{baseParams:E})})]})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{RenderGroup as $,AbstractRenderer as A,BufferUsage as B,Container as C,DOMAdapter as D,ExtensionType as E,TexturePool as F,GpuProgram as G,FilterEffect as H,Sprite as I,getAttributeInfoFromFormat as J,unsafeEvalSupported as K,GlobalResourceRegistry as L,Matrix as M,uid as N,Rectangle as O,Point as P,SystemRunner as Q,RendererType as R,Shader as S,Ticker as T,UPDATE_PRIORITY as U,multiplyColors as V,UPDATE_VISIBLE as W,UPDATE_COLOR as X,UPDATE_BLEND as Y,TextureStyle as Z,Color as _,GlProgram as a,getLocalBounds as a0,VERSION as a1,deprecation as a2,v8_0_0 as a3,RendererInitHook as a4,Geometry as a5,checkMaxIfStatementsInShader as a6,compileHighShaderGlProgram as a7,colorBitGl as a8,generateTextureBatchBitGl as a9,roundPixelsBitGl as aa,getBatchSamplersUniformGroup as ab,fontStringFromTextStyle as ac,CanvasTextMetrics as ad,ImageSource as ae,getCanvasFillStyle as af,TextStyle as ag,lru as ah,Cache as ai,BatchableGraphics as aj,getAdjustedBlendModeBlend as ak,ViewableBuffer as al,Graphics as am,updateQuadBounds as an,CanvasTextGenerator as ao,GraphicsContextSystem as ap,EventEmitter as b,STENCIL_MODES as c,Buffer$2 as d,extensions as e,fastCopy as f,getTextureBatchBindGroup as g,BindGroup as h,createIdFromString as i,CLEAR as j,CanvasSource as k,TextureSource as l,UniformGroup as m,CanvasPool as n,compileHighShaderGpuProgram as o,colorBit as p,generateTextureBatchBit as q,removeItems as r,roundPixelsBit as s,Texture as t,TextureMatrix as u,DefaultBatcher as v,warn as w,BigPool as x,getGlobalBounds as y,Bounds as z};
//# sourceMappingURL=index-CjjsmHcF.js.map
